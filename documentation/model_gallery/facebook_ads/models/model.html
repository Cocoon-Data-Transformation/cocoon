<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cocoon - Data Modeling</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-sql.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-yaml.min.js"></script>
</head>
<style>
    /* for list-group-item highlight */
    .list-group-item.active {
        background-color: #464646;
        border-color: #f8f9fa;
        color: #ffffff;
    }

    .list-group-item.active:hover {
        background-color: #bebebe;
        border-color: #e9ecef;
        color: #ffffff;
    }

    /* for nav-link highlight */
    .nav-link {
        color: #6c757d !important;
        /* Gray color for inactive links */
    }

    .nav-link.active {
        color: #000 !important;
        /* Black color for active link */
    }

table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
    font-size: 0.9em;
    border-radius: 4px;
    overflow: hidden;
}

th,
td {
    padding: 3px 4px;
    text-align: left;
    border-bottom: 1px solid #dddddd;
    border-right: 1px solid #dddddd;
}

thead tr {
    background-color: #464646;
    /* Changed color for header */
    color: #ffffff;
    /* Changed text color for better contrast */
    text-align: left;
    font-weight: bold;
    font-size: 12px;
}

th {
    top: 0;
    background-color: #464646;
    color: #ffffff;
}

tbody tr {
    background-color: #f9f9f9;
    /* Lighter color for content rows */
    font-size: 10px
}
.code_container {
    max-height: calc(60vh);
    overflow: auto;
}

.code_container pre[class*="language-"] {
    border-radius: 4px;
    padding: 1em;
    margin: .5em 0;
    overflow: auto;
    font-size: 12px;
}


.tree li {
    list-style-type: none;
    margin: 10px 0 10px 10px;
    position: relative;
}
.tree li::before {
    content: "";
    position: absolute;
    top: -10px;
    left: -20px;
    border-left: 1px solid #ccc;
    border-bottom: 1px solid #ccc;
    width: 20px;
    height: 15px;
}
.tree li::after {
    position: absolute;
    content: "";
    top: 5px;
    left: -20px;
    border-left: 1px solid #ccc;
    border-top: 1px solid #ccc;
    width: 20px;
    height: 100%;
}
.tree li:last-child::after {
    display: none;
}
.tree li:last-child:before {
    border-radius: 0 0 0 5px;
}
ul.tree > li:first-child::before {
    display: none;
}
ul.tree > li:first-child::after {
    border-radius: 5px 0 0 0;
}
.tree li span {
    border: 1px solid #ccc;
    padding: 5px 10px;
    text-decoration: none;
    color: #666;
    font-family: arial, verdana, tahoma;
    font-size: 11px;
    display: inline-block;
    border-radius: 5px;
    transition: all 0.2s;
    width: 400px;
    box-sizing: border-box;
    white-space: normal;
    word-wrap: break-word;
}

.tree li span:hover, .tree li span:hover+ul li span {
    background: #c8e4f8;
    color: #000;
    border: 1px solid #94a0b4;
}
.tree li span:hover+ul li::after, 
.tree li span:hover+ul li::before, 
.tree li span:hover+ul::before, 
.tree li span:hover+ul ul::before {
    border-color: #94a0b4;
}

/* Collapsible functionality */
.tree li input[type="checkbox"] {
    display: none;
}
.tree li input[type="checkbox"] ~ ul {
    display: none;
}
.tree li input[type="checkbox"]:checked ~ ul {
    display: block;
}
.tree li label {
    cursor: pointer;
}

/* Color indicator for expandable items */
.tree li label span {
    background-color: #e6f3ff;
    border-color: #b8daff;
    color: #004085;
}
.tree li label span:hover {
    background-color: #cce5ff;
    border-color: #b8daff;
    color: #002752;
}

/* Styles for <b> tags */
.tree li span b {
    font-size: 13px;
    display: block;
    margin-bottom: 3px;
}

/* Styles for <em> tags in labels */
.tree li label span em {
    color: #666;
    font-style: italic;
    font-size: 10px;
    display: block;
    max-width: 200px;
}

/* Styles for <em> tags in regular list items */
.tree li:not(label) span em {
    color: #888;
    font-style: normal;
    font-size: 10px;
    display: inline;
}


    .code_container {
        max-height: calc(60vh);
        overflow: auto;
    }

    .code_container pre[class*="language-"] {
        border-radius: 4px;
        padding: 1em;
        margin: .5em 0;
        overflow: auto;
        font-size: 12px;
    }


    .carousel-indicators li {
        background-color: #808080;
        /* Gray for inactive indicators */
    }

    .carousel-indicators .active {
        background-color: #000000;
        /* Black for active indicator */
    }
</style>

<body>


    <div class="container mt-4">
        <!-- New row for the header -->
        <div class="row mb-4">
            <div class="col-md-6">
                <a href="https://github.com/Cocoon-Data-Transformation/cocoon" target="_blank"
                    class="text-decoration-none text-dark">
                    <div class="d-flex align-items-center">
                        <img src="https://raw.githubusercontent.com/Cocoon-Data-Transformation/cocoon/main/images/cocoon_icon.png"
                            alt="cocoon icon" width="40" class="mr-3">
                        <div>
                            <h4 class="mb-0">Cocoon Catalog</h4>
                            <small class="mb-0">Verified by human, RAG by LLMs</small>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-md-6 d-flex align-items-center justify-content-end">
                <h2>project</h2>
            </div>
        </div>


        <div class="row">
            <div class="col-md-9">
                <div class="card">
                    <div class="card-body">
                        <div class="tab-content">
                            
        <div class="tab-pane fade show active" id="cocoon_steps_source">
            <nav class="navbar navbar-light bg-light">
                <span class="navbar-brand mb-0">
                    <h5 class="card-title mb-0">Source</h5>
                </span>
                
    <ul class="nav">
        <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle active" href="#"
                id="navbarDropdownMenuLink_source" data-toggle="dropdown" aria-haspopup="true"
                aria-expanded="false">
                Select Source Table
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink_source">
    <a class="dropdown-item active" data-toggle="tab" href="#cocoon_source_facebook_ads_account_history_data">facebook_ads_account_history_data</a><a class="dropdown-item " data-toggle="tab" href="#cocoon_source_facebook_ads_ad_history_data">facebook_ads_ad_history_data</a><a class="dropdown-item " data-toggle="tab" href="#cocoon_source_facebook_ads_ad_set_history_data">facebook_ads_ad_set_history_data</a><a class="dropdown-item " data-toggle="tab" href="#cocoon_source_facebook_ads_basic_ad_data">facebook_ads_basic_ad_data</a><a class="dropdown-item " data-toggle="tab" href="#cocoon_source_facebook_ads_campaign_history_data">facebook_ads_campaign_history_data</a><a class="dropdown-item " data-toggle="tab" href="#cocoon_source_facebook_ads_creative_history_data">facebook_ads_creative_history_data</a>
            </div>
        </li>
    </ul>
    
            </nav>
            <div class="container">
                <small class="text-muted">We display the source tables from the data warehouses to model.</small>
            </div>
            <hr>
            <div class="scroll-container overflow-auto">
                <div class="tab-content mt-3">
                    
        <div class="tab-pane fade show active" id="cocoon_source_facebook_ads_account_history_data">
            <p class="subtitle text-center mb-3">facebook_ads_account_history_data</p>
            <p class="text-center mb-0">Table Preview<small class="text-muted">(schema only)</small></p><div class="code_container mb-4 mx-4"><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>name</th>
      <th>_fivetran_synced</th>
      <th>account_status</th>
      <th>business_country_code</th>
      <th>created_time</th>
      <th>currency</th>
      <th>timezone_name</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table></div>
        </div>
        
        <div class="tab-pane fade " id="cocoon_source_facebook_ads_ad_history_data">
            <p class="subtitle text-center mb-3">facebook_ads_ad_history_data</p>
            <p class="text-center mb-0">Table Preview<small class="text-muted">(schema only)</small></p><div class="code_container mb-4 mx-4"><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>account_id</th>
      <th>ad_set_id</th>
      <th>campaign_id</th>
      <th>creative_id</th>
      <th>name</th>
      <th>_fivetran_synced</th>
      <th>updated_time</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table></div>
        </div>
        
        <div class="tab-pane fade " id="cocoon_source_facebook_ads_ad_set_history_data">
            <p class="subtitle text-center mb-3">facebook_ads_ad_set_history_data</p>
            <p class="text-center mb-0">Table Preview<small class="text-muted">(schema only)</small></p><div class="code_container mb-4 mx-4"><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>account_id</th>
      <th>campaign_id</th>
      <th>name</th>
      <th>updated_time</th>
      <th>start_at</th>
      <th>end_at</th>
      <th>bid_strategy</th>
      <th>daily_budget</th>
      <th>budget_remaining</th>
      <th>status</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table></div>
        </div>
        
        <div class="tab-pane fade " id="cocoon_source_facebook_ads_basic_ad_data">
            <p class="subtitle text-center mb-3">facebook_ads_basic_ad_data</p>
            <p class="text-center mb-0">Table Preview<small class="text-muted">(schema only)</small></p><div class="code_container mb-4 mx-4"><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ad_id</th>
      <th>ad_name</th>
      <th>adset_name</th>
      <th>date_</th>
      <th>account_id</th>
      <th>impressions</th>
      <th>inline_link_clicks</th>
      <th>spend</th>
      <th>reach</th>
      <th>frequency</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table></div>
        </div>
        
        <div class="tab-pane fade " id="cocoon_source_facebook_ads_campaign_history_data">
            <p class="subtitle text-center mb-3">facebook_ads_campaign_history_data</p>
            <p class="text-center mb-0">Table Preview<small class="text-muted">(schema only)</small></p><div class="code_container mb-4 mx-4"><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>account_id</th>
      <th>name</th>
      <th>created_time</th>
      <th>start_time</th>
      <th>stop_time</th>
      <th>status</th>
      <th>daily_budget</th>
      <th>lifetime_budget</th>
      <th>budget_remaining</th>
      <th>_fivetran_synced</th>
      <th>updated_time</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table></div>
        </div>
        
        <div class="tab-pane fade " id="cocoon_source_facebook_ads_creative_history_data">
            <p class="subtitle text-center mb-3">facebook_ads_creative_history_data</p>
            <p class="text-center mb-0">Table Preview<small class="text-muted">(schema only)</small></p><div class="code_container mb-4 mx-4"><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>page_link</th>
      <th>template_page_link</th>
      <th>id</th>
      <th>account_id</th>
      <th>name</th>
      <th>url_tags</th>
      <th>_fivetran_synced</th>
      <th>asset_feed_spec_link_urls</th>
      <th>object_story_link_data_child_attachments</th>
      <th>object_story_link_data_caption</th>
      <th>object_story_link_data_description</th>
      <th>object_story_link_data_link</th>
      <th>object_story_link_data_message</th>
      <th>template_app_link_spec_ios</th>
      <th>_fivetran_id</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table></div>
        </div>
        
                </div>
            </div>
        </div>
        
        <div class="tab-pane fade " id="cocoon_steps_stage">
            <nav class="navbar navbar-light bg-light">
                <span class="navbar-brand mb-0">
                    <h5 class="card-title mb-0">Stage</h5>
                </span>
                
    <ul class="nav">
        <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle active" href="#"
                id="navbarDropdownMenuLink_stage" data-toggle="dropdown" aria-haspopup="true"
                aria-expanded="false">
                Select Stage Table
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink_stage">
    <a class="dropdown-item active" data-toggle="tab" href="#cocoon_stage_stg_facebook_ads_ad_set_history_data">stg_facebook_ads_ad_set_history_data</a><a class="dropdown-item " data-toggle="tab" href="#cocoon_stage_stg_facebook_ads_account_history_data">stg_facebook_ads_account_history_data</a><a class="dropdown-item " data-toggle="tab" href="#cocoon_stage_stg_facebook_ads_creative_history_data">stg_facebook_ads_creative_history_data</a><a class="dropdown-item " data-toggle="tab" href="#cocoon_stage_stg_facebook_ads_ad_history_data">stg_facebook_ads_ad_history_data</a><a class="dropdown-item " data-toggle="tab" href="#cocoon_stage_stg_facebook_ads_campaign_history_data">stg_facebook_ads_campaign_history_data</a><a class="dropdown-item " data-toggle="tab" href="#cocoon_stage_stg_facebook_ads_basic_ad_data">stg_facebook_ads_basic_ad_data</a>
            </div>
        </li>
    </ul>
    
            </nav>
            <div class="container">
                <small class="text-muted">We display the stage tables, their SQL transformations, and their configurations.</small>
            </div>
            <hr>
            <div class="scroll-container overflow-auto">
                <div class="tab-content mt-3">
                    
        <div class="tab-pane fade show active" id="cocoon_stage_stg_facebook_ads_ad_set_history_data">
            <p class="subtitle text-center mb-3">stg_facebook_ads_ad_set_history_data</p>
            
<p class="text-center mb-0">Table Preview <small class="text-muted">(schema only)</small></p>
<div class="code_container mb-4 mx-4"><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ad_set_name</th>
      <th>bid_strategy</th>
      <th>daily_budget_cents</th>
      <th>remaining_budget_cents</th>
      <th>status</th>
      <th>account_id</th>
      <th>ad_set_id</th>
      <th>campaign_id</th>
      <th>end_date</th>
      <th>last_updated</th>
      <th>start_date</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table></div>

<p class="text-center">stg_facebook_ads_ad_set_history_data.sql <small class="text-muted">(clean the table)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-sql">-- COCOON BLOCK START: PLEASE DO NOT MODIFY THIS BLOCK FOR SELF-MAINTENANCE
-- Generated at 2024-08-25 15:54:57.322010+00:00
WITH 
"facebook_ads_ad_set_history_data_renamed" AS (
    -- Rename: Renaming columns
    -- id -> ad_set_id
    -- name -> ad_set_name
    -- updated_time -> last_updated
    -- start_at -> start_date
    -- end_at -> end_date
    -- daily_budget -> daily_budget_cents
    -- budget_remaining -> remaining_budget_cents
    SELECT 
        "id" AS "ad_set_id",
        "account_id",
        "campaign_id",
        "name" AS "ad_set_name",
        "updated_time" AS "last_updated",
        "start_at" AS "start_date",
        "end_at" AS "end_date",
        "bid_strategy",
        "daily_budget" AS "daily_budget_cents",
        "budget_remaining" AS "remaining_budget_cents",
        "status"
    FROM "memory"."main"."facebook_ads_ad_set_history_data"
),

"facebook_ads_ad_set_history_data_renamed_casted" AS (
    -- Column Type Casting: 
    -- account_id: from INT to VARCHAR
    -- ad_set_id: from INT to VARCHAR
    -- campaign_id: from INT to VARCHAR
    -- end_date: from VARCHAR to TIMESTAMP
    -- last_updated: from VARCHAR to TIMESTAMP
    -- start_date: from VARCHAR to TIMESTAMP
    SELECT
        "ad_set_name",
        "bid_strategy",
        "daily_budget_cents",
        "remaining_budget_cents",
        "status",
        CAST("account_id" AS VARCHAR) 
        AS "account_id",
        CAST("ad_set_id" AS VARCHAR) 
        AS "ad_set_id",
        CAST("campaign_id" AS VARCHAR) 
        AS "campaign_id",
        CAST("end_date" AS TIMESTAMP) 
        AS "end_date",
        CAST("last_updated" AS TIMESTAMP) 
        AS "last_updated",
        CAST("start_date" AS TIMESTAMP) 
        AS "start_date"
    FROM "facebook_ads_ad_set_history_data_renamed"
)

-- COCOON BLOCK END
SELECT *
FROM "facebook_ads_ad_set_history_data_renamed_casted"</code></pre>
</div>
<p class="text-center">stg_facebook_ads_ad_set_history_data.yml <small class="text-muted"> (Document the table)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-yaml">version: 2
models:
- name: stg_facebook_ads_ad_set_history_data
  description: The table is about Facebook ad set history data. It contains information
    on ad sets, including their IDs, associated account and campaign IDs, names, update
    times, start and end dates, bid strategies, daily budgets, remaining budgets,
    and statuses. The table shows changes in ad set details over time, with multiple
    entries for the same ad set ID reflecting updates to its configuration.
  columns:
  - name: ad_set_name
    description: Encrypted name of the ad set
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: bid_strategy
    description: Bidding strategy used for the ad set
    tests:
    - not_null
    - accepted_values:
        values:
        - LOWEST_COST_WITHOUT_CAP
        - LOWEST_COST_WITH_BID_CAP
        - COST_CAP
        - LOWEST_COST_WITH_MIN_ROAS
    cocoon_meta:
      future_accepted_values:
      - TARGET_COST
      - BID_CAP
      - AUTOBID
      data_type:
        current_data_type: VARCHAR
  - name: daily_budget_cents
    description: Daily budget allocated for the ad set in cents
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: remaining_budget_cents
    description: Remaining budget for the ad set in cents
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: status
    description: Current status of the ad set
    tests:
    - not_null
    - accepted_values:
        values:
        - ACTIVE
    cocoon_meta:
      future_accepted_values:
      - PAUSED
      - ARCHIVED
      - DELETED
      - PENDING_REVIEW
      - DISAPPROVED
      - PREAPPROVED
      - PENDING_BILLING_INFO
      - CAMPAIGN_PAUSED
      - ADGROUP_PAUSED
      - PENDING_BUDGET_APPROVAL
      data_type:
        current_data_type: VARCHAR
  - name: account_id
    description: Facebook account ID associated with the ad set
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: ad_set_id
    description: Unique identifier for the ad set
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: campaign_id
    description: Campaign ID to which the ad set belongs
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: end_date
    description: End date and time of the ad set
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: TIMESTAMP
  - name: last_updated
    description: Timestamp of when the ad set was last updated
    tests:
    - not_null
    - unique
    cocoon_meta:
      unique_reason: This column represents the timestamp of when the ad set was last
        updated. For this table, each row represents a specific state of an ad set
        at a particular point in time. The last_updated column is unique across rows
        as it captures the exact moment of each update or change to an ad set.
      data_type:
        current_data_type: TIMESTAMP
  - name: start_date
    description: Start date and time of the ad set
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: TIMESTAMP
  tests: []
</code></pre>
</div>

        </div>
        
        <div class="tab-pane fade " id="cocoon_stage_stg_facebook_ads_account_history_data">
            <p class="subtitle text-center mb-3">stg_facebook_ads_account_history_data</p>
            
<p class="text-center mb-0">Table Preview <small class="text-muted">(schema only)</small></p>
<div class="code_container mb-4 mx-4"><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>encrypted_account_name</th>
      <th>account_status</th>
      <th>country_code</th>
      <th>account_currency</th>
      <th>account_timezone</th>
      <th>account_id</th>
      <th>creation_timestamp</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table></div>

<p class="text-center">stg_facebook_ads_account_history_data.sql <small class="text-muted">(clean the table)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-sql">-- COCOON BLOCK START: PLEASE DO NOT MODIFY THIS BLOCK FOR SELF-MAINTENANCE
-- Generated at 2024-08-25 15:52:41.052926+00:00
WITH 
"facebook_ads_account_history_data_projected" AS (
    -- Projection: Selecting 7 out of 8 columns
    -- Columns projected out: ['id', 'name', '_fivetran_synced', 'account_status', 'business_country_code', 'created_time', 'currency', 'timezone_name']
    SELECT 
        "id",
        "name",
        "account_status",
        "business_country_code",
        "created_time",
        "currency",
        "timezone_name"
    FROM "memory"."main"."facebook_ads_account_history_data"
),

"facebook_ads_account_history_data_projected_renamed" AS (
    -- Rename: Renaming columns
    -- id -> account_id
    -- name -> encrypted_account_name
    -- business_country_code -> country_code
    -- created_time -> creation_timestamp
    -- currency -> account_currency
    -- timezone_name -> account_timezone
    SELECT 
        "id" AS "account_id",
        "name" AS "encrypted_account_name",
        "account_status",
        "business_country_code" AS "country_code",
        "created_time" AS "creation_timestamp",
        "currency" AS "account_currency",
        "timezone_name" AS "account_timezone"
    FROM "facebook_ads_account_history_data_projected"
),

"facebook_ads_account_history_data_projected_renamed_dedup" AS (
    -- Deduplication: Removed 7 duplicated rows
    SELECT DISTINCT *
    FROM "facebook_ads_account_history_data_projected_renamed"
),

"facebook_ads_account_history_data_projected_renamed_dedup_casted" AS (
    -- Column Type Casting: 
    -- account_id: from INT to VARCHAR
    -- creation_timestamp: from VARCHAR to TIMESTAMP
    SELECT
        "encrypted_account_name",
        "account_status",
        "country_code",
        "account_currency",
        "account_timezone",
        CAST("account_id" AS VARCHAR) 
        AS "account_id",
        CAST("creation_timestamp" AS TIMESTAMP) 
        AS "creation_timestamp"
    FROM "facebook_ads_account_history_data_projected_renamed_dedup"
)

-- COCOON BLOCK END
SELECT *
FROM "facebook_ads_account_history_data_projected_renamed_dedup_casted"</code></pre>
</div>
<p class="text-center">stg_facebook_ads_account_history_data.yml <small class="text-muted"> (Document the table)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-yaml">version: 2
models:
- name: stg_facebook_ads_account_history_data
  description: The table is about Facebook ad account history. It contains details
    of ad accounts including ID, name, status, country, creation time, currency, and
    timezone. Each row represents an account state at a specific time. Changes in
    account details over time can be tracked, such as status changes from "Active"
    to "Paused" or location/currency updates.
  columns:
  - name: encrypted_account_name
    description: Encrypted name of the ad account
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: account_status
    description: Current status of the ad account
    tests:
    - not_null
    - accepted_values:
        values:
        - Active
        - Paused
    cocoon_meta:
      future_accepted_values:
      - Disabled
      - Pending
      - Closed
      data_type:
        current_data_type: VARCHAR
  - name: country_code
    description: Two-letter country code of the business
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: account_currency
    description: Currency used for the ad account
    tests:
    - not_null
    - accepted_values:
        values:
        - USD
        - GBP
        - JPY
    cocoon_meta:
      future_accepted_values:
      - EUR
      - CAD
      - AUD
      - CHF
      - CNY
      - HKD
      - NZD
      - SEK
      - KRW
      - SGD
      - NOK
      - MXN
      - INR
      - RUB
      - ZAR
      - TRY
      - BRL
      - TWD
      - DKK
      - PLN
      - THB
      - IDR
      data_type:
        current_data_type: VARCHAR
  - name: account_timezone
    description: Timezone associated with the ad account
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: account_id
    description: Unique identifier for the ad account
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: creation_timestamp
    description: Timestamp when the account was created
    tests:
    - not_null
    - unique
    cocoon_meta:
      unique_reason: This column represents the timestamp when the account state was
        recorded or updated. For this table, each row represents an account state
        at a specific time. The creation_timestamp is unique across rows as it captures
        the exact moment of each account state change or creation.
      data_type:
        current_data_type: TIMESTAMP
  tests: []
</code></pre>
</div>

        </div>
        
        <div class="tab-pane fade " id="cocoon_stage_stg_facebook_ads_creative_history_data">
            <p class="subtitle text-center mb-3">stg_facebook_ads_creative_history_data</p>
            
<p class="text-center mb-0">Table Preview <small class="text-muted">(schema only)</small></p>
<div class="code_container mb-4 mx-4"><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>landing_page_url</th>
      <th>encoded_ad_name</th>
      <th>ad_caption</th>
      <th>ad_description</th>
      <th>ad_link</th>
      <th>ad_message</th>
      <th>fivetran_id</th>
      <th>account_id</th>
      <th>ad_attachments</th>
      <th>asset_feed_specs</th>
      <th>creative_id</th>
      <th>ios_app_link_specs</th>
      <th>template_page_link</th>
      <th>utm_parameters</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table></div>

<p class="text-center">stg_facebook_ads_creative_history_data.sql <small class="text-muted">(clean the table)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-sql">-- COCOON BLOCK START: PLEASE DO NOT MODIFY THIS BLOCK FOR SELF-MAINTENANCE
-- Generated at 2024-08-25 15:59:02.558135+00:00
WITH 
"facebook_ads_creative_history_data_projected" AS (
    -- Projection: Selecting 14 out of 15 columns
    -- Columns projected out: ['page_link', 'template_page_link', 'id', 'account_id', 'name', 'url_tags', '_fivetran_synced', 'asset_feed_spec_link_urls', 'object_story_link_data_child_attachments', 'object_story_link_data_caption', 'object_story_link_data_description', 'object_story_link_data_link', 'object_story_link_data_message', 'template_app_link_spec_ios', '_fivetran_id']
    SELECT 
        "page_link",
        "template_page_link",
        "id",
        "account_id",
        "name",
        "url_tags",
        "asset_feed_spec_link_urls",
        "object_story_link_data_child_attachments",
        "object_story_link_data_caption",
        "object_story_link_data_description",
        "object_story_link_data_link",
        "object_story_link_data_message",
        "template_app_link_spec_ios",
        "_fivetran_id"
    FROM "memory"."main"."facebook_ads_creative_history_data"
),

"facebook_ads_creative_history_data_projected_renamed" AS (
    -- Rename: Renaming columns
    -- page_link -> landing_page_url
    -- id -> creative_id
    -- name -> encoded_ad_name
    -- url_tags -> utm_parameters
    -- asset_feed_spec_link_urls -> asset_feed_specs
    -- object_story_link_data_child_attachments -> ad_attachments
    -- object_story_link_data_caption -> ad_caption
    -- object_story_link_data_description -> ad_description
    -- object_story_link_data_link -> ad_link
    -- object_story_link_data_message -> ad_message
    -- template_app_link_spec_ios -> ios_app_link_specs
    -- _fivetran_id -> fivetran_id
    SELECT 
        "page_link" AS "landing_page_url",
        "template_page_link",
        "id" AS "creative_id",
        "account_id",
        "name" AS "encoded_ad_name",
        "url_tags" AS "utm_parameters",
        "asset_feed_spec_link_urls" AS "asset_feed_specs",
        "object_story_link_data_child_attachments" AS "ad_attachments",
        "object_story_link_data_caption" AS "ad_caption",
        "object_story_link_data_description" AS "ad_description",
        "object_story_link_data_link" AS "ad_link",
        "object_story_link_data_message" AS "ad_message",
        "template_app_link_spec_ios" AS "ios_app_link_specs",
        "_fivetran_id" AS "fivetran_id"
    FROM "facebook_ads_creative_history_data_projected"
),

"facebook_ads_creative_history_data_projected_renamed_casted" AS (
    -- Column Type Casting: 
    -- account_id: from DECIMAL to VARCHAR
    -- ad_attachments: from VARCHAR to JSON
    -- asset_feed_specs: from VARCHAR to JSON
    -- creative_id: from INT to VARCHAR
    -- ios_app_link_specs: from VARCHAR to JSON
    -- template_page_link: from DECIMAL to VARCHAR
    -- utm_parameters: from VARCHAR to JSON
    SELECT
        "landing_page_url",
        "encoded_ad_name",
        "ad_caption",
        "ad_description",
        "ad_link",
        "ad_message",
        "fivetran_id",
        CAST("account_id" AS VARCHAR) 
        AS "account_id",
        CAST("ad_attachments" AS JSON) 
        AS "ad_attachments",
        CAST("asset_feed_specs" AS JSON) 
        AS "asset_feed_specs",
        CAST("creative_id" AS VARCHAR) 
        AS "creative_id",
        CAST("ios_app_link_specs" AS JSON) 
        AS "ios_app_link_specs",
        CAST("template_page_link" AS VARCHAR) 
        AS "template_page_link",
        CAST("utm_parameters" AS JSON) 
        AS "utm_parameters"
    FROM "facebook_ads_creative_history_data_projected_renamed"
)

-- COCOON BLOCK END
SELECT *
FROM "facebook_ads_creative_history_data_projected_renamed_casted"</code></pre>
</div>
<p class="text-center">stg_facebook_ads_creative_history_data.yml <small class="text-muted"> (Document the table)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-yaml">version: 2
models:
- name: stg_facebook_ads_creative_history_data
  description: The table contains details about Facebook ad creatives. It includes
    information such as page links, ad IDs, account IDs, names, URL tags, asset feed
    specifications, object story link data, and app link specifications. The data
    focuses on Fivetran's advertising campaigns, with details on UTM parameters, call-to-action
    buttons, and ad content descriptions. Each row represents a unique ad creative
    with its associated metadata and tracking information.
  columns:
  - name: landing_page_url
    description: Landing page URL for the ad
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: encoded_ad_name
    description: Encoded name or identifier for the ad
    tests:
    - not_null
    cocoon_meta:
      patterns:
      - regex: ^[A-Za-z0-9+/]{22}==|[A-Za-z0-9+/]{23}=$
        summary: Base64 encoded strings
      data_type:
        current_data_type: VARCHAR
  - name: ad_caption
    description: Caption for the ad link
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: ad_description
    description: Description of the ad content
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: ad_link
    description: Main link for the ad
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: ad_message
    description: Main message or copy for the ad
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: fivetran_id
    description: Fivetran's internal identifier
    tests:
    - not_null
    - unique
    cocoon_meta:
      unique_reason: This column is Fivetran's internal identifier. For this table,
        each row represents a unique ad creative. The fivetran_id appears to be unique
        across rows in the sample data, and its description suggests it's intended
        to be a unique identifier.
      patterns:
      - regex: ^[A-Za-z0-9+/]+={0,2}$
        summary: Base64-encoded strings
      data_type:
        current_data_type: VARCHAR
  - name: account_id
    description: Facebook account ID (empty in this data)
    cocoon_meta:
      missing_reason: Unknown
      data_type:
        current_data_type: VARCHAR
  - name: ad_attachments
    description: Details of ad attachments and call-to-action
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: JSON
  - name: asset_feed_specs
    description: Specifications for asset feed links
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: JSON
  - name: creative_id
    description: Unique identifier for the ad creative
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: ios_app_link_specs
    description: iOS app link specifications
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: JSON
  - name: template_page_link
    description: Template page link (empty in this data)
    cocoon_meta:
      missing_reason: Unknown
      data_type:
        current_data_type: VARCHAR
  - name: utm_parameters
    description: UTM parameters for tracking
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: JSON
  tests: []
</code></pre>
</div>

        </div>
        
        <div class="tab-pane fade " id="cocoon_stage_stg_facebook_ads_ad_history_data">
            <p class="subtitle text-center mb-3">stg_facebook_ads_ad_history_data</p>
            
<p class="text-center mb-0">Table Preview <small class="text-muted">(schema only)</small></p>
<div class="code_container mb-4 mx-4"><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ad_name</th>
      <th>account_id</th>
      <th>ad_id</th>
      <th>ad_set_id</th>
      <th>campaign_id</th>
      <th>creative_id</th>
      <th>last_updated</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table></div>

<p class="text-center">stg_facebook_ads_ad_history_data.sql <small class="text-muted">(clean the table)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-sql">-- COCOON BLOCK START: PLEASE DO NOT MODIFY THIS BLOCK FOR SELF-MAINTENANCE
-- Generated at 2024-08-25 15:53:35.459415+00:00
WITH 
"facebook_ads_ad_history_data_projected" AS (
    -- Projection: Selecting 7 out of 8 columns
    -- Columns projected out: ['id', 'account_id', 'ad_set_id', 'campaign_id', 'creative_id', 'name', '_fivetran_synced', 'updated_time']
    SELECT 
        "id",
        "account_id",
        "ad_set_id",
        "campaign_id",
        "creative_id",
        "name",
        "updated_time"
    FROM "memory"."main"."facebook_ads_ad_history_data"
),

"facebook_ads_ad_history_data_projected_renamed" AS (
    -- Rename: Renaming columns
    -- id -> ad_id
    -- name -> ad_name
    -- updated_time -> last_updated
    SELECT 
        "id" AS "ad_id",
        "account_id",
        "ad_set_id",
        "campaign_id",
        "creative_id",
        "name" AS "ad_name",
        "updated_time" AS "last_updated"
    FROM "facebook_ads_ad_history_data_projected"
),

"facebook_ads_ad_history_data_projected_renamed_casted" AS (
    -- Column Type Casting: 
    -- account_id: from INT to VARCHAR
    -- ad_id: from INT to VARCHAR
    -- ad_set_id: from INT to VARCHAR
    -- campaign_id: from INT to VARCHAR
    -- creative_id: from INT to VARCHAR
    -- last_updated: from VARCHAR to TIMESTAMP
    SELECT
        "ad_name",
        CAST("account_id" AS VARCHAR) 
        AS "account_id",
        CAST("ad_id" AS VARCHAR) 
        AS "ad_id",
        CAST("ad_set_id" AS VARCHAR) 
        AS "ad_set_id",
        CAST("campaign_id" AS VARCHAR) 
        AS "campaign_id",
        CAST("creative_id" AS VARCHAR) 
        AS "creative_id",
        CAST("last_updated" AS TIMESTAMP) 
        AS "last_updated"
    FROM "facebook_ads_ad_history_data_projected_renamed"
)

-- COCOON BLOCK END
SELECT *
FROM "facebook_ads_ad_history_data_projected_renamed_casted"</code></pre>
</div>
<p class="text-center">stg_facebook_ads_ad_history_data.yml <small class="text-muted"> (Document the table)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-yaml">version: 2
models:
- name: stg_facebook_ads_ad_history_data
  description: The table is about Facebook ad history data. It contains details of
    individual ads, including their unique identifiers (id), associated account, ad
    set, campaign, and creative IDs. Each entry also includes the ad name and the
    timestamp of when it was last updated. The table shows multiple entries for the
    same ad ID, suggesting it tracks changes or updates to ads over time.
  columns:
  - name: ad_name
    description: Name of the ad
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: account_id
    description: Facebook account identifier
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: ad_id
    description: Unique identifier for the ad
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: ad_set_id
    description: Identifier for the ad set
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: campaign_id
    description: Identifier for the campaign
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: creative_id
    description: Identifier for the ad creative
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: last_updated
    description: Timestamp of the last update
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: TIMESTAMP
  tests: []
</code></pre>
</div>

        </div>
        
        <div class="tab-pane fade " id="cocoon_stage_stg_facebook_ads_campaign_history_data">
            <p class="subtitle text-center mb-3">stg_facebook_ads_campaign_history_data</p>
            
<p class="text-center mb-0">Table Preview <small class="text-muted">(schema only)</small></p>
<div class="code_container mb-4 mx-4"><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>campaign_name</th>
      <th>campaign_status</th>
      <th>daily_budget_cents</th>
      <th>lifetime_budget_cents</th>
      <th>remaining_budget_cents</th>
      <th>account_id</th>
      <th>campaign_id</th>
      <th>creation_timestamp</th>
      <th>end_timestamp</th>
      <th>last_update_timestamp</th>
      <th>start_timestamp</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table></div>

<p class="text-center">stg_facebook_ads_campaign_history_data.sql <small class="text-muted">(clean the table)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-sql">-- COCOON BLOCK START: PLEASE DO NOT MODIFY THIS BLOCK FOR SELF-MAINTENANCE
-- Generated at 2024-08-25 15:56:52.569745+00:00
WITH 
"facebook_ads_campaign_history_data_projected" AS (
    -- Projection: Selecting 11 out of 12 columns
    -- Columns projected out: ['id', 'account_id', 'name', 'created_time', 'start_time', 'stop_time', 'status', 'daily_budget', 'lifetime_budget', 'budget_remaining', '_fivetran_synced', 'updated_time']
    SELECT 
        "id",
        "account_id",
        "name",
        "created_time",
        "start_time",
        "stop_time",
        "status",
        "daily_budget",
        "lifetime_budget",
        "budget_remaining",
        "updated_time"
    FROM "memory"."main"."facebook_ads_campaign_history_data"
),

"facebook_ads_campaign_history_data_projected_renamed" AS (
    -- Rename: Renaming columns
    -- id -> campaign_id
    -- name -> campaign_name
    -- created_time -> creation_timestamp
    -- start_time -> start_timestamp
    -- stop_time -> end_timestamp
    -- status -> campaign_status
    -- daily_budget -> daily_budget_cents
    -- lifetime_budget -> lifetime_budget_cents
    -- budget_remaining -> remaining_budget_cents
    -- updated_time -> last_update_timestamp
    SELECT 
        "id" AS "campaign_id",
        "account_id",
        "name" AS "campaign_name",
        "created_time" AS "creation_timestamp",
        "start_time" AS "start_timestamp",
        "stop_time" AS "end_timestamp",
        "status" AS "campaign_status",
        "daily_budget" AS "daily_budget_cents",
        "lifetime_budget" AS "lifetime_budget_cents",
        "budget_remaining" AS "remaining_budget_cents",
        "updated_time" AS "last_update_timestamp"
    FROM "facebook_ads_campaign_history_data_projected"
),

"facebook_ads_campaign_history_data_projected_renamed_casted" AS (
    -- Column Type Casting: 
    -- account_id: from INT to VARCHAR
    -- campaign_id: from INT to VARCHAR
    -- creation_timestamp: from VARCHAR to TIMESTAMP
    -- end_timestamp: from VARCHAR to TIMESTAMP
    -- last_update_timestamp: from VARCHAR to TIMESTAMP
    -- start_timestamp: from VARCHAR to TIMESTAMP
    SELECT
        "campaign_name",
        "campaign_status",
        "daily_budget_cents",
        "lifetime_budget_cents",
        "remaining_budget_cents",
        CAST("account_id" AS VARCHAR) 
        AS "account_id",
        CAST("campaign_id" AS VARCHAR) 
        AS "campaign_id",
        CAST("creation_timestamp" AS TIMESTAMP) 
        AS "creation_timestamp",
        CAST("end_timestamp" AS TIMESTAMP) 
        AS "end_timestamp",
        CAST("last_update_timestamp" AS TIMESTAMP) 
        AS "last_update_timestamp",
        CAST("start_timestamp" AS TIMESTAMP) 
        AS "start_timestamp"
    FROM "facebook_ads_campaign_history_data_projected_renamed"
)

-- COCOON BLOCK END
SELECT *
FROM "facebook_ads_campaign_history_data_projected_renamed_casted"</code></pre>
</div>
<p class="text-center">stg_facebook_ads_campaign_history_data.yml <small class="text-muted"> (Document the table)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-yaml">version: 2
models:
- name: stg_facebook_ads_campaign_history_data
  description: The table is about Facebook ad campaigns. It contains historical data
    for each campaign, including its ID, account ID, name, creation time, start and
    stop times, status, budget details, and last update time. Each row represents
    a snapshot of a campaign at a specific point in time, allowing tracking of changes
    in budget and status over the campaign's lifetime.
  columns:
  - name: campaign_name
    description: Encrypted name of the campaign
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: campaign_status
    description: Current status of the campaign (e.g., ACTIVE, PAUSED)
    tests:
    - not_null
    - accepted_values:
        values:
        - ACTIVE
        - DELETED
        - PAUSED
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: daily_budget_cents
    description: Maximum daily spend limit in cents
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: lifetime_budget_cents
    description: Total budget for the campaign's lifetime in cents
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: remaining_budget_cents
    description: Remaining budget for the campaign in cents
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: account_id
    description: Facebook account identifier associated with the campaign
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: campaign_id
    description: Unique identifier for the campaign
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: creation_timestamp
    description: Timestamp when the campaign was created
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: TIMESTAMP
  - name: end_timestamp
    description: Scheduled end time of the campaign
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: TIMESTAMP
  - name: last_update_timestamp
    description: Timestamp of the last update to the campaign
    tests:
    - not_null
    - unique
    cocoon_meta:
      unique_reason: This column represents the timestamp of the last update to the
        campaign. For this table, each row represents a snapshot of a campaign at
        a specific point in time. The last_update_timestamp is unique across rows
        as it captures the exact moment when the campaign data was updated.
      data_type:
        current_data_type: TIMESTAMP
  - name: start_timestamp
    description: Scheduled start time of the campaign
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: TIMESTAMP
  tests: []
</code></pre>
</div>

        </div>
        
        <div class="tab-pane fade " id="cocoon_stage_stg_facebook_ads_basic_ad_data">
            <p class="subtitle text-center mb-3">stg_facebook_ads_basic_ad_data</p>
            
<p class="text-center mb-0">Table Preview <small class="text-muted">(schema only)</small></p>
<div class="code_container mb-4 mx-4"><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ad_name</th>
      <th>adset_name</th>
      <th>impressions</th>
      <th>link_clicks</th>
      <th>ad_spend</th>
      <th>unique_reach</th>
      <th>average_frequency</th>
      <th>account_id</th>
      <th>ad_id</th>
      <th>performance_date</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table></div>

<p class="text-center">stg_facebook_ads_basic_ad_data.sql <small class="text-muted">(clean the table)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-sql">-- COCOON BLOCK START: PLEASE DO NOT MODIFY THIS BLOCK FOR SELF-MAINTENANCE
-- Generated at 2024-08-25 15:55:39.612740+00:00
WITH 
"facebook_ads_basic_ad_data_renamed" AS (
    -- Rename: Renaming columns
    -- date_ -> performance_date
    -- inline_link_clicks -> link_clicks
    -- spend -> ad_spend
    -- reach -> unique_reach
    -- frequency -> average_frequency
    SELECT 
        "ad_id",
        "ad_name",
        "adset_name",
        "date_" AS "performance_date",
        "account_id",
        "impressions",
        "inline_link_clicks" AS "link_clicks",
        "spend" AS "ad_spend",
        "reach" AS "unique_reach",
        "frequency" AS "average_frequency"
    FROM "memory"."main"."facebook_ads_basic_ad_data"
),

"facebook_ads_basic_ad_data_renamed_casted" AS (
    -- Column Type Casting: 
    -- account_id: from INT to VARCHAR
    -- ad_id: from INT to VARCHAR
    -- performance_date: from VARCHAR to DATE
    SELECT
        "ad_name",
        "adset_name",
        "impressions",
        "link_clicks",
        "ad_spend",
        "unique_reach",
        "average_frequency",
        CAST("account_id" AS VARCHAR) 
        AS "account_id",
        CAST("ad_id" AS VARCHAR) 
        AS "ad_id",
        CAST("performance_date" AS DATE) 
        AS "performance_date"
    FROM "facebook_ads_basic_ad_data_renamed"
)

-- COCOON BLOCK END
SELECT *
FROM "facebook_ads_basic_ad_data_renamed_casted"</code></pre>
</div>
<p class="text-center">stg_facebook_ads_basic_ad_data.yml <small class="text-muted"> (Document the table)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-yaml">version: 2
models:
- name: stg_facebook_ads_basic_ad_data
  description: The table is about Facebook ad performance metrics. It contains data
    for individual ads, including ad ID, name, adset name, date, account ID, impressions,
    clicks, spend, reach, and frequency. Each row represents a daily performance record
    for a specific ad. The table provides insights into ad effectiveness, engagement,
    and cost across different adsets and dates.
  columns:
  - name: ad_name
    description: Name or version of the advertisement
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: adset_name
    description: Name of the ad set
    tests:
    - not_null
    - accepted_values:
        values:
        - Adset A
        - Adset B
        - Adset C
        - Adset D
        - Adset E
        - Adset F
        - Adset G
        - Adset H
        - Adset I
        - Adset J
    cocoon_meta:
      future_accepted_values:
      - Adset K
      - Adset L
      - Adset M
      - Adset N
      - Adset O
      - Adset P
      - Adset Q
      - Adset R
      - Adset S
      - Adset T
      - Adset U
      - Adset V
      - Adset W
      - Adset X
      - Adset Y
      - Adset Z
      data_type:
        current_data_type: VARCHAR
  - name: impressions
    description: Number of times the ad was displayed
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: link_clicks
    description: Number of clicks on links within the ad
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: ad_spend
    description: Amount spent on the ad in currency units
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: DECIMAL
  - name: unique_reach
    description: Number of unique users who saw the ad
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: average_frequency
    description: Average number of times each user saw the ad
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: DECIMAL
  - name: account_id
    description: Unique identifier for the advertising account
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: ad_id
    description: Unique identifier for the advertisement
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: performance_date
    description: Date of the performance record
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: DATE
  tests: []
</code></pre>
</div>

        </div>
        
                </div>
            </div>
        </div>
        
        <div class="tab-pane fade " id="cocoon_steps_snapshot">
            <nav class="navbar navbar-light bg-light">
                <span class="navbar-brand mb-0">
                    <h5 class="card-title mb-0">SCD Model</h5>
                </span>
                
    <ul class="nav">
        <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle active" href="#"
                id="navbarDropdownMenuLink_snapshot" data-toggle="dropdown" aria-haspopup="true"
                aria-expanded="false">
                Select Snapshot Table
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink_snapshot">
    <a class="dropdown-item active" data-toggle="tab" href="#cocoon_snapshot_snapshot_facebook_ads_ad_set_history_data">snapshot_facebook_ads_ad_set_history_data</a><a class="dropdown-item " data-toggle="tab" href="#cocoon_snapshot_snapshot_facebook_ads_ad_history_data">snapshot_facebook_ads_ad_history_data</a><a class="dropdown-item " data-toggle="tab" href="#cocoon_snapshot_snapshot_facebook_ads_campaign_history_data">snapshot_facebook_ads_campaign_history_data</a><a class="dropdown-item " data-toggle="tab" href="#cocoon_snapshot_snapshot_facebook_ads_account_history_data">snapshot_facebook_ads_account_history_data</a>
            </div>
        </li>
    </ul>
    
            </nav>
            <div class="container">
                <small class="text-muted">We display the snapshot tables, their SQL definitions, and their configurations.</small>
            </div>
            <hr>
            <div class="scroll-container overflow-auto">
                <div class="tab-content mt-3">
                    
        <div class="tab-pane fade show active" id="cocoon_snapshot_snapshot_facebook_ads_ad_set_history_data">
            <p class="subtitle text-center mb-3">snapshot_facebook_ads_ad_set_history_data</p>
            
<p class="text-center mb-0">Table Preview <small class="text-muted">(schema only)</small></p>
<div class="code_container mb-4 mx-4"><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ad_set_name</th>
      <th>bid_strategy</th>
      <th>daily_budget_cents</th>
      <th>remaining_budget_cents</th>
      <th>status</th>
      <th>account_id</th>
      <th>ad_set_id</th>
      <th>campaign_id</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table></div>

<p class="text-center">snapshot_facebook_ads_ad_set_history_data.sql <small class="text-muted">(snapshot definition)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-sql">-- Slowly Changing Dimension: Dimension keys are "ad_set_id"
-- Version columns are last_updated, start_date, end_date
-- We will create Type 1 SCD (latest snapshot)

SELECT 
    "ad_set_name",
    "bid_strategy",
    "daily_budget_cents",
    "remaining_budget_cents",
    "status",
    "account_id",
    "ad_set_id",
    "campaign_id"
FROM "stg_facebook_ads_ad_set_history_data"
QUALIFY ROW_NUMBER() OVER ( 
    PARTITION BY "ad_set_id"
    ORDER BY
        last_updated DESC,
        end_date IS NULL DESC,
        start_date DESC
) = 1</code></pre>
</div>
<p class="text-center">snapshot_facebook_ads_ad_set_history_data.yml <small class="text-muted"> (Document the snapshot)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-yaml">version: 2
models:
- name: snapshot_facebook_ads_ad_set_history_data
  description: The table contains the latest information on Facebook ad sets. It tracks
    the most recent version of each ad set, including its name, bid strategy, daily
    and remaining budget, status, associated account and campaign IDs, and effective
    dates. The table provides a current snapshot of active ad sets and their configurations
    without historical changes.
  columns:
  - name: ad_set_name
    description: Encrypted name of the ad set
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: bid_strategy
    description: Bidding strategy used for the ad set
    tests:
    - not_null
    - accepted_values:
        values:
        - LOWEST_COST_WITHOUT_CAP
        - LOWEST_COST_WITH_BID_CAP
        - COST_CAP
        - LOWEST_COST_WITH_MIN_ROAS
    cocoon_meta:
      future_accepted_values:
      - TARGET_COST
      - BID_CAP
      - AUTOBID
      data_type:
        current_data_type: VARCHAR
  - name: daily_budget_cents
    description: Daily budget allocated for the ad set in cents
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: remaining_budget_cents
    description: Remaining budget for the ad set in cents
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: status
    description: Current status of the ad set
    tests:
    - not_null
    - accepted_values:
        values:
        - ACTIVE
    cocoon_meta:
      future_accepted_values:
      - PAUSED
      - ARCHIVED
      - DELETED
      - PENDING_REVIEW
      - DISAPPROVED
      - PREAPPROVED
      - PENDING_BILLING_INFO
      - CAMPAIGN_PAUSED
      - ADGROUP_PAUSED
      - PENDING_BUDGET_APPROVAL
      data_type:
        current_data_type: VARCHAR
  - name: account_id
    description: Facebook account ID associated with the ad set
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: ad_set_id
    description: Unique identifier for the ad set
    tests:
    - not_null
    - unique
    cocoon_meta:
      unique_reason: Unique dimension key, derived from the slowly changing dimension
      data_type:
        current_data_type: VARCHAR
  - name: campaign_id
    description: Campaign ID to which the ad set belongs
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  tests: []
cocoon_meta:
  scd_base_table: stg_facebook_ads_ad_set_history_data
  scd_columns:
  - last_updated
  - start_date
  - end_date
</code></pre>
</div>

        </div>
        
        <div class="tab-pane fade " id="cocoon_snapshot_snapshot_facebook_ads_ad_history_data">
            <p class="subtitle text-center mb-3">snapshot_facebook_ads_ad_history_data</p>
            
<p class="text-center mb-0">Table Preview <small class="text-muted">(schema only)</small></p>
<div class="code_container mb-4 mx-4"><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ad_name</th>
      <th>account_id</th>
      <th>ad_id</th>
      <th>ad_set_id</th>
      <th>campaign_id</th>
      <th>creative_id</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table></div>

<p class="text-center">snapshot_facebook_ads_ad_history_data.sql <small class="text-muted">(snapshot definition)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-sql">-- Slowly Changing Dimension: Dimension keys are "ad_id"
-- Version columns are last_updated
-- We will create Type 1 SCD (latest snapshot)

SELECT 
    "ad_name",
    "account_id",
    "ad_id",
    "ad_set_id",
    "campaign_id",
    "creative_id"
FROM "stg_facebook_ads_ad_history_data"
QUALIFY ROW_NUMBER() OVER ( 
    PARTITION BY "ad_id"
    ORDER BY
        last_updated DESC
) = 1</code></pre>
</div>
<p class="text-center">snapshot_facebook_ads_ad_history_data.yml <small class="text-muted"> (Document the snapshot)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-yaml">version: 2
models:
- name: snapshot_facebook_ads_ad_history_data
  description: The table is about Facebook ad data. It tracks the most recent version
    of each unique ad. It includes details such as ad name, account ID, ad ID, ad
    set ID, campaign ID, and creative ID. Each row represents the latest state of
    a distinct ad. The table provides a current snapshot of Facebook ads, omitting
    historical changes and update timestamps.
  columns:
  - name: ad_name
    description: Name of the ad
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: account_id
    description: Facebook account identifier
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: ad_id
    description: Unique identifier for the ad
    tests:
    - not_null
    - unique
    cocoon_meta:
      unique_reason: Unique dimension key, derived from the slowly changing dimension
      data_type:
        current_data_type: VARCHAR
  - name: ad_set_id
    description: Identifier for the ad set
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: campaign_id
    description: Identifier for the campaign
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: creative_id
    description: Identifier for the ad creative
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  tests: []
cocoon_meta:
  scd_base_table: stg_facebook_ads_ad_history_data
  scd_columns:
  - last_updated
</code></pre>
</div>

        </div>
        
        <div class="tab-pane fade " id="cocoon_snapshot_snapshot_facebook_ads_campaign_history_data">
            <p class="subtitle text-center mb-3">snapshot_facebook_ads_campaign_history_data</p>
            
<p class="text-center mb-0">Table Preview <small class="text-muted">(schema only)</small></p>
<div class="code_container mb-4 mx-4"><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>campaign_name</th>
      <th>campaign_status</th>
      <th>daily_budget_cents</th>
      <th>lifetime_budget_cents</th>
      <th>account_id</th>
      <th>campaign_id</th>
      <th>creation_timestamp</th>
      <th>end_timestamp</th>
      <th>start_timestamp</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table></div>

<p class="text-center">snapshot_facebook_ads_campaign_history_data.sql <small class="text-muted">(snapshot definition)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-sql">-- Slowly Changing Dimension: Dimension keys are "campaign_id"
-- Version columns are last_update_timestamp, remaining_budget_cents
-- We will create Type 1 SCD (latest snapshot)

SELECT 
    "campaign_name",
    "campaign_status",
    "daily_budget_cents",
    "lifetime_budget_cents",
    "account_id",
    "campaign_id",
    "creation_timestamp",
    "end_timestamp",
    "start_timestamp"
FROM "stg_facebook_ads_campaign_history_data"
QUALIFY ROW_NUMBER() OVER ( 
    PARTITION BY "campaign_id"
    ORDER BY
        last_update_timestamp DESC,
        remaining_budget_cents DESC
) = 1</code></pre>
</div>
<p class="text-center">snapshot_facebook_ads_campaign_history_data.yml <small class="text-muted"> (Document the snapshot)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-yaml">version: 2
models:
- name: snapshot_facebook_ads_campaign_history_data
  description: The table is about current Facebook ad campaigns. It tracks the most
    recent version of each campaign, including its ID, account ID, name, status, budget
    details, creation time, and start and end dates. Each row represents a unique
    campaign with its latest information. The table excludes historical data and version
    tracking columns, focusing on the current state of active and paused campaigns.
  columns:
  - name: campaign_name
    description: Encrypted name of the campaign
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: campaign_status
    description: Current status of the campaign (e.g., ACTIVE, PAUSED)
    tests:
    - not_null
    - accepted_values:
        values:
        - ACTIVE
        - DELETED
        - PAUSED
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: daily_budget_cents
    description: Maximum daily spend limit in cents
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: lifetime_budget_cents
    description: Total budget for the campaign's lifetime in cents
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: account_id
    description: Facebook account identifier associated with the campaign
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: campaign_id
    description: Unique identifier for the campaign
    tests:
    - not_null
    - unique
    cocoon_meta:
      unique_reason: Unique dimension key, derived from the slowly changing dimension
      data_type:
        current_data_type: VARCHAR
  - name: creation_timestamp
    description: Timestamp when the campaign was created
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: TIMESTAMP
  - name: end_timestamp
    description: Scheduled end time of the campaign
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: TIMESTAMP
  - name: start_timestamp
    description: Scheduled start time of the campaign
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: TIMESTAMP
  tests: []
cocoon_meta:
  scd_base_table: stg_facebook_ads_campaign_history_data
  scd_columns:
  - last_update_timestamp
  - remaining_budget_cents
</code></pre>
</div>

        </div>
        
        <div class="tab-pane fade " id="cocoon_snapshot_snapshot_facebook_ads_account_history_data">
            <p class="subtitle text-center mb-3">snapshot_facebook_ads_account_history_data</p>
            
<p class="text-center mb-0">Table Preview <small class="text-muted">(schema only)</small></p>
<div class="code_container mb-4 mx-4"><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>encrypted_account_name</th>
      <th>account_status</th>
      <th>country_code</th>
      <th>account_currency</th>
      <th>account_timezone</th>
      <th>account_id</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table></div>

<p class="text-center">snapshot_facebook_ads_account_history_data.sql <small class="text-muted">(snapshot definition)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-sql">-- Slowly Changing Dimension: Dimension keys are "account_id"
-- Version columns are creation_timestamp
-- We will create Type 1 SCD (latest snapshot)

SELECT 
    "encrypted_account_name",
    "account_status",
    "country_code",
    "account_currency",
    "account_timezone",
    "account_id"
FROM "stg_facebook_ads_account_history_data"
QUALIFY ROW_NUMBER() OVER ( 
    PARTITION BY "account_id"
    ORDER BY
        creation_timestamp DESC
) = 1</code></pre>
</div>
<p class="text-center">snapshot_facebook_ads_account_history_data.yml <small class="text-muted"> (Document the snapshot)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-yaml">version: 2
models:
- name: snapshot_facebook_ads_account_history_data
  description: The table is about Facebook ad accounts. It contains the most recent
    details for each unique account, including ID, encrypted name, status, country,
    currency, and timezone. Each row represents the latest state of a distinct ad
    account. The table provides a current snapshot of Facebook ad account information,
    omitting historical changes and timestamp data.
  columns:
  - name: encrypted_account_name
    description: Encrypted name of the ad account
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: account_status
    description: Current status of the ad account
    tests:
    - not_null
    - accepted_values:
        values:
        - Active
        - Paused
    cocoon_meta:
      future_accepted_values:
      - Disabled
      - Pending
      - Closed
      data_type:
        current_data_type: VARCHAR
  - name: country_code
    description: Two-letter country code of the business
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: account_currency
    description: Currency used for the ad account
    tests:
    - not_null
    - accepted_values:
        values:
        - USD
        - GBP
        - JPY
    cocoon_meta:
      future_accepted_values:
      - EUR
      - CAD
      - AUD
      - CHF
      - CNY
      - HKD
      - NZD
      - SEK
      - KRW
      - SGD
      - NOK
      - MXN
      - INR
      - RUB
      - ZAR
      - TRY
      - BRL
      - TWD
      - DKK
      - PLN
      - THB
      - IDR
      data_type:
        current_data_type: VARCHAR
  - name: account_timezone
    description: Timezone associated with the ad account
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: account_id
    description: Unique identifier for the ad account
    tests:
    - not_null
    - unique
    cocoon_meta:
      unique_reason: Unique dimension key, derived from the slowly changing dimension
      data_type:
        current_data_type: VARCHAR
  tests: []
cocoon_meta:
  scd_base_table: stg_facebook_ads_account_history_data
  scd_columns:
  - creation_timestamp
</code></pre>
</div>

        </div>
        
                </div>
            </div>
        </div>
        
        <div class="tab-pane fade " id="cocoon_steps_join">
            <nav class="navbar navbar-light bg-light">
                <span class="navbar-brand mb-0">
                    <h5 class="card-title mb-0">Integration</h5>
                </span>
                
            </nav>
            <div class="container">
                <small class="text-muted">We identify the primary key (PK) and foreign key (FK) from tables. We build a join graph that connects FK to PK.</small>
            </div>
            <hr>
            <div class="scroll-container overflow-auto">
                <div class="tab-content mt-3">
                    
<p class="text-center">Join Graph <small class="text-muted">(FK to PK)</small></p>
<div class="container mb-4">
        <div style="overflow: auto; border: 1px solid #cccccc;">
            <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="443pt" height="262pt"
 viewBox="0.00 0.00 442.67 262.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 258)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-258 438.67,-258 438.67,4 -4,4"/>
<!-- snapshot_facebook_ads_ad_history_data_0 -->
<g id="node1" class="node">
<title>snapshot_facebook_ads_ad_history_data_0</title>
<polygon fill="#ffffff" stroke="#000000" points="236.8,-196 68.8,-196 68.8,-174 236.8,-174 236.8,-196"/>
<text text-anchor="middle" x="152.8" y="-183.1" font-family="Segoe UI" font-size="8.00" fill="#000000">snapshot_facebook_ads_ad_history_data</text>
</g>
<!-- snapshot_facebook_ads_ad_set_history_data_2 -->
<g id="node3" class="node">
<title>snapshot_facebook_ads_ad_set_history_data_2</title>
<polygon fill="#ffffff" stroke="#000000" points="419.8,-138 235.8,-138 235.8,-116 419.8,-116 419.8,-138"/>
<text text-anchor="middle" x="327.8" y="-125.1" font-family="Segoe UI" font-size="8.00" fill="#000000">snapshot_facebook_ads_ad_set_history_data</text>
</g>
<!-- snapshot_facebook_ads_ad_history_data_0&#45;&gt;snapshot_facebook_ads_ad_set_history_data_2 -->
<g id="edge7" class="edge">
<title>snapshot_facebook_ads_ad_history_data_0&#45;&gt;snapshot_facebook_ads_ad_set_history_data_2</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M184.08,-173.99C213.98,-164.42 259.05,-150 290.73,-139.86"/>
<polygon fill="#000000" stroke="#000000" stroke-width="0.6" points="291.41,-141.85 296.49,-138.02 290.13,-137.85 291.41,-141.85"/>
</g>
<!-- snapshot_facebook_ads_account_history_data_3 -->
<g id="node4" class="node">
<title>snapshot_facebook_ads_account_history_data_3</title>
<polygon fill="#ffffff" stroke="#000000" points="365.8,-22 175.8,-22 175.8,0 365.8,0 365.8,-22"/>
<text text-anchor="middle" x="270.8" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">snapshot_facebook_ads_account_history_data</text>
</g>
<!-- snapshot_facebook_ads_ad_history_data_0&#45;&gt;snapshot_facebook_ads_account_history_data_3 -->
<g id="edge1" class="edge">
<title>snapshot_facebook_ads_ad_history_data_0&#45;&gt;snapshot_facebook_ads_account_history_data_3</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M68.43,-174.3C25.85,-165.35 -13.33,-148.3 4.8,-116 37.35,-57.99 108.82,-32.22 169.49,-20.83"/>
<polygon fill="#000000" stroke="#000000" stroke-width="0.6" points="170.17,-22.84 175.7,-19.71 169.42,-18.71 170.17,-22.84"/>
</g>
<!-- stg_facebook_ads_creative_history_data_4 -->
<g id="node5" class="node">
<title>stg_facebook_ads_creative_history_data_4</title>
<polygon fill="#ffffff" stroke="#000000" points="179.3,-138 14.3,-138 14.3,-116 179.3,-116 179.3,-138"/>
<text text-anchor="middle" x="96.8" y="-125.1" font-family="Segoe UI" font-size="8.00" fill="#000000">stg_facebook_ads_creative_history_data</text>
</g>
<!-- snapshot_facebook_ads_ad_history_data_0&#45;&gt;stg_facebook_ads_creative_history_data_4 -->
<g id="edge10" class="edge">
<title>snapshot_facebook_ads_ad_history_data_0&#45;&gt;stg_facebook_ads_creative_history_data_4</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M137.47,-173.99C127.19,-165.34 114.32,-152.71 105.63,-142.88"/>
<polygon fill="#000000" stroke="#000000" stroke-width="0.6" points="107.22,-141.51 101.73,-138.3 104.03,-144.23 107.22,-141.51"/>
</g>
<!-- snapshot_facebook_ads_campaign_history_data_5 -->
<g id="node6" class="node">
<title>snapshot_facebook_ads_campaign_history_data_5</title>
<polygon fill="#ffffff" stroke="#000000" points="306.8,-80 108.8,-80 108.8,-58 306.8,-58 306.8,-80"/>
<text text-anchor="middle" x="207.8" y="-67.1" font-family="Segoe UI" font-size="8.00" fill="#000000">snapshot_facebook_ads_campaign_history_data</text>
</g>
<!-- snapshot_facebook_ads_ad_history_data_0&#45;&gt;snapshot_facebook_ads_campaign_history_data_5 -->
<g id="edge8" class="edge">
<title>snapshot_facebook_ads_ad_history_data_0&#45;&gt;snapshot_facebook_ads_campaign_history_data_5</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M162.67,-173.85C170.75,-165.03 181.93,-151.57 188.8,-138 197.24,-121.31 202.37,-100.35 205.13,-86.14"/>
<polygon fill="#000000" stroke="#000000" stroke-width="0.6" points="207.22,-86.41 206.24,-80.13 203.09,-85.65 207.22,-86.41"/>
</g>
<!-- stg_facebook_ads_basic_ad_data_1 -->
<g id="node2" class="node">
<title>stg_facebook_ads_basic_ad_data_1</title>
<polygon fill="#ffffff" stroke="#000000" points="367.8,-254 231.8,-254 231.8,-232 367.8,-232 367.8,-254"/>
<text text-anchor="middle" x="299.8" y="-241.1" font-family="Segoe UI" font-size="8.00" fill="#000000">stg_facebook_ads_basic_ad_data</text>
</g>
<!-- stg_facebook_ads_basic_ad_data_1&#45;&gt;snapshot_facebook_ads_ad_history_data_0 -->
<g id="edge5" class="edge">
<title>stg_facebook_ads_basic_ad_data_1&#45;&gt;snapshot_facebook_ads_ad_history_data_0</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M273.52,-231.99C248.79,-222.57 211.71,-208.44 185.18,-198.33"/>
<polygon fill="#000000" stroke="#000000" stroke-width="0.6" points="185.7,-196.29 179.35,-196.11 184.2,-200.21 185.7,-196.29"/>
</g>
<!-- stg_facebook_ads_basic_ad_data_1&#45;&gt;snapshot_facebook_ads_account_history_data_3 -->
<g id="edge4" class="edge">
<title>stg_facebook_ads_basic_ad_data_1&#45;&gt;snapshot_facebook_ads_account_history_data_3</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M326.01,-231.94C371.39,-212.87 457.17,-168.64 428.8,-116 403.29,-68.67 345.77,-39.34 307.63,-24.34"/>
<polygon fill="#000000" stroke="#000000" stroke-width="0.6" points="308.04,-22.25 301.68,-22.06 306.53,-26.17 308.04,-22.25"/>
</g>
<!-- snapshot_facebook_ads_ad_set_history_data_2&#45;&gt;snapshot_facebook_ads_account_history_data_3 -->
<g id="edge2" class="edge">
<title>snapshot_facebook_ads_ad_set_history_data_2&#45;&gt;snapshot_facebook_ads_account_history_data_3</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M327.84,-115.73C327.49,-101.87 325.44,-76.77 315.8,-58 309.45,-45.64 298.65,-34.44 289.23,-26.18"/>
<polygon fill="#000000" stroke="#000000" stroke-width="0.6" points="290.39,-24.42 284.45,-22.14 287.68,-27.62 290.39,-24.42"/>
</g>
<!-- snapshot_facebook_ads_ad_set_history_data_2&#45;&gt;snapshot_facebook_ads_campaign_history_data_5 -->
<g id="edge9" class="edge">
<title>snapshot_facebook_ads_ad_set_history_data_2&#45;&gt;snapshot_facebook_ads_campaign_history_data_5</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M306.34,-115.99C286.42,-106.69 256.65,-92.8 235.05,-82.72"/>
<polygon fill="#000000" stroke="#000000" stroke-width="0.6" points="235.79,-80.75 229.47,-80.11 234.02,-84.55 235.79,-80.75"/>
</g>
<!-- stg_facebook_ads_creative_history_data_4&#45;&gt;snapshot_facebook_ads_ad_history_data_0 -->
<g id="edge6" class="edge">
<title>stg_facebook_ads_creative_history_data_4&#45;&gt;snapshot_facebook_ads_ad_history_data_0</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M112.47,-138.3C122.71,-146.96 135.42,-159.45 144.02,-169.18"/>
<polygon fill="#000000" stroke="#000000" stroke-width="0.6" points="142.61,-170.78 148.1,-173.99 145.81,-168.06 142.61,-170.78"/>
</g>
<!-- snapshot_facebook_ads_campaign_history_data_5&#45;&gt;snapshot_facebook_ads_account_history_data_3 -->
<g id="edge3" class="edge">
<title>snapshot_facebook_ads_campaign_history_data_5&#45;&gt;snapshot_facebook_ads_account_history_data_3</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M219.06,-57.99C228.97,-49.18 243.51,-36.25 254.66,-26.34"/>
<polygon fill="#000000" stroke="#000000" stroke-width="0.6" points="256.12,-27.86 259.2,-22.3 253.33,-24.72 256.12,-27.86"/>
</g>
</g>
</svg>

        </div>
        </div>
<p class="text-center">cocoon_join.yml <small class="text-muted"> (Document the joins)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-yaml">join_graph:
- table_name: snapshot_facebook_ads_account_history_data
  primary_key: account_id
  foreign_keys: []
  time_keys:
  - creation_timestamp
- table_name: snapshot_facebook_ads_ad_history_data
  foreign_keys:
  - column: account_id
    reference:
      table_name: snapshot_facebook_ads_account_history_data
      column: account_id
  - column: ad_set_id
    reference:
      table_name: snapshot_facebook_ads_ad_set_history_data
      column: ad_set_id
  - column: campaign_id
    reference:
      table_name: snapshot_facebook_ads_campaign_history_data
      column: campaign_id
  - column: creative_id
    reference:
      table_name: stg_facebook_ads_creative_history_data
      column: creative_id
    referential_integrity:
      Orphan: 100.00%
      explanation: ''
  primary_key: ad_id
  time_keys:
  - last_updated
- table_name: snapshot_facebook_ads_ad_set_history_data
  foreign_keys:
  - column: account_id
    reference:
      table_name: snapshot_facebook_ads_account_history_data
      column: account_id
  - column: campaign_id
    reference:
      table_name: snapshot_facebook_ads_campaign_history_data
      column: campaign_id
  primary_key: ad_set_id
  time_keys:
  - end_date
  - last_updated
  - start_date
- table_name: snapshot_facebook_ads_campaign_history_data
  foreign_keys:
  - column: account_id
    reference:
      table_name: snapshot_facebook_ads_account_history_data
      column: account_id
  primary_key: campaign_id
  time_keys:
  - creation_timestamp
  - end_timestamp
  - last_update_timestamp
  - start_timestamp
- table_name: stg_facebook_ads_basic_ad_data
  foreign_keys:
  - column: account_id
    reference:
      table_name: snapshot_facebook_ads_account_history_data
      column: account_id
  - column: ad_id
    reference:
      table_name: snapshot_facebook_ads_ad_history_data
      column: ad_id
    referential_integrity:
      Orphan: 60.00%
      explanation: ''
  time_keys:
  - performance_date
- table_name: stg_facebook_ads_creative_history_data
  primary_key: creative_id
  foreign_keys:
  - column: encoded_ad_name
    reference:
      table_name: snapshot_facebook_ads_ad_history_data
      column: ad_id
    referential_integrity:
      Orphan: 100.00%
      explanation: ''
</code></pre>
</div>

                </div>
            </div>
        </div>
        
        <div class="tab-pane fade " id="cocoon_steps_knowledge">
            <nav class="navbar navbar-light bg-light">
                <span class="navbar-brand mb-0">
                    <h5 class="card-title mb-0">Process</h5>
                </span>
                
    <ul class="nav">
        <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle active" href="#"
                id="navbarDropdownMenuLink_knowledge" data-toggle="dropdown" aria-haspopup="true"
                aria-expanded="false">
                Select Category
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink_knowledge">
    <a class="dropdown-item active" data-toggle="tab" href="#cocoon_knowledge_All">All</a>
            </div>
        </li>
    </ul>
    
            </nav>
            <div class="container">
                <small class="text-muted">We illustrate the step-by-step process behind the data.</small>
            </div>
            <hr>
            <div class="scroll-container overflow-auto">
                <div class="tab-content mt-3">
                    
        <div class="tab-pane fade show active" id="cocoon_knowledge_All">
            <p class="subtitle text-center mb-3">All</p>
            
<p class="text-center">Process Story</p>
<div class="container">
    <div id="cocoon_er_story_carousel_0" class="carousel slide" data-interval="false">
        <div class="d-flex justify-content-between align-items-center mt-3">
            <a class="btn btn-secondary" href="#cocoon_er_story_carousel_0" role="button"
                data-slide="prev">
                Prev
            </a>
            <a class="btn btn-secondary" href="#cocoon_er_story_carousel_0" role="button"
                data-slide="next">
                Next
            </a>
        </div>
        <ol class="carousel-indicators" style="position: relative; bottom: 30px;">
            <li data-target="#cocoon_er_story_carousel_0" data-slide-to="0" class="active"></li>
<li data-target="#cocoon_er_story_carousel_0" data-slide-to="1" class=""></li>
<li data-target="#cocoon_er_story_carousel_0" data-slide-to="2" class=""></li>
<li data-target="#cocoon_er_story_carousel_0" data-slide-to="3" class=""></li>
<li data-target="#cocoon_er_story_carousel_0" data-slide-to="4" class=""></li>
        </ol>
        <div class="carousel-inner">
            <div class="carousel-item active" style="transition: none;">
    <p>Story behind the relationships <small class="text-muted"> (only for those connect >= 2 entities)</small></p><ol class="small"><li><b>[AccountCampaigns]: Advertisers create Ad Accounts and set up Campaigns</b></li></ol>
    
        <div style="overflow: auto; border: 1px solid #cccccc;">
            <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="146pt" height="88pt"
 viewBox="0.00 0.00 146.27 88.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 84)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-84 142.27,-84 142.27,4 -4,4"/>
<!-- AccountCampaigns_0 -->
<g id="node1" class="node">
<title>AccountCampaigns_0</title>
<polygon fill="#e1f5fe" stroke="#4fc3f7" points="110.83,-80 31.83,-80 31.83,-58 110.83,-58 110.83,-80"/>
<text text-anchor="middle" x="71.33" y="-67.1" font-family="Segoe UI" font-size="8.00" fill="#000000">AccountCampaigns</text>
</g>
<!-- Ad Campaigns_1 -->
<g id="node2" class="node">
<title>Ad Campaigns_1</title>
<ellipse fill="#e1f5fe" stroke="#4fc3f7" cx="32.33" cy="-11" rx="32.16" ry="11"/>
<text text-anchor="middle" x="32.33" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">Ad Campaigns</text>
</g>
<!-- AccountCampaigns_0&#45;&#45;Ad Campaigns_1 -->
<g id="edge1" class="edge">
<title>AccountCampaigns_0&#45;&#45;Ad Campaigns_1</title>
<path fill="none" stroke="#4fc3f7" d="M64.36,-57.99C57.26,-47.8 46.32,-32.09 39.24,-21.93"/>
</g>
<!-- Ad Accounts_2 -->
<g id="node3" class="node">
<title>Ad Accounts_2</title>
<ellipse fill="#e1f5fe" stroke="#4fc3f7" cx="110.33" cy="-11" rx="27.89" ry="11"/>
<text text-anchor="middle" x="110.33" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">Ad Accounts</text>
</g>
<!-- AccountCampaigns_0&#45;&#45;Ad Accounts_2 -->
<g id="edge2" class="edge">
<title>AccountCampaigns_0&#45;&#45;Ad Accounts_2</title>
<path fill="none" stroke="#4fc3f7" d="M78.3,-57.99C85.4,-47.8 96.34,-32.09 103.42,-21.93"/>
</g>
</g>
</svg>

        </div>
        
    <br>
    
    </div>
<div class="carousel-item " style="transition: none;">
    <p>Story behind the relationships <small class="text-muted"> (only for those connect >= 2 entities)</small></p><ol class="small"><li>[AccountCampaigns]: Advertisers create Ad Accounts and set up Campaigns</li><li><b>[AdAccountCampaignSetHierarchy]: Campaigns are divided into Ad Sets with specific targets</b></li></ol>
    
        <div style="overflow: auto; border: 1px solid #cccccc;">
            <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="244pt" height="88pt"
 viewBox="0.00 0.00 243.50 88.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 84)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-84 239.5,-84 239.5,4 -4,4"/>
<!-- AccountCampaigns_0 -->
<g id="node1" class="node">
<title>AccountCampaigns_0</title>
<polygon fill="#ffffff" stroke="#000000" points="79,-80 0,-80 0,-58 79,-58 79,-80"/>
<text text-anchor="middle" x="39.5" y="-67.1" font-family="Segoe UI" font-size="8.00" fill="#000000">AccountCampaigns</text>
</g>
<!-- Ad Accounts_3 -->
<g id="node4" class="node">
<title>Ad Accounts_3</title>
<ellipse fill="#e1f5fe" stroke="#4fc3f7" cx="117.5" cy="-11" rx="27.89" ry="11"/>
<text text-anchor="middle" x="117.5" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">Ad Accounts</text>
</g>
<!-- AccountCampaigns_0&#45;&#45;Ad Accounts_3 -->
<g id="edge5" class="edge">
<title>AccountCampaigns_0&#45;&#45;Ad Accounts_3</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M53.44,-57.99C68.08,-47.48 90.88,-31.11 104.96,-21"/>
</g>
<!-- Ad Campaigns_4 -->
<g id="node5" class="node">
<title>Ad Campaigns_4</title>
<ellipse fill="#e1f5fe" stroke="#4fc3f7" cx="39.5" cy="-11" rx="32.16" ry="11"/>
<text text-anchor="middle" x="39.5" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">Ad Campaigns</text>
</g>
<!-- AccountCampaigns_0&#45;&#45;Ad Campaigns_4 -->
<g id="edge4" class="edge">
<title>AccountCampaigns_0&#45;&#45;Ad Campaigns_4</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M39.5,-57.99C39.5,-47.92 39.5,-32.47 39.5,-22.3"/>
</g>
<!-- AdAccountCampaignSetHierarchy_1 -->
<g id="node2" class="node">
<title>AdAccountCampaignSetHierarchy_1</title>
<polygon fill="#e1f5fe" stroke="#4fc3f7" points="235.5,-80 97.5,-80 97.5,-58 235.5,-58 235.5,-80"/>
<text text-anchor="middle" x="166.5" y="-67.1" font-family="Segoe UI" font-size="8.00" fill="#000000">AdAccountCampaignSetHierarchy</text>
</g>
<!-- Ad Sets_2 -->
<g id="node3" class="node">
<title>Ad Sets_2</title>
<ellipse fill="#e1f5fe" stroke="#4fc3f7" cx="181.5" cy="-11" rx="18" ry="11"/>
<text text-anchor="middle" x="181.5" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">Ad Sets</text>
</g>
<!-- AdAccountCampaignSetHierarchy_1&#45;&#45;Ad Sets_2 -->
<g id="edge1" class="edge">
<title>AdAccountCampaignSetHierarchy_1&#45;&#45;Ad Sets_2</title>
<path fill="none" stroke="#4fc3f7" d="M169.18,-57.99C171.91,-47.8 176.12,-32.09 178.84,-21.93"/>
</g>
<!-- AdAccountCampaignSetHierarchy_1&#45;&#45;Ad Accounts_3 -->
<g id="edge2" class="edge">
<title>AdAccountCampaignSetHierarchy_1&#45;&#45;Ad Accounts_3</title>
<path fill="none" stroke="#4fc3f7" d="M157.74,-57.99C148.71,-47.67 134.74,-31.7 125.86,-21.55"/>
</g>
<!-- AdAccountCampaignSetHierarchy_1&#45;&#45;Ad Campaigns_4 -->
<g id="edge3" class="edge">
<title>AdAccountCampaignSetHierarchy_1&#45;&#45;Ad Campaigns_4</title>
<path fill="none" stroke="#4fc3f7" d="M143.79,-57.99C119.25,-47.17 80.61,-30.13 57.89,-20.11"/>
</g>
</g>
</svg>

        </div>
        
    <br>
    
    </div>
<div class="carousel-item " style="transition: none;">
    <p>Story behind the relationships <small class="text-muted"> (only for those connect >= 2 entities)</small></p><ol class="small"><li>[AccountCampaigns]: Advertisers create Ad Accounts and set up Campaigns</li><li>[AdAccountCampaignSetHierarchy]: Campaigns are divided into Ad Sets with specific targets</li><li><b>[AdCreativeDetails]: Advertisers design Ad Creatives with content and specifications</b></li></ol>
    
        <div style="overflow: auto; border: 1px solid #cccccc;">
            <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="363pt" height="88pt"
 viewBox="0.00 0.00 362.50 88.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 84)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-84 358.5,-84 358.5,4 -4,4"/>
<!-- AccountCampaigns_0 -->
<g id="node1" class="node">
<title>AccountCampaigns_0</title>
<polygon fill="#ffffff" stroke="#000000" points="79,-80 0,-80 0,-58 79,-58 79,-80"/>
<text text-anchor="middle" x="39.5" y="-67.1" font-family="Segoe UI" font-size="8.00" fill="#000000">AccountCampaigns</text>
</g>
<!-- Ad Accounts_4 -->
<g id="node5" class="node">
<title>Ad Accounts_4</title>
<ellipse fill="#ffffff" stroke="#000000" cx="117.5" cy="-11" rx="27.89" ry="11"/>
<text text-anchor="middle" x="117.5" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">Ad Accounts</text>
</g>
<!-- AccountCampaigns_0&#45;&#45;Ad Accounts_4 -->
<g id="edge5" class="edge">
<title>AccountCampaigns_0&#45;&#45;Ad Accounts_4</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M53.44,-57.99C68.08,-47.48 90.88,-31.11 104.96,-21"/>
</g>
<!-- Ad Campaigns_5 -->
<g id="node6" class="node">
<title>Ad Campaigns_5</title>
<ellipse fill="#ffffff" stroke="#000000" cx="39.5" cy="-11" rx="32.16" ry="11"/>
<text text-anchor="middle" x="39.5" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">Ad Campaigns</text>
</g>
<!-- AccountCampaigns_0&#45;&#45;Ad Campaigns_5 -->
<g id="edge4" class="edge">
<title>AccountCampaigns_0&#45;&#45;Ad Campaigns_5</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M39.5,-57.99C39.5,-47.92 39.5,-32.47 39.5,-22.3"/>
</g>
<!-- AdAccountCampaignSetHierarchy_1 -->
<g id="node2" class="node">
<title>AdAccountCampaignSetHierarchy_1</title>
<polygon fill="#ffffff" stroke="#000000" points="235.5,-80 97.5,-80 97.5,-58 235.5,-58 235.5,-80"/>
<text text-anchor="middle" x="166.5" y="-67.1" font-family="Segoe UI" font-size="8.00" fill="#000000">AdAccountCampaignSetHierarchy</text>
</g>
<!-- Ad Sets_3 -->
<g id="node4" class="node">
<title>Ad Sets_3</title>
<ellipse fill="#ffffff" stroke="#000000" cx="181.5" cy="-11" rx="18" ry="11"/>
<text text-anchor="middle" x="181.5" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">Ad Sets</text>
</g>
<!-- AdAccountCampaignSetHierarchy_1&#45;&#45;Ad Sets_3 -->
<g id="edge1" class="edge">
<title>AdAccountCampaignSetHierarchy_1&#45;&#45;Ad Sets_3</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M169.18,-57.99C171.91,-47.8 176.12,-32.09 178.84,-21.93"/>
</g>
<!-- AdAccountCampaignSetHierarchy_1&#45;&#45;Ad Accounts_4 -->
<g id="edge2" class="edge">
<title>AdAccountCampaignSetHierarchy_1&#45;&#45;Ad Accounts_4</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M157.74,-57.99C148.71,-47.67 134.74,-31.7 125.86,-21.55"/>
</g>
<!-- AdAccountCampaignSetHierarchy_1&#45;&#45;Ad Campaigns_5 -->
<g id="edge3" class="edge">
<title>AdAccountCampaignSetHierarchy_1&#45;&#45;Ad Campaigns_5</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M143.79,-57.99C119.25,-47.17 80.61,-30.13 57.89,-20.11"/>
</g>
<!-- AdCreativeDetails_2 -->
<g id="node3" class="node">
<title>AdCreativeDetails_2</title>
<polygon fill="#e1f5fe" stroke="#4fc3f7" points="336,-80 263,-80 263,-58 336,-58 336,-80"/>
<text text-anchor="middle" x="299.5" y="-67.1" font-family="Segoe UI" font-size="8.00" fill="#000000">AdCreativeDetails</text>
</g>
<!-- Ad Creatives_6 -->
<g id="node7" class="node">
<title>Ad Creatives_6</title>
<ellipse fill="#e1f5fe" stroke="#4fc3f7" cx="272.5" cy="-11" rx="28.49" ry="11"/>
<text text-anchor="middle" x="272.5" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">Ad Creatives</text>
</g>
<!-- AdCreativeDetails_2&#45;&#45;Ad Creatives_6 -->
<g id="edge6" class="edge">
<title>AdCreativeDetails_2&#45;&#45;Ad Creatives_6</title>
<path fill="none" stroke="#4fc3f7" d="M294.67,-57.99C289.76,-47.8 282.18,-32.09 277.29,-21.93"/>
</g>
<!-- Ads_7 -->
<g id="node8" class="node">
<title>Ads_7</title>
<ellipse fill="#e1f5fe" stroke="#4fc3f7" cx="336.5" cy="-11" rx="18" ry="11"/>
<text text-anchor="middle" x="336.5" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">Ads</text>
</g>
<!-- AdCreativeDetails_2&#45;&#45;Ads_7 -->
<g id="edge7" class="edge">
<title>AdCreativeDetails_2&#45;&#45;Ads_7</title>
<path fill="none" stroke="#4fc3f7" d="M306.11,-57.99C312.93,-47.67 323.49,-31.7 330.19,-21.55"/>
</g>
</g>
</svg>

        </div>
        
    <br>
    
    </div>
<div class="carousel-item " style="transition: none;">
    <p>Story behind the relationships <small class="text-muted"> (only for those connect >= 2 entities)</small></p><ol class="small"><li>[AccountCampaigns]: Advertisers create Ad Accounts and set up Campaigns</li><li>[AdAccountCampaignSetHierarchy]: Campaigns are divided into Ad Sets with specific targets</li><li>[AdCreativeDetails]: Advertisers design Ad Creatives with content and specifications</li><li><b>[FacebookAdHierarchy]: Ad Sets are populated with Ads using specific Creatives</b></li></ol>
    
        <div style="overflow: auto; border: 1px solid #cccccc;">
            <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="442pt" height="88pt"
 viewBox="0.00 0.00 442.00 88.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 84)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-84 438,-84 438,4 -4,4"/>
<!-- AccountCampaigns_0 -->
<g id="node1" class="node">
<title>AccountCampaigns_0</title>
<polygon fill="#ffffff" stroke="#000000" points="79,-80 0,-80 0,-58 79,-58 79,-80"/>
<text text-anchor="middle" x="39.5" y="-67.1" font-family="Segoe UI" font-size="8.00" fill="#000000">AccountCampaigns</text>
</g>
<!-- Ad Accounts_5 -->
<g id="node6" class="node">
<title>Ad Accounts_5</title>
<ellipse fill="#e1f5fe" stroke="#4fc3f7" cx="169.5" cy="-11" rx="27.89" ry="11"/>
<text text-anchor="middle" x="169.5" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">Ad Accounts</text>
</g>
<!-- AccountCampaigns_0&#45;&#45;Ad Accounts_5 -->
<g id="edge5" class="edge">
<title>AccountCampaigns_0&#45;&#45;Ad Accounts_5</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M62.74,-57.99C88.3,-46.98 128.81,-29.53 151.88,-19.59"/>
</g>
<!-- Ad Campaigns_6 -->
<g id="node7" class="node">
<title>Ad Campaigns_6</title>
<ellipse fill="#e1f5fe" stroke="#4fc3f7" cx="91.5" cy="-11" rx="32.16" ry="11"/>
<text text-anchor="middle" x="91.5" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">Ad Campaigns</text>
</g>
<!-- AccountCampaigns_0&#45;&#45;Ad Campaigns_6 -->
<g id="edge4" class="edge">
<title>AccountCampaigns_0&#45;&#45;Ad Campaigns_6</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M48.8,-57.99C58.26,-47.8 72.85,-32.09 82.28,-21.93"/>
</g>
<!-- AdAccountCampaignSetHierarchy_1 -->
<g id="node2" class="node">
<title>AdAccountCampaignSetHierarchy_1</title>
<polygon fill="#ffffff" stroke="#000000" points="235.5,-80 97.5,-80 97.5,-58 235.5,-58 235.5,-80"/>
<text text-anchor="middle" x="166.5" y="-67.1" font-family="Segoe UI" font-size="8.00" fill="#000000">AdAccountCampaignSetHierarchy</text>
</g>
<!-- Ad Sets_4 -->
<g id="node5" class="node">
<title>Ad Sets_4</title>
<ellipse fill="#e1f5fe" stroke="#4fc3f7" cx="246.5" cy="-11" rx="18" ry="11"/>
<text text-anchor="middle" x="246.5" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">Ad Sets</text>
</g>
<!-- AdAccountCampaignSetHierarchy_1&#45;&#45;Ad Sets_4 -->
<g id="edge1" class="edge">
<title>AdAccountCampaignSetHierarchy_1&#45;&#45;Ad Sets_4</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M180.8,-57.99C196.44,-47.04 221.17,-29.73 235.41,-19.76"/>
</g>
<!-- AdAccountCampaignSetHierarchy_1&#45;&#45;Ad Accounts_5 -->
<g id="edge2" class="edge">
<title>AdAccountCampaignSetHierarchy_1&#45;&#45;Ad Accounts_5</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M167.04,-57.99C167.58,-47.92 168.4,-32.47 168.95,-22.3"/>
</g>
<!-- AdAccountCampaignSetHierarchy_1&#45;&#45;Ad Campaigns_6 -->
<g id="edge3" class="edge">
<title>AdAccountCampaignSetHierarchy_1&#45;&#45;Ad Campaigns_6</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M153.09,-57.99C139.1,-47.54 117.36,-31.31 103.8,-21.18"/>
</g>
<!-- AdCreativeDetails_2 -->
<g id="node3" class="node">
<title>AdCreativeDetails_2</title>
<polygon fill="#ffffff" stroke="#000000" points="434,-80 361,-80 361,-58 434,-58 434,-80"/>
<text text-anchor="middle" x="397.5" y="-67.1" font-family="Segoe UI" font-size="8.00" fill="#000000">AdCreativeDetails</text>
</g>
<!-- Ad Creatives_7 -->
<g id="node8" class="node">
<title>Ad Creatives_7</title>
<ellipse fill="#e1f5fe" stroke="#4fc3f7" cx="388.5" cy="-11" rx="28.49" ry="11"/>
<text text-anchor="middle" x="388.5" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">Ad Creatives</text>
</g>
<!-- AdCreativeDetails_2&#45;&#45;Ad Creatives_7 -->
<g id="edge6" class="edge">
<title>AdCreativeDetails_2&#45;&#45;Ad Creatives_7</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M395.89,-57.99C394.27,-47.92 391.79,-32.47 390.16,-22.3"/>
</g>
<!-- Ads_8 -->
<g id="node9" class="node">
<title>Ads_8</title>
<ellipse fill="#e1f5fe" stroke="#4fc3f7" cx="307.5" cy="-11" rx="18" ry="11"/>
<text text-anchor="middle" x="307.5" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">Ads</text>
</g>
<!-- AdCreativeDetails_2&#45;&#45;Ads_8 -->
<g id="edge7" class="edge">
<title>AdCreativeDetails_2&#45;&#45;Ads_8</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M381.41,-57.99C363.61,-46.91 335.35,-29.33 319.43,-19.42"/>
</g>
<!-- FacebookAdHierarchy_3 -->
<g id="node4" class="node">
<title>FacebookAdHierarchy_3</title>
<polygon fill="#e1f5fe" stroke="#4fc3f7" points="343,-80 254,-80 254,-58 343,-58 343,-80"/>
<text text-anchor="middle" x="298.5" y="-67.1" font-family="Segoe UI" font-size="8.00" fill="#000000">FacebookAdHierarchy</text>
</g>
<!-- FacebookAdHierarchy_3&#45;&#45;Ad Sets_4 -->
<g id="edge10" class="edge">
<title>FacebookAdHierarchy_3&#45;&#45;Ad Sets_4</title>
<path fill="none" stroke="#4fc3f7" d="M289.2,-57.99C279.39,-47.42 264.06,-30.92 254.69,-20.82"/>
</g>
<!-- FacebookAdHierarchy_3&#45;&#45;Ad Accounts_5 -->
<g id="edge9" class="edge">
<title>FacebookAdHierarchy_3&#45;&#45;Ad Accounts_5</title>
<path fill="none" stroke="#4fc3f7" d="M275.44,-57.99C250.07,-46.98 209.88,-29.53 186.99,-19.59"/>
</g>
<!-- FacebookAdHierarchy_3&#45;&#45;Ad Campaigns_6 -->
<g id="edge11" class="edge">
<title>FacebookAdHierarchy_3&#45;&#45;Ad Campaigns_6</title>
<path fill="none" stroke="#4fc3f7" d="M261.49,-57.99C219.28,-46.57 151.47,-28.23 115.59,-18.52"/>
</g>
<!-- FacebookAdHierarchy_3&#45;&#45;Ad Creatives_7 -->
<g id="edge12" class="edge">
<title>FacebookAdHierarchy_3&#45;&#45;Ad Creatives_7</title>
<path fill="none" stroke="#4fc3f7" d="M314.59,-57.99C331.68,-47.35 358.42,-30.72 374.61,-20.64"/>
</g>
<!-- FacebookAdHierarchy_3&#45;&#45;Ads_8 -->
<g id="edge8" class="edge">
<title>FacebookAdHierarchy_3&#45;&#45;Ads_8</title>
<path fill="none" stroke="#4fc3f7" d="M300.11,-57.99C301.73,-47.92 304.21,-32.47 305.84,-22.3"/>
</g>
</g>
</svg>

        </div>
        
    <br>
    
    </div>
<div class="carousel-item " style="transition: none;">
    <p>Story behind the relationships <small class="text-muted"> (only for those connect >= 2 entities)</small></p><ol class="small"><li>[AccountCampaigns]: Advertisers create Ad Accounts and set up Campaigns</li><li>[AdAccountCampaignSetHierarchy]: Campaigns are divided into Ad Sets with specific targets</li><li>[AdCreativeDetails]: Advertisers design Ad Creatives with content and specifications</li><li>[FacebookAdHierarchy]: Ad Sets are populated with Ads using specific Creatives</li><li><b>[AdAccountPerformanceTracking]: Ad performance metrics are tracked daily within Accounts</b></li></ol>
    
        <div style="overflow: auto; border: 1px solid #cccccc;">
            <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="591pt" height="88pt"
 viewBox="0.00 0.00 590.50 88.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 84)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-84 586.5,-84 586.5,4 -4,4"/>
<!-- AccountCampaigns_0 -->
<g id="node1" class="node">
<title>AccountCampaigns_0</title>
<polygon fill="#ffffff" stroke="#000000" points="235.5,-80 156.5,-80 156.5,-58 235.5,-58 235.5,-80"/>
<text text-anchor="middle" x="196" y="-67.1" font-family="Segoe UI" font-size="8.00" fill="#000000">AccountCampaigns</text>
</g>
<!-- Ad Accounts_6 -->
<g id="node7" class="node">
<title>Ad Accounts_6</title>
<ellipse fill="#e1f5fe" stroke="#4fc3f7" cx="298" cy="-11" rx="27.89" ry="11"/>
<text text-anchor="middle" x="298" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">Ad Accounts</text>
</g>
<!-- AccountCampaigns_0&#45;&#45;Ad Accounts_6 -->
<g id="edge5" class="edge">
<title>AccountCampaigns_0&#45;&#45;Ad Accounts_6</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M214.24,-57.99C233.83,-47.23 264.62,-30.32 282.91,-20.28"/>
</g>
<!-- Ad Campaigns_7 -->
<g id="node8" class="node">
<title>Ad Campaigns_7</title>
<ellipse fill="#ffffff" stroke="#000000" cx="166" cy="-11" rx="32.16" ry="11"/>
<text text-anchor="middle" x="166" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">Ad Campaigns</text>
</g>
<!-- AccountCampaigns_0&#45;&#45;Ad Campaigns_7 -->
<g id="edge4" class="edge">
<title>AccountCampaigns_0&#45;&#45;Ad Campaigns_7</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M190.64,-57.99C185.18,-47.8 176.76,-32.09 171.32,-21.93"/>
</g>
<!-- AdAccountCampaignSetHierarchy_1 -->
<g id="node2" class="node">
<title>AdAccountCampaignSetHierarchy_1</title>
<polygon fill="#ffffff" stroke="#000000" points="138,-80 0,-80 0,-58 138,-58 138,-80"/>
<text text-anchor="middle" x="69" y="-67.1" font-family="Segoe UI" font-size="8.00" fill="#000000">AdAccountCampaignSetHierarchy</text>
</g>
<!-- Ad Sets_5 -->
<g id="node6" class="node">
<title>Ad Sets_5</title>
<ellipse fill="#ffffff" stroke="#000000" cx="234" cy="-11" rx="18" ry="11"/>
<text text-anchor="middle" x="234" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">Ad Sets</text>
</g>
<!-- AdAccountCampaignSetHierarchy_1&#45;&#45;Ad Sets_5 -->
<g id="edge1" class="edge">
<title>AdAccountCampaignSetHierarchy_1&#45;&#45;Ad Sets_5</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M100.07,-57.97C128.1,-48.84 170.43,-34.86 207,-22 211.06,-20.57 215.43,-18.98 219.46,-17.49"/>
</g>
<!-- AdAccountCampaignSetHierarchy_1&#45;&#45;Ad Accounts_6 -->
<g id="edge2" class="edge">
<title>AdAccountCampaignSetHierarchy_1&#45;&#45;Ad Accounts_6</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M112.55,-57.94C151.53,-48.85 210.18,-34.95 261,-22 265.9,-20.75 271.15,-19.36 276.11,-18.03"/>
</g>
<!-- AdAccountCampaignSetHierarchy_1&#45;&#45;Ad Campaigns_7 -->
<g id="edge3" class="edge">
<title>AdAccountCampaignSetHierarchy_1&#45;&#45;Ad Campaigns_7</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M86.34,-57.99C104.65,-47.42 133.24,-30.92 150.72,-20.82"/>
</g>
<!-- AdCreativeDetails_2 -->
<g id="node3" class="node">
<title>AdCreativeDetails_2</title>
<polygon fill="#ffffff" stroke="#000000" points="582.5,-80 509.5,-80 509.5,-58 582.5,-58 582.5,-80"/>
<text text-anchor="middle" x="546" y="-67.1" font-family="Segoe UI" font-size="8.00" fill="#000000">AdCreativeDetails</text>
</g>
<!-- Ad Creatives_8 -->
<g id="node9" class="node">
<title>Ad Creatives_8</title>
<ellipse fill="#ffffff" stroke="#000000" cx="518" cy="-11" rx="28.49" ry="11"/>
<text text-anchor="middle" x="518" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">Ad Creatives</text>
</g>
<!-- AdCreativeDetails_2&#45;&#45;Ad Creatives_8 -->
<g id="edge6" class="edge">
<title>AdCreativeDetails_2&#45;&#45;Ad Creatives_8</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M540.99,-57.99C535.9,-47.8 528.04,-32.09 522.96,-21.93"/>
</g>
<!-- Ads_9 -->
<g id="node10" class="node">
<title>Ads_9</title>
<ellipse fill="#e1f5fe" stroke="#4fc3f7" cx="426" cy="-11" rx="18" ry="11"/>
<text text-anchor="middle" x="426" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">Ads</text>
</g>
<!-- AdCreativeDetails_2&#45;&#45;Ads_9 -->
<g id="edge7" class="edge">
<title>AdCreativeDetails_2&#45;&#45;Ads_9</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M524.55,-57.99C500.01,-46.54 460.55,-28.12 439.79,-18.44"/>
</g>
<!-- FacebookAdHierarchy_3 -->
<g id="node4" class="node">
<title>FacebookAdHierarchy_3</title>
<polygon fill="#ffffff" stroke="#000000" points="342.5,-80 253.5,-80 253.5,-58 342.5,-58 342.5,-80"/>
<text text-anchor="middle" x="298" y="-67.1" font-family="Segoe UI" font-size="8.00" fill="#000000">FacebookAdHierarchy</text>
</g>
<!-- FacebookAdHierarchy_3&#45;&#45;Ad Sets_5 -->
<g id="edge10" class="edge">
<title>FacebookAdHierarchy_3&#45;&#45;Ad Sets_5</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M286.56,-57.99C274.33,-47.29 255.17,-30.52 243.67,-20.46"/>
</g>
<!-- FacebookAdHierarchy_3&#45;&#45;Ad Accounts_6 -->
<g id="edge9" class="edge">
<title>FacebookAdHierarchy_3&#45;&#45;Ad Accounts_6</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M298,-57.99C298,-47.92 298,-32.47 298,-22.3"/>
</g>
<!-- FacebookAdHierarchy_3&#45;&#45;Ad Campaigns_7 -->
<g id="edge11" class="edge">
<title>FacebookAdHierarchy_3&#45;&#45;Ad Campaigns_7</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M274.4,-57.99C248.89,-47.17 208.73,-30.13 185.11,-20.11"/>
</g>
<!-- FacebookAdHierarchy_3&#45;&#45;Ad Creatives_8 -->
<g id="edge12" class="edge">
<title>FacebookAdHierarchy_3&#45;&#45;Ad Creatives_8</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M337.33,-57.99C383.31,-46.29 457.85,-27.31 495.18,-17.81"/>
</g>
<!-- FacebookAdHierarchy_3&#45;&#45;Ads_9 -->
<g id="edge8" class="edge">
<title>FacebookAdHierarchy_3&#45;&#45;Ads_9</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M320.88,-57.99C347.35,-46.41 390.07,-27.72 412.01,-18.12"/>
</g>
<!-- AdAccountPerformanceTracking_4 -->
<g id="node5" class="node">
<title>AdAccountPerformanceTracking_4</title>
<polygon fill="#e1f5fe" stroke="#4fc3f7" points="491,-80 361,-80 361,-58 491,-58 491,-80"/>
<text text-anchor="middle" x="426" y="-67.1" font-family="Segoe UI" font-size="8.00" fill="#000000">AdAccountPerformanceTracking</text>
</g>
<!-- AdAccountPerformanceTracking_4&#45;&#45;Ad Accounts_6 -->
<g id="edge13" class="edge">
<title>AdAccountPerformanceTracking_4&#45;&#45;Ad Accounts_6</title>
<path fill="none" stroke="#4fc3f7" d="M403.12,-57.99C378.09,-47.04 338.52,-29.73 315.74,-19.76"/>
</g>
<!-- AdAccountPerformanceTracking_4&#45;&#45;Ads_9 -->
<g id="edge14" class="edge">
<title>AdAccountPerformanceTracking_4&#45;&#45;Ads_9</title>
<path fill="none" stroke="#4fc3f7" d="M426,-57.99C426,-47.92 426,-32.47 426,-22.3"/>
</g>
</g>
</svg>

        </div>
        
    <br>
    
    </div>
        </div>
    </div>
</div>
<p class="text-center mt-4">cocoon_er.yml <small class="text-muted">(Document the entity relationships)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-yaml">groups: []
entities:
- entity_name: Ad Accounts
  entity_description: Represents Facebook advertising accounts with current account
    details and settings.
  table_name: snapshot_facebook_ads_account_history_data
  primary_key: account_id
- entity_name: Ad Sets
  entity_description: Represents groups of Facebook ads with shared settings and targeting
    options.
  table_name: snapshot_facebook_ads_ad_set_history_data
  primary_key: ad_set_id
- entity_name: Ad Campaigns
  entity_description: Represents Facebook advertising campaigns, which are collections
    of ad sets and ads with shared objectives.
  table_name: snapshot_facebook_ads_campaign_history_data
  primary_key: campaign_id
- entity_name: Ad Creatives
  entity_description: Represents the visual and textual content of Facebook ads, including
    images, videos, and text.
  table_name: stg_facebook_ads_creative_history_data
  primary_key: creative_id
- entity_name: Ads
  entity_description: Represents individual Facebook advertisements with their associated
    details and relationships to other entities.
  table_name: snapshot_facebook_ads_ad_history_data
  primary_key: ad_id
relations:
- relation_name: AdAccountCampaignSetHierarchy
  relation_description: Ad Accounts contain multiple Ad Campaigns, which in turn contain
    multiple Ad Sets with specific targeting and budget settings.
  table_name: snapshot_facebook_ads_ad_set_history_data
  entities:
  - Ad Sets
  - Ad Accounts
  - Ad Campaigns
- relation_name: AccountCampaigns
  relation_description: Ad Campaigns are created and managed within Ad Accounts, with
    each campaign belonging to a specific account.
  table_name: snapshot_facebook_ads_campaign_history_data
  entities:
  - Ad Campaigns
  - Ad Accounts
- relation_name: AdCreativeDetails
  relation_description: Ad Creatives contain detailed content and specifications for
    individual Ads used in Facebook advertising campaigns.
  table_name: stg_facebook_ads_creative_history_data
  entities:
  - Ad Creatives
  - Ads
- relation_name: FacebookAdHierarchy
  relation_description: Ad Accounts contain Campaigns, which include Ad Sets, and
    Ad Sets contain Ads that use specific Ad Creatives.
  table_name: snapshot_facebook_ads_ad_history_data
  entities:
  - Ads
  - Ad Accounts
  - Ad Sets
  - Ad Campaigns
  - Ad Creatives
- relation_name: AdAccountPerformanceTracking
  relation_description: Ad Accounts contain multiple Ads, which are tracked for performance
    metrics on a daily basis.
  table_name: stg_facebook_ads_basic_ad_data
  entities:
  - Ad Accounts
  - Ads
story:
- name: AccountCampaigns
  description: Advertisers create Ad Accounts and set up Campaigns
  type: relation
- name: AdAccountCampaignSetHierarchy
  description: Campaigns are divided into Ad Sets with specific targets
  type: relation
- name: AdCreativeDetails
  description: Advertisers design Ad Creatives with content and specifications
  type: relation
- name: FacebookAdHierarchy
  description: Ad Sets are populated with Ads using specific Creatives
  type: relation
- name: AdAccountPerformanceTracking
  description: Ad performance metrics are tracked daily within Accounts
  type: relation
</code></pre>
</div>
        </div>
        
                </div>
            </div>
        </div>
        
                        </div>
                    </div>
                </div>

            </div>
            <div class="col-md-3">
                <div class="list-group" id="myTab" role="tablist">
                    
        <a class="list-group-item list-group-item-action active" data-toggle="list" href="#cocoon_steps_source">
            <div>
                <h6 class="mb-0">1. Source</h6>
                <small>Initial tables from data warehouses</small>
            </div>
        </a>
        
        <a class="list-group-item list-group-item-action " data-toggle="list" href="#cocoon_steps_stage">
            <div>
                <h6 class="mb-0">2. Stage</h6>
                <small>Clean and document the tables</small>
            </div>
        </a>
        
        <a class="list-group-item list-group-item-action " data-toggle="list" href="#cocoon_steps_snapshot">
            <div>
                <h6 class="mb-0">3. SCD Model</h6>
                <small>Snapshot from the change events</small>
            </div>
        </a>
        
        <a class="list-group-item list-group-item-action " data-toggle="list" href="#cocoon_steps_join">
            <div>
                <h6 class="mb-0">4. Integration</h6>
                <small>Join graph from PK/FK</small>
            </div>
        </a>
        
        <a class="list-group-item list-group-item-action " data-toggle="list" href="#cocoon_steps_knowledge">
            <div>
                <h6 class="mb-0">5. Process</h6>
                <small>Process behind the tables</small>
            </div>
        </a>
        
                </div>
            </div>
        </div>
    </div>
</body>

</html>