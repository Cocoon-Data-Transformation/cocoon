<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cocoon - Data Modeling</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
        integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
        crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
        crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism-tomorrow.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-sql.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-yaml.min.js"></script>
</head>
<style>
    /* for list-group-item highlight */
    .list-group-item.active {
        background-color: #464646;
        border-color: #f8f9fa;
        color: #ffffff;
    }

    .list-group-item.active:hover {
        background-color: #bebebe;
        border-color: #e9ecef;
        color: #ffffff;
    }

    /* for nav-link highlight */
    .nav-link {
        color: #6c757d !important;
        /* Gray color for inactive links */
    }

    .nav-link.active {
        color: #000 !important;
        /* Black color for active link */
    }

table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
    font-size: 0.9em;
    border-radius: 4px;
    overflow: hidden;
}

th,
td {
    padding: 3px 4px;
    text-align: left;
    border-bottom: 1px solid #dddddd;
    border-right: 1px solid #dddddd;
}

thead tr {
    background-color: #464646;
    /* Changed color for header */
    color: #ffffff;
    /* Changed text color for better contrast */
    text-align: left;
    font-weight: bold;
    font-size: 12px;
}

th {
    top: 0;
    background-color: #464646;
    color: #ffffff;
}

tbody tr {
    background-color: #f9f9f9;
    /* Lighter color for content rows */
    font-size: 10px
}
.code_container {
    max-height: calc(60vh);
    overflow: auto;
}

.code_container pre[class*="language-"] {
    border-radius: 4px;
    padding: 1em;
    margin: .5em 0;
    overflow: auto;
    font-size: 12px;
}


.tree li {
    list-style-type: none;
    margin: 10px 0 10px 10px;
    position: relative;
}
.tree li::before {
    content: "";
    position: absolute;
    top: -10px;
    left: -20px;
    border-left: 1px solid #ccc;
    border-bottom: 1px solid #ccc;
    width: 20px;
    height: 15px;
}
.tree li::after {
    position: absolute;
    content: "";
    top: 5px;
    left: -20px;
    border-left: 1px solid #ccc;
    border-top: 1px solid #ccc;
    width: 20px;
    height: 100%;
}
.tree li:last-child::after {
    display: none;
}
.tree li:last-child:before {
    border-radius: 0 0 0 5px;
}
ul.tree > li:first-child::before {
    display: none;
}
ul.tree > li:first-child::after {
    border-radius: 5px 0 0 0;
}
.tree li span {
    border: 1px solid #ccc;
    padding: 5px 10px;
    text-decoration: none;
    color: #666;
    font-family: arial, verdana, tahoma;
    font-size: 11px;
    display: inline-block;
    border-radius: 5px;
    transition: all 0.2s;
    width: 400px;
    box-sizing: border-box;
    white-space: normal;
    word-wrap: break-word;
}

.tree li span:hover, .tree li span:hover+ul li span {
    background: #c8e4f8;
    color: #000;
    border: 1px solid #94a0b4;
}
.tree li span:hover+ul li::after, 
.tree li span:hover+ul li::before, 
.tree li span:hover+ul::before, 
.tree li span:hover+ul ul::before {
    border-color: #94a0b4;
}

/* Collapsible functionality */
.tree li input[type="checkbox"] {
    display: none;
}
.tree li input[type="checkbox"] ~ ul {
    display: none;
}
.tree li input[type="checkbox"]:checked ~ ul {
    display: block;
}
.tree li label {
    cursor: pointer;
}

/* Color indicator for expandable items */
.tree li label span {
    background-color: #e6f3ff;
    border-color: #b8daff;
    color: #004085;
}
.tree li label span:hover {
    background-color: #cce5ff;
    border-color: #b8daff;
    color: #002752;
}

/* Styles for <b> tags */
.tree li span b {
    font-size: 13px;
    display: block;
    margin-bottom: 3px;
}

/* Styles for <em> tags in labels */
.tree li label span em {
    color: #666;
    font-style: italic;
    font-size: 10px;
    display: block;
    max-width: 200px;
}

/* Styles for <em> tags in regular list items */
.tree li:not(label) span em {
    color: #888;
    font-style: normal;
    font-size: 10px;
    display: inline;
}


    .code_container {
        max-height: calc(60vh);
        overflow: auto;
    }

    .code_container pre[class*="language-"] {
        border-radius: 4px;
        padding: 1em;
        margin: .5em 0;
        overflow: auto;
        font-size: 12px;
    }


    .carousel-indicators li {
        background-color: #808080;
        /* Gray for inactive indicators */
    }

    .carousel-indicators .active {
        background-color: #000000;
        /* Black for active indicator */
    }
</style>

<body>


    <div class="container mt-4">
        <!-- New row for the header -->
        <div class="row mb-4">
            <div class="col-md-6">
                <a href="https://github.com/Cocoon-Data-Transformation/cocoon" target="_blank"
                    class="text-decoration-none text-dark">
                    <div class="d-flex align-items-center">
                        <img src="https://raw.githubusercontent.com/Cocoon-Data-Transformation/cocoon/main/images/cocoon_icon.png"
                            alt="cocoon icon" width="40" class="mr-3">
                        <div>
                            <h4 class="mb-0">Cocoon Catalog</h4>
                            <small class="mb-0">Verified by human, RAG by LLMs</small>
                        </div>
                    </div>
                </a>
            </div>
            <div class="col-md-6 d-flex align-items-center justify-content-end">
                <h2><agent_exp.DataProject object at 0x7fb01a605280></h2>
            </div>
        </div>


        <div class="row">
            <div class="col-md-9">
                <div class="card">
                    <div class="card-body">
                        <div class="tab-content">
                            
        <div class="tab-pane fade show active" id="cocoon_steps_source">
            <nav class="navbar navbar-light bg-light">
                <span class="navbar-brand mb-0">
                    <h5 class="card-title mb-0">Source</h5>
                </span>
                
    <ul class="nav">
        <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle active" href="#"
                id="navbarDropdownMenuLink_source" data-toggle="dropdown" aria-haspopup="true"
                aria-expanded="false">
                Select Source Table
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink_source">
    <a class="dropdown-item active" data-toggle="tab" href="#cocoon_source_advertised_product_report_data">advertised_product_report_data</a><a class="dropdown-item " data-toggle="tab" href="#cocoon_source_ad_group_history_data">ad_group_history_data</a><a class="dropdown-item " data-toggle="tab" href="#cocoon_source_ad_group_level_report_data">ad_group_level_report_data</a><a class="dropdown-item " data-toggle="tab" href="#cocoon_source_campaign_history_data">campaign_history_data</a><a class="dropdown-item " data-toggle="tab" href="#cocoon_source_campaign_level_report_data">campaign_level_report_data</a><a class="dropdown-item " data-toggle="tab" href="#cocoon_source_keyword_history_data">keyword_history_data</a><a class="dropdown-item " data-toggle="tab" href="#cocoon_source_portfolio_history_data">portfolio_history_data</a><a class="dropdown-item " data-toggle="tab" href="#cocoon_source_product_ad_history_data">product_ad_history_data</a><a class="dropdown-item " data-toggle="tab" href="#cocoon_source_profile_data">profile_data</a><a class="dropdown-item " data-toggle="tab" href="#cocoon_source_search_term_ad_keyword_report_data">search_term_ad_keyword_report_data</a><a class="dropdown-item " data-toggle="tab" href="#cocoon_source_targeting_keyword_report_data">targeting_keyword_report_data</a>
            </div>
        </li>
    </ul>
    
            </nav>
            <div class="container">
                <small class="text-muted">We display the source tables from the data warehouses to model.</small>
            </div>
            <hr>
            <div class="scroll-container overflow-auto">
                <div class="tab-content mt-3">
                    
        <div class="tab-pane fade show active" id="cocoon_source_advertised_product_report_data">
            <p class="subtitle text-center mb-3">advertised_product_report_data</p>
            <p class="text-center mb-0">Table Preview<small class="text-muted">(schema only)</small></p><div class="code_container mb-4 mx-4"><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ad_group_id</th>
      <th>ad_id</th>
      <th>campaign_id</th>
      <th>date_</th>
      <th>_fivetran_synced</th>
      <th>campaign_budget_amount</th>
      <th>campaign_budget_currency_code</th>
      <th>campaign_budget_type</th>
      <th>clicks</th>
      <th>cost</th>
      <th>impressions</th>
      <th>__advertised_asin</th>
      <th>__advertised_sku</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table></div>
        </div>
        
        <div class="tab-pane fade " id="cocoon_source_ad_group_history_data">
            <p class="subtitle text-center mb-3">ad_group_history_data</p>
            <p class="text-center mb-0">Table Preview<small class="text-muted">(schema only)</small></p><div class="code_container mb-4 mx-4"><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>last_updated_date</th>
      <th>_fivetran_synced</th>
      <th>campaign_id</th>
      <th>creation_date</th>
      <th>default_bid</th>
      <th>name</th>
      <th>serving_status</th>
      <th>state</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table></div>
        </div>
        
        <div class="tab-pane fade " id="cocoon_source_ad_group_level_report_data">
            <p class="subtitle text-center mb-3">ad_group_level_report_data</p>
            <p class="text-center mb-0">Table Preview<small class="text-muted">(schema only)</small></p><div class="code_container mb-4 mx-4"><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ad_group_id</th>
      <th>date_</th>
      <th>_fivetran_synced</th>
      <th>campaign_bidding_strategy</th>
      <th>clicks</th>
      <th>cost</th>
      <th>impressions</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table></div>
        </div>
        
        <div class="tab-pane fade " id="cocoon_source_campaign_history_data">
            <p class="subtitle text-center mb-3">campaign_history_data</p>
            <p class="text-center mb-0">Table Preview<small class="text-muted">(schema only)</small></p><div class="code_container mb-4 mx-4"><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>last_updated_date</th>
      <th>_fivetran_synced</th>
      <th>bidding_strategy</th>
      <th>creation_date</th>
      <th>budget</th>
      <th>end_date</th>
      <th>name</th>
      <th>portfolio_id</th>
      <th>profile_id</th>
      <th>serving_status</th>
      <th>start_date</th>
      <th>state</th>
      <th>targeting_type</th>
      <th>budget_type</th>
      <th>effective_budget</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table></div>
        </div>
        
        <div class="tab-pane fade " id="cocoon_source_campaign_level_report_data">
            <p class="subtitle text-center mb-3">campaign_level_report_data</p>
            <p class="text-center mb-0">Table Preview<small class="text-muted">(schema only)</small></p><div class="code_container mb-4 mx-4"><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>campaign_id</th>
      <th>date_</th>
      <th>_fivetran_synced</th>
      <th>campaign_applicable_budget_rule_id</th>
      <th>campaign_applicable_budget_rule_name</th>
      <th>campaign_bidding_strategy</th>
      <th>campaign_budget_amount</th>
      <th>campaign_budget_currency_code</th>
      <th>campaign_budget_type</th>
      <th>clicks</th>
      <th>cost</th>
      <th>impressions</th>
      <th>campaign_rule_based_budget_amount</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table></div>
        </div>
        
        <div class="tab-pane fade " id="cocoon_source_keyword_history_data">
            <p class="subtitle text-center mb-3">keyword_history_data</p>
            <p class="text-center mb-0">Table Preview<small class="text-muted">(schema only)</small></p><div class="code_container mb-4 mx-4"><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>last_updated_date</th>
      <th>_fivetran_synced</th>
      <th>ad_group_id</th>
      <th>bid</th>
      <th>campaign_id</th>
      <th>creation_date</th>
      <th>keyword_text</th>
      <th>match_type</th>
      <th>native_language_keyword</th>
      <th>serving_status</th>
      <th>state</th>
      <th>native_language_locale</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table></div>
        </div>
        
        <div class="tab-pane fade " id="cocoon_source_portfolio_history_data">
            <p class="subtitle text-center mb-3">portfolio_history_data</p>
            <p class="text-center mb-0">Table Preview<small class="text-muted">(schema only)</small></p><div class="code_container mb-4 mx-4"><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>last_updated_date</th>
      <th>_fivetran_synced</th>
      <th>budget_amount</th>
      <th>budget_currency_code</th>
      <th>budget_end_date</th>
      <th>budget_policy</th>
      <th>budget_start_date</th>
      <th>creation_date</th>
      <th>in_budget</th>
      <th>name</th>
      <th>profile_id</th>
      <th>serving_status</th>
      <th>state</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table></div>
        </div>
        
        <div class="tab-pane fade " id="cocoon_source_product_ad_history_data">
            <p class="subtitle text-center mb-3">product_ad_history_data</p>
            <p class="text-center mb-0">Table Preview<small class="text-muted">(schema only)</small></p><div class="code_container mb-4 mx-4"><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>last_updated_date</th>
      <th>_fivetran_synced</th>
      <th>ad_group_id</th>
      <th>asin</th>
      <th>campaign_id</th>
      <th>creation_date</th>
      <th>serving_status</th>
      <th>sku</th>
      <th>state</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table></div>
        </div>
        
        <div class="tab-pane fade " id="cocoon_source_profile_data">
            <p class="subtitle text-center mb-3">profile_data</p>
            <p class="text-center mb-0">Table Preview<small class="text-muted">(schema only)</small></p><div class="code_container mb-4 mx-4"><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>_fivetran_deleted</th>
      <th>_fivetran_synced</th>
      <th>account_id</th>
      <th>account_marketplace_string_id</th>
      <th>account_name</th>
      <th>account_sub_type</th>
      <th>account_type</th>
      <th>account_valid_payment_method</th>
      <th>country_code</th>
      <th>currency_code</th>
      <th>daily_budget</th>
      <th>timezone</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table></div>
        </div>
        
        <div class="tab-pane fade " id="cocoon_source_search_term_ad_keyword_report_data">
            <p class="subtitle text-center mb-3">search_term_ad_keyword_report_data</p>
            <p class="text-center mb-0">Table Preview<small class="text-muted">(schema only)</small></p><div class="code_container mb-4 mx-4"><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ad_group_id</th>
      <th>campaign_id</th>
      <th>date_</th>
      <th>keyword_id</th>
      <th>_fivetran_synced</th>
      <th>campaign_budget_amount</th>
      <th>campaign_budget_currency_code</th>
      <th>campaign_budget_type</th>
      <th>clicks</th>
      <th>cost</th>
      <th>impressions</th>
      <th>keyword_bid</th>
      <th>search_term</th>
      <th>targeting</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table></div>
        </div>
        
        <div class="tab-pane fade " id="cocoon_source_targeting_keyword_report_data">
            <p class="subtitle text-center mb-3">targeting_keyword_report_data</p>
            <p class="text-center mb-0">Table Preview<small class="text-muted">(schema only)</small></p><div class="code_container mb-4 mx-4"><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ad_group_id</th>
      <th>campaign_id</th>
      <th>date_</th>
      <th>keyword_id</th>
      <th>_fivetran_synced</th>
      <th>ad_keyword_status</th>
      <th>campaign_budget_amount</th>
      <th>campaign_budget_currency_code</th>
      <th>campaign_budget_type</th>
      <th>clicks</th>
      <th>cost</th>
      <th>impressions</th>
      <th>keyword_bid</th>
      <th>keyword_type</th>
      <th>match_type</th>
      <th>targeting</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table></div>
        </div>
        
                </div>
            </div>
        </div>
        
        <div class="tab-pane fade " id="cocoon_steps_stage">
            <nav class="navbar navbar-light bg-light">
                <span class="navbar-brand mb-0">
                    <h5 class="card-title mb-0">Stage</h5>
                </span>
                
    <ul class="nav">
        <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle active" href="#"
                id="navbarDropdownMenuLink_stage" data-toggle="dropdown" aria-haspopup="true"
                aria-expanded="false">
                Select Stage Table
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink_stage">
    <a class="dropdown-item active" data-toggle="tab" href="#cocoon_stage_stg_profile_data">stg_profile_data</a><a class="dropdown-item " data-toggle="tab" href="#cocoon_stage_stg_product_ad_history_data">stg_product_ad_history_data</a><a class="dropdown-item " data-toggle="tab" href="#cocoon_stage_stg_ad_group_history_data">stg_ad_group_history_data</a><a class="dropdown-item " data-toggle="tab" href="#cocoon_stage_stg_campaign_history_data">stg_campaign_history_data</a><a class="dropdown-item " data-toggle="tab" href="#cocoon_stage_stg_targeting_keyword_report_data">stg_targeting_keyword_report_data</a><a class="dropdown-item " data-toggle="tab" href="#cocoon_stage_stg_portfolio_history_data">stg_portfolio_history_data</a><a class="dropdown-item " data-toggle="tab" href="#cocoon_stage_stg_keyword_history_data">stg_keyword_history_data</a><a class="dropdown-item " data-toggle="tab" href="#cocoon_stage_stg_campaign_level_report_data">stg_campaign_level_report_data</a><a class="dropdown-item " data-toggle="tab" href="#cocoon_stage_stg_search_term_ad_keyword_report_data">stg_search_term_ad_keyword_report_data</a><a class="dropdown-item " data-toggle="tab" href="#cocoon_stage_stg_ad_group_level_report_data">stg_ad_group_level_report_data</a><a class="dropdown-item " data-toggle="tab" href="#cocoon_stage_stg_advertised_product_report_data">stg_advertised_product_report_data</a>
            </div>
        </li>
    </ul>
    
            </nav>
            <div class="container">
                <small class="text-muted">We display the stage tables, their SQL transformations, and their configurations.</small>
            </div>
            <hr>
            <div class="scroll-container overflow-auto">
                <div class="tab-content mt-3">
                    
        <div class="tab-pane fade show active" id="cocoon_stage_stg_profile_data">
            <p class="subtitle text-center mb-3">stg_profile_data</p>
            
<p class="text-center mb-0">Table Preview <small class="text-muted">(schema only)</small></p>
<div class="code_container mb-4 mx-4"><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>id</th>
      <th>is_deleted</th>
      <th>account_id</th>
      <th>marketplace_id</th>
      <th>account_name</th>
      <th>account_sub_type</th>
      <th>account_type</th>
      <th>has_valid_payment</th>
      <th>country_code</th>
      <th>currency_code</th>
      <th>timezone</th>
      <th>daily_budget</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table></div>

<p class="text-center">stg_profile_data.sql <small class="text-muted">(clean the table)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-sql">-- COCOON BLOCK START: PLEASE DO NOT MODIFY THIS BLOCK FOR SELF-MAINTENANCE
-- Generated at 2024-08-25 17:37:43.834182+00:00
WITH 
"profile_data_projected" AS (
    -- Projection: Selecting 12 out of 13 columns
    -- Columns projected out: ['id', '_fivetran_deleted', '_fivetran_synced', 'account_id', 'account_marketplace_string_id', 'account_name', 'account_sub_type', 'account_type', 'account_valid_payment_method', 'country_code', 'currency_code', 'daily_budget', 'timezone']
    SELECT 
        "id",
        "_fivetran_deleted",
        "account_id",
        "account_marketplace_string_id",
        "account_name",
        "account_sub_type",
        "account_type",
        "account_valid_payment_method",
        "country_code",
        "currency_code",
        "daily_budget",
        "timezone"
    FROM "memory"."main"."profile_data"
),

"profile_data_projected_renamed" AS (
    -- Rename: Renaming columns
    -- _fivetran_deleted -> is_deleted
    -- account_marketplace_string_id -> marketplace_id
    -- account_valid_payment_method -> has_valid_payment
    SELECT 
        "id",
        "_fivetran_deleted" AS "is_deleted",
        "account_id",
        "account_marketplace_string_id" AS "marketplace_id",
        "account_name",
        "account_sub_type",
        "account_type",
        "account_valid_payment_method" AS "has_valid_payment",
        "country_code",
        "currency_code",
        "daily_budget",
        "timezone"
    FROM "profile_data_projected"
),

"profile_data_projected_renamed_casted" AS (
    -- Column Type Casting: 
    -- daily_budget: from INT to DECIMAL
    SELECT
        "id",
        "is_deleted",
        "account_id",
        "marketplace_id",
        "account_name",
        "account_sub_type",
        "account_type",
        "has_valid_payment",
        "country_code",
        "currency_code",
        "timezone",
        CAST("daily_budget" AS DECIMAL) 
        AS "daily_budget"
    FROM "profile_data_projected_renamed"
)

-- COCOON BLOCK END
SELECT *
FROM "profile_data_projected_renamed_casted"</code></pre>
</div>
<p class="text-center">stg_profile_data.yml <small class="text-muted"> (Document the table)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-yaml">version: 2
models:
- name: stg_profile_data
  description: The table is about account profiles. It contains details such as account
    ID, name, type, marketplace ID, and settings. Each row represents a unique account.
    Key fields include account type (e.g. vendor, agency), country, currency, daily
    budget, and timezone. The table also tracks whether the account has a valid payment
    method and if it has been deleted.
  columns:
  - name: id
    description: Unique identifier for the account profile
    tests:
    - not_null
    - unique
    cocoon_meta:
      unique_reason: This column is a unique identifier for each account profile.
        For this table, each row represents a unique account profile, and the id is
        unique across rows.
      data_type:
        current_data_type: INT
  - name: is_deleted
    description: Indicates if the account has been deleted
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: BOOLEAN
  - name: account_id
    description: Unique identifier for the account
    tests:
    - not_null
    - unique
    cocoon_meta:
      unique_reason: This column is a unique identifier for each account. For this
        table, each row represents a unique account, and the account_id is likely
        to be unique across rows.
      data_type:
        current_data_type: VARCHAR
  - name: marketplace_id
    description: Marketplace identifier for the account
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: account_name
    description: Name of the account
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: account_sub_type
    description: Subcategory of the account type
    tests:
    - accepted_values:
        values:
        - premium
        - basic
        - enterprise
        - standard
    cocoon_meta:
      missing_reason: Not applicable for certain account types or tiers.
      future_accepted_values:
      - free
      - trial
      - pro
      data_type:
        current_data_type: VARCHAR
  - name: account_type
    description: Primary category of the account
    tests:
    - not_null
    - accepted_values:
        values:
        - vendor
        - agency
        - seller
    cocoon_meta:
      future_accepted_values:
      - customer
      - supplier
      - partner
      - distributor
      - reseller
      data_type:
        current_data_type: VARCHAR
  - name: has_valid_payment
    description: Indicates if account has valid payment method
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: BOOLEAN
  - name: country_code
    description: Two-letter country code of the account
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: currency_code
    description: Three-letter currency code for the account
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: timezone
    description: Timezone setting for the account
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: daily_budget
    description: Daily spending limit for the account
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: DECIMAL
  tests: []
</code></pre>
</div>

        </div>
        
        <div class="tab-pane fade " id="cocoon_stage_stg_product_ad_history_data">
            <p class="subtitle text-center mb-3">stg_product_ad_history_data</p>
            
<p class="text-center mb-0">Table Preview <small class="text-muted">(schema only)</small></p>
<div class="code_container mb-4 mx-4"><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ad_id</th>
      <th>ad_group_id</th>
      <th>product_asin</th>
      <th>campaign_id</th>
      <th>ad_serving_status</th>
      <th>ad_state</th>
      <th>creation_date</th>
      <th>last_updated_date</th>
      <th>product_sku</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table></div>

<p class="text-center">stg_product_ad_history_data.sql <small class="text-muted">(clean the table)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-sql">-- COCOON BLOCK START: PLEASE DO NOT MODIFY THIS BLOCK FOR SELF-MAINTENANCE
-- Generated at 2024-08-25 17:36:19.223629+00:00
WITH 
"product_ad_history_data_projected" AS (
    -- Projection: Selecting 9 out of 10 columns
    -- Columns projected out: ['id', 'last_updated_date', '_fivetran_synced', 'ad_group_id', 'asin', 'campaign_id', 'creation_date', 'serving_status', 'sku', 'state']
    SELECT 
        "id",
        "last_updated_date",
        "ad_group_id",
        "asin",
        "campaign_id",
        "creation_date",
        "serving_status",
        "sku",
        "state"
    FROM "memory"."main"."product_ad_history_data"
),

"product_ad_history_data_projected_renamed" AS (
    -- Rename: Renaming columns
    -- id -> ad_id
    -- asin -> product_asin
    -- serving_status -> ad_serving_status
    -- sku -> product_sku
    -- state -> ad_state
    SELECT 
        "id" AS "ad_id",
        "last_updated_date",
        "ad_group_id",
        "asin" AS "product_asin",
        "campaign_id",
        "creation_date",
        "serving_status" AS "ad_serving_status",
        "sku" AS "product_sku",
        "state" AS "ad_state"
    FROM "product_ad_history_data_projected"
),

"product_ad_history_data_projected_renamed_casted" AS (
    -- Column Type Casting: 
    -- creation_date: from VARCHAR to TIMESTAMP
    -- last_updated_date: from VARCHAR to TIMESTAMP
    -- product_sku: from DECIMAL to VARCHAR
    SELECT
        "ad_id",
        "ad_group_id",
        "product_asin",
        "campaign_id",
        "ad_serving_status",
        "ad_state",
        CAST("creation_date" AS TIMESTAMP) 
        AS "creation_date",
        CAST("last_updated_date" AS TIMESTAMP) 
        AS "last_updated_date",
        CAST("product_sku" AS VARCHAR) 
        AS "product_sku"
    FROM "product_ad_history_data_projected_renamed"
)

-- COCOON BLOCK END
SELECT *
FROM "product_ad_history_data_projected_renamed_casted"</code></pre>
</div>
<p class="text-center">stg_product_ad_history_data.yml <small class="text-muted"> (Document the table)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-yaml">version: 2
models:
- name: stg_product_ad_history_data
  description: The table is about product ad history. It tracks changes in ad status
    over time for specific products. Each row represents a state change for an ad,
    identified by a unique ID. The table includes details like ad group ID, ASIN,
    campaign ID, creation date, serving status, and state. The 'last_updated_date'
    column shows when each change occurred, allowing for a chronological view of ad
    status changes.
  columns:
  - name: ad_id
    description: Unique identifier for the ad
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: ad_group_id
    description: Identifier for the group the ad belongs to
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: product_asin
    description: Amazon Standard Identification Number for the product
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: campaign_id
    description: Identifier for the campaign the ad is part of
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: ad_serving_status
    description: Current status of the ad's serving
    tests:
    - not_null
    - accepted_values:
        values:
        - AD_STATUS_LIVE
        - CAMPAIGN_PAUSED
        - AD_STATUS_PAUSED
    cocoon_meta:
      future_accepted_values:
      - AD_STATUS_PENDING_REVIEW
      - AD_STATUS_REJECTED
      - AD_STATUS_ARCHIVED
      - AD_STATUS_DELETED
      - ACCOUNT_PAUSED
      - AD_GROUP_PAUSED
      data_type:
        current_data_type: VARCHAR
  - name: ad_state
    description: Overall state of the ad (enabled or disabled)
    tests:
    - not_null
    - accepted_values:
        values:
        - enabled
        - disabled
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: creation_date
    description: Timestamp when the ad was initially created
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: TIMESTAMP
  - name: last_updated_date
    description: Timestamp of the most recent update to the ad
    tests:
    - not_null
    cocoon_meta:
      unique_reason: This column represents the timestamp of the most recent update
        to the ad. For this table, each row represents a state change for an ad at
        a specific point in time. The last_updated_date is unique across rows as it
        captures the exact moment of each state change, which is unlikely to be exactly
        the same for different updates.
      data_type:
        current_data_type: TIMESTAMP
  - name: product_sku
    description: Stock Keeping Unit, appears to be unused
    cocoon_meta:
      missing_reason: Not applicable when product is identified by ASIN instead.
      data_type:
        current_data_type: VARCHAR
  tests: []
</code></pre>
</div>

        </div>
        
        <div class="tab-pane fade " id="cocoon_stage_stg_ad_group_history_data">
            <p class="subtitle text-center mb-3">stg_ad_group_history_data</p>
            
<p class="text-center mb-0">Table Preview <small class="text-muted">(schema only)</small></p>
<div class="code_container mb-4 mx-4"><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ad_group_id</th>
      <th>campaign_id</th>
      <th>default_bid</th>
      <th>ad_group_name</th>
      <th>serving_status</th>
      <th>ad_group_state</th>
      <th>creation_date</th>
      <th>last_updated_date</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table></div>

<p class="text-center">stg_ad_group_history_data.sql <small class="text-muted">(clean the table)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-sql">-- COCOON BLOCK START: PLEASE DO NOT MODIFY THIS BLOCK FOR SELF-MAINTENANCE
-- Generated at 2024-08-25 17:29:36.726415+00:00
WITH 
"ad_group_history_data_projected" AS (
    -- Projection: Selecting 8 out of 9 columns
    -- Columns projected out: ['id', 'last_updated_date', '_fivetran_synced', 'campaign_id', 'creation_date', 'default_bid', 'name', 'serving_status', 'state']
    SELECT 
        "id",
        "last_updated_date",
        "campaign_id",
        "creation_date",
        "default_bid",
        "name",
        "serving_status",
        "state"
    FROM "memory"."main"."ad_group_history_data"
),

"ad_group_history_data_projected_renamed" AS (
    -- Rename: Renaming columns
    -- id -> ad_group_id
    -- name -> ad_group_name
    -- state -> ad_group_state
    SELECT 
        "id" AS "ad_group_id",
        "last_updated_date",
        "campaign_id",
        "creation_date",
        "default_bid",
        "name" AS "ad_group_name",
        "serving_status",
        "state" AS "ad_group_state"
    FROM "ad_group_history_data_projected"
),

"ad_group_history_data_projected_renamed_casted" AS (
    -- Column Type Casting: 
    -- creation_date: from VARCHAR to TIMESTAMP
    -- last_updated_date: from VARCHAR to TIMESTAMP
    SELECT
        "ad_group_id",
        "campaign_id",
        "default_bid",
        "ad_group_name",
        "serving_status",
        "ad_group_state",
        CAST("creation_date" AS TIMESTAMP) 
        AS "creation_date",
        CAST("last_updated_date" AS TIMESTAMP) 
        AS "last_updated_date"
    FROM "ad_group_history_data_projected_renamed"
)

-- COCOON BLOCK END
SELECT *
FROM "ad_group_history_data_projected_renamed_casted"</code></pre>
</div>
<p class="text-center">stg_ad_group_history_data.yml <small class="text-muted"> (Document the table)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-yaml">version: 2
models:
- name: stg_ad_group_history_data
  description: The table is about ad group history data. It tracks changes to a single
    ad group over time. Each row represents a snapshot of the ad group's state at
    a specific date. The table includes details such as the ad group's ID, campaign
    ID, creation date, default bid, name, serving status, and state. The last_updated_date
    column shows when each change occurred, allowing for a chronological view of the
    ad group's modifications.
  columns:
  - name: ad_group_id
    description: Unique identifier for the ad group
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: campaign_id
    description: Identifier of the campaign the ad group belongs to
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: default_bid
    description: Default bid amount for the ad group
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: DECIMAL
  - name: ad_group_name
    description: Name of the ad group
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: serving_status
    description: Current serving status of the ad group
    tests:
    - not_null
    - accepted_values:
        values:
        - AD_STATUS_LIVE
        - CAMPAIGN_PAUSED
    cocoon_meta:
      future_accepted_values:
      - AD_GROUP_PAUSED
      - AD_STATUS_PAUSED
      - REMOVED
      - PENDING_REVIEW
      - DISAPPROVED
      - ENDED
      - SUSPENDED
      data_type:
        current_data_type: VARCHAR
  - name: ad_group_state
    description: Current state of the ad group
    tests:
    - not_null
    - accepted_values:
        values:
        - enabled
        - disabled
        - paused
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: creation_date
    description: Timestamp of when the ad group was initially created
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: TIMESTAMP
  - name: last_updated_date
    description: Timestamp of when the ad group was last modified
    tests:
    - not_null
    - unique
    cocoon_meta:
      unique_reason: This column represents the timestamp when the ad group was last
        modified. For this table, each row represents a snapshot of the ad group's
        state at a specific date. last_updated_date is unique across rows as it captures
        the exact moment of each change.
      data_type:
        current_data_type: TIMESTAMP
  tests: []
</code></pre>
</div>

        </div>
        
        <div class="tab-pane fade " id="cocoon_stage_stg_campaign_history_data">
            <p class="subtitle text-center mb-3">stg_campaign_history_data</p>
            
<p class="text-center mb-0">Table Preview <small class="text-muted">(schema only)</small></p>
<div class="code_container mb-4 mx-4"><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>campaign_id</th>
      <th>bidding_strategy</th>
      <th>campaign_name</th>
      <th>portfolio_id</th>
      <th>profile_id</th>
      <th>serving_status</th>
      <th>campaign_state</th>
      <th>targeting_type</th>
      <th>budget_type</th>
      <th>budget_amount</th>
      <th>creation_date</th>
      <th>effective_budget</th>
      <th>end_date</th>
      <th>last_updated_date</th>
      <th>start_date</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table></div>

<p class="text-center">stg_campaign_history_data.sql <small class="text-muted">(clean the table)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-sql">-- COCOON BLOCK START: PLEASE DO NOT MODIFY THIS BLOCK FOR SELF-MAINTENANCE
-- Generated at 2024-08-25 17:31:44.842442+00:00
WITH 
"campaign_history_data_projected" AS (
    -- Projection: Selecting 15 out of 16 columns
    -- Columns projected out: ['id', 'last_updated_date', '_fivetran_synced', 'bidding_strategy', 'creation_date', 'budget', 'end_date', 'name', 'portfolio_id', 'profile_id', 'serving_status', 'start_date', 'state', 'targeting_type', 'budget_type', 'effective_budget']
    SELECT 
        "id",
        "last_updated_date",
        "bidding_strategy",
        "creation_date",
        "budget",
        "end_date",
        "name",
        "portfolio_id",
        "profile_id",
        "serving_status",
        "start_date",
        "state",
        "targeting_type",
        "budget_type",
        "effective_budget"
    FROM "memory"."main"."campaign_history_data"
),

"campaign_history_data_projected_renamed" AS (
    -- Rename: Renaming columns
    -- id -> campaign_id
    -- budget -> budget_amount
    -- name -> campaign_name
    -- state -> campaign_state
    SELECT 
        "id" AS "campaign_id",
        "last_updated_date",
        "bidding_strategy",
        "creation_date",
        "budget" AS "budget_amount",
        "end_date",
        "name" AS "campaign_name",
        "portfolio_id",
        "profile_id",
        "serving_status",
        "start_date",
        "state" AS "campaign_state",
        "targeting_type",
        "budget_type",
        "effective_budget"
    FROM "campaign_history_data_projected"
),

"campaign_history_data_projected_renamed_casted" AS (
    -- Column Type Casting: 
    -- budget_amount: from INT to DECIMAL
    -- creation_date: from VARCHAR to TIMESTAMP
    -- effective_budget: from DECIMAL to VARCHAR
    -- end_date: from DECIMAL to DATE
    -- last_updated_date: from VARCHAR to TIMESTAMP
    -- start_date: from VARCHAR to DATE
    SELECT
        "campaign_id",
        "bidding_strategy",
        "campaign_name",
        "portfolio_id",
        "profile_id",
        "serving_status",
        "campaign_state",
        "targeting_type",
        "budget_type",
        CAST("budget_amount" AS DECIMAL) 
        AS "budget_amount",
        CAST("creation_date" AS TIMESTAMP) 
        AS "creation_date",
        CAST("effective_budget" AS VARCHAR) 
        AS "effective_budget",
        CAST("end_date" AS DATE) 
        AS "end_date",
        CAST("last_updated_date" AS TIMESTAMP) 
        AS "last_updated_date",
        CAST("start_date" AS DATE) 
        AS "start_date"
    FROM "campaign_history_data_projected_renamed"
)

-- COCOON BLOCK END
SELECT *
FROM "campaign_history_data_projected_renamed_casted"</code></pre>
</div>
<p class="text-center">stg_campaign_history_data.yml <small class="text-muted"> (Document the table)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-yaml">version: 2
models:
- name: stg_campaign_history_data
  description: The table is about campaign history data. It tracks changes to a single
    campaign over time. The campaign has an ID, name, budget, and various status fields.
    Key attributes include bidding strategy, creation date, portfolio ID, serving
    status, and targeting type. The table shows how the campaign's budget and status
    changed on different dates.
  columns:
  - name: campaign_id
    description: Unique identifier for the campaign
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: bidding_strategy
    description: Approach used for bidding in the campaign
    tests:
    - not_null
    - accepted_values:
        values:
        - autoForSales
    cocoon_meta:
      future_accepted_values:
      - Manual CPC
      - Enhanced CPC
      - Maximize Clicks
      - Maximize Conversions
      - Target CPA
      - Target ROAS
      - Target Impression Share
      - Maximize Conversion Value
      - CPM
      - vCPM
      - CPA
      - Cost Per View
      - Cost Per Completed View
      - First Page Bid
      - Top of Page Bid
      - Automated Bidding
      - Portfolio Bidding
      - Dayparting
      - Geo-bidding
      - Device-specific Bidding
      data_type:
        current_data_type: VARCHAR
  - name: campaign_name
    description: Name of the campaign
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: portfolio_id
    description: Identifier for the associated portfolio
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: profile_id
    description: Identifier for the associated profile
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: serving_status
    description: Current status of campaign delivery
    tests:
    - not_null
    - accepted_values:
        values:
        - CAMPAIGN_STATUS_ENABLED
        - CAMPAIGN_PAUSED
    cocoon_meta:
      future_accepted_values:
      - CAMPAIGN_ARCHIVED
      - CAMPAIGN_PENDING
      data_type:
        current_data_type: VARCHAR
  - name: campaign_state
    description: Current operational state of the campaign
    tests:
    - not_null
    - accepted_values:
        values:
        - enabled
        - paused
    cocoon_meta:
      future_accepted_values:
      - archived
      data_type:
        current_data_type: VARCHAR
  - name: targeting_type
    description: Method used for targeting audience
    tests:
    - not_null
    - accepted_values:
        values:
        - manual
    cocoon_meta:
      future_accepted_values:
      - automated
      - demographic
      - behavioral
      - contextual
      - geographic
      - interest-based
      - lookalike
      - retargeting
      - custom audience
      - keyword
      - device
      - dayparting
      - affinity
      - in-market
      - life events
      - b2b
      data_type:
        current_data_type: VARCHAR
  - name: budget_type
    description: Type of budget allocation (e.g., daily)
    tests:
    - not_null
    - accepted_values:
        values:
        - daily
    cocoon_meta:
      future_accepted_values:
      - weekly
      - monthly
      - quarterly
      - annual
      - biannual
      - custom
      data_type:
        current_data_type: VARCHAR
  - name: budget_amount
    description: Amount allocated for the campaign
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: DECIMAL
  - name: creation_date
    description: Timestamp when the campaign was created
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: TIMESTAMP
  - name: effective_budget
    description: Actual budget in effect
    cocoon_meta:
      missing_reason: Unknown
      data_type:
        current_data_type: VARCHAR
  - name: end_date
    description: Scheduled end date of the campaign
    cocoon_meta:
      missing_reason: Not applicable for campaigns without a set end date.
      data_type:
        current_data_type: DATE
  - name: last_updated_date
    description: Timestamp of the most recent update
    tests:
    - not_null
    - unique
    cocoon_meta:
      unique_reason: This column represents the timestamp of the most recent update
        for each row. For this table, each row represents a state of a campaign at
        a specific point in time. The last_updated_date is unique across rows as it
        captures the exact moment when a change was made to the campaign.
      data_type:
        current_data_type: TIMESTAMP
  - name: start_date
    description: Scheduled start date of the campaign
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: DATE
  tests: []
</code></pre>
</div>

        </div>
        
        <div class="tab-pane fade " id="cocoon_stage_stg_targeting_keyword_report_data">
            <p class="subtitle text-center mb-3">stg_targeting_keyword_report_data</p>
            
<p class="text-center mb-0">Table Preview <small class="text-muted">(schema only)</small></p>
<div class="code_container mb-4 mx-4"><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ad_group_id</th>
      <th>campaign_id</th>
      <th>keyword_id</th>
      <th>keyword_status</th>
      <th>daily_budget_amount</th>
      <th>budget_currency</th>
      <th>budget_type</th>
      <th>clicks</th>
      <th>cost</th>
      <th>impressions</th>
      <th>keyword_bid</th>
      <th>keyword_type</th>
      <th>match_type</th>
      <th>target_keyword</th>
      <th>performance_date</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table></div>

<p class="text-center">stg_targeting_keyword_report_data.sql <small class="text-muted">(clean the table)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-sql">-- COCOON BLOCK START: PLEASE DO NOT MODIFY THIS BLOCK FOR SELF-MAINTENANCE
-- Generated at 2024-08-25 17:39:31.598218+00:00
WITH 
"targeting_keyword_report_data_projected" AS (
    -- Projection: Selecting 15 out of 16 columns
    -- Columns projected out: ['ad_group_id', 'campaign_id', 'date_', 'keyword_id', '_fivetran_synced', 'ad_keyword_status', 'campaign_budget_amount', 'campaign_budget_currency_code', 'campaign_budget_type', 'clicks', 'cost', 'impressions', 'keyword_bid', 'keyword_type', 'match_type', 'targeting']
    SELECT 
        "ad_group_id",
        "campaign_id",
        "date_",
        "keyword_id",
        "ad_keyword_status",
        "campaign_budget_amount",
        "campaign_budget_currency_code",
        "campaign_budget_type",
        "clicks",
        "cost",
        "impressions",
        "keyword_bid",
        "keyword_type",
        "match_type",
        "targeting"
    FROM "memory"."main"."targeting_keyword_report_data"
),

"targeting_keyword_report_data_projected_renamed" AS (
    -- Rename: Renaming columns
    -- date_ -> performance_date
    -- ad_keyword_status -> keyword_status
    -- campaign_budget_amount -> daily_budget_amount
    -- campaign_budget_currency_code -> budget_currency
    -- campaign_budget_type -> budget_type
    -- targeting -> target_keyword
    SELECT 
        "ad_group_id",
        "campaign_id",
        "date_" AS "performance_date",
        "keyword_id",
        "ad_keyword_status" AS "keyword_status",
        "campaign_budget_amount" AS "daily_budget_amount",
        "campaign_budget_currency_code" AS "budget_currency",
        "campaign_budget_type" AS "budget_type",
        "clicks",
        "cost",
        "impressions",
        "keyword_bid",
        "keyword_type",
        "match_type",
        "targeting" AS "target_keyword"
    FROM "targeting_keyword_report_data_projected"
),

"targeting_keyword_report_data_projected_renamed_casted" AS (
    -- Column Type Casting: 
    -- performance_date: from VARCHAR to DATE
    SELECT
        "ad_group_id",
        "campaign_id",
        "keyword_id",
        "keyword_status",
        "daily_budget_amount",
        "budget_currency",
        "budget_type",
        "clicks",
        "cost",
        "impressions",
        "keyword_bid",
        "keyword_type",
        "match_type",
        "target_keyword",
        CAST("performance_date" AS DATE) 
        AS "performance_date"
    FROM "targeting_keyword_report_data_projected_renamed"
)

-- COCOON BLOCK END
SELECT *
FROM "targeting_keyword_report_data_projected_renamed_casted"</code></pre>
</div>
<p class="text-center">stg_targeting_keyword_report_data.yml <small class="text-muted"> (Document the table)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-yaml">version: 2
models:
- name: stg_targeting_keyword_report_data
  description: The table is about targeting keyword report data for digital advertising.
    It contains metrics like clicks, cost, and impressions for specific keywords within
    ad groups and campaigns. Each row represents performance data for a keyword on
    a particular date. The table includes campaign budget information, keyword bid
    amounts, and match types. This data allows advertisers to analyze and optimize
    their keyword targeting strategies.
  columns:
  - name: ad_group_id
    description: Unique identifier for the ad group
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: campaign_id
    description: Unique identifier for the campaign
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: keyword_id
    description: Unique identifier for the keyword
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: keyword_status
    description: Current status of the keyword
    tests:
    - not_null
    - accepted_values:
        values:
        - ENABLED
    cocoon_meta:
      future_accepted_values:
      - DISABLED
      - PAUSED
      data_type:
        current_data_type: VARCHAR
  - name: daily_budget_amount
    description: Daily budget amount for the campaign
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: DECIMAL
  - name: budget_currency
    description: Currency code for the budget
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: budget_type
    description: Type of budget allocation
    tests:
    - not_null
    - accepted_values:
        values:
        - DAILY_BUDGET
    cocoon_meta:
      future_accepted_values:
      - LIFETIME_BUDGET
      - MONTHLY_BUDGET
      - ANNUAL_BUDGET
      - QUARTERLY_BUDGET
      - PROJECT_BUDGET
      - CAMPAIGN_BUDGET
      data_type:
        current_data_type: VARCHAR
  - name: clicks
    description: Number of clicks received
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: cost
    description: Total cost of clicks
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: DECIMAL
  - name: impressions
    description: Number of ad impressions
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: keyword_bid
    description: Bid amount for the keyword
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: DECIMAL
  - name: keyword_type
    description: Type of keyword (e.g., exact, broad)
    tests:
    - not_null
    - accepted_values:
        values:
        - EXACT
    cocoon_meta:
      future_accepted_values:
      - PHRASE
      - BROAD
      - NEGATIVE
      data_type:
        current_data_type: VARCHAR
  - name: match_type
    description: Match type for the keyword
    tests:
    - not_null
    - accepted_values:
        values:
        - EXACT
    cocoon_meta:
      future_accepted_values:
      - PHRASE
      - BROAD
      - NEGATIVE
      data_type:
        current_data_type: VARCHAR
  - name: target_keyword
    description: Targeted keyword phrase
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: performance_date
    description: Date of the performance data
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: DATE
  tests: []
</code></pre>
</div>

        </div>
        
        <div class="tab-pane fade " id="cocoon_stage_stg_portfolio_history_data">
            <p class="subtitle text-center mb-3">stg_portfolio_history_data</p>
            
<p class="text-center mb-0">Table Preview <small class="text-muted">(schema only)</small></p>
<div class="code_container mb-4 mx-4"><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>entry_id</th>
      <th>currency_code</th>
      <th>budget_policy</th>
      <th>is_within_budget</th>
      <th>portfolio_name</th>
      <th>profile_id</th>
      <th>operational_status</th>
      <th>portfolio_state</th>
      <th>budget_amount</th>
      <th>budget_end_date</th>
      <th>budget_start_date</th>
      <th>creation_date</th>
      <th>last_updated_date</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table></div>

<p class="text-center">stg_portfolio_history_data.sql <small class="text-muted">(clean the table)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-sql">-- COCOON BLOCK START: PLEASE DO NOT MODIFY THIS BLOCK FOR SELF-MAINTENANCE
-- Generated at 2024-08-25 17:35:21.494921+00:00
WITH 
"portfolio_history_data_projected" AS (
    -- Projection: Selecting 13 out of 14 columns
    -- Columns projected out: ['id', 'last_updated_date', '_fivetran_synced', 'budget_amount', 'budget_currency_code', 'budget_end_date', 'budget_policy', 'budget_start_date', 'creation_date', 'in_budget', 'name', 'profile_id', 'serving_status', 'state']
    SELECT 
        "id",
        "last_updated_date",
        "budget_amount",
        "budget_currency_code",
        "budget_end_date",
        "budget_policy",
        "budget_start_date",
        "creation_date",
        "in_budget",
        "name",
        "profile_id",
        "serving_status",
        "state"
    FROM "memory"."main"."portfolio_history_data"
),

"portfolio_history_data_projected_renamed" AS (
    -- Rename: Renaming columns
    -- id -> entry_id
    -- budget_currency_code -> currency_code
    -- in_budget -> is_within_budget
    -- name -> portfolio_name
    -- serving_status -> operational_status
    -- state -> portfolio_state
    SELECT 
        "id" AS "entry_id",
        "last_updated_date",
        "budget_amount",
        "budget_currency_code" AS "currency_code",
        "budget_end_date",
        "budget_policy",
        "budget_start_date",
        "creation_date",
        "in_budget" AS "is_within_budget",
        "name" AS "portfolio_name",
        "profile_id",
        "serving_status" AS "operational_status",
        "state" AS "portfolio_state"
    FROM "portfolio_history_data_projected"
),

"portfolio_history_data_projected_renamed_casted" AS (
    -- Column Type Casting: 
    -- budget_amount: from INT to DECIMAL
    -- budget_end_date: from VARCHAR to DATE
    -- budget_start_date: from VARCHAR to DATE
    -- creation_date: from VARCHAR to TIMESTAMP
    -- last_updated_date: from VARCHAR to TIMESTAMP
    SELECT
        "entry_id",
        "currency_code",
        "budget_policy",
        "is_within_budget",
        "portfolio_name",
        "profile_id",
        "operational_status",
        "portfolio_state",
        CAST("budget_amount" AS DECIMAL) 
        AS "budget_amount",
        CAST("budget_end_date" AS DATE) 
        AS "budget_end_date",
        CAST("budget_start_date" AS DATE) 
        AS "budget_start_date",
        CAST("creation_date" AS TIMESTAMP) 
        AS "creation_date",
        CAST("last_updated_date" AS TIMESTAMP) 
        AS "last_updated_date"
    FROM "portfolio_history_data_projected_renamed"
)

-- COCOON BLOCK END
SELECT *
FROM "portfolio_history_data_projected_renamed_casted"</code></pre>
</div>
<p class="text-center">stg_portfolio_history_data.yml <small class="text-muted"> (Document the table)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-yaml">version: 2
models:
- name: stg_portfolio_history_data
  description: The table is about portfolio history data. It contains details of various
    portfolios including budget amounts, currencies, date ranges, and statuses. Each
    row represents a snapshot of a portfolio at a specific time. Key fields include
    budget information, portfolio name, profile ID, and serving status. The table
    tracks changes to portfolios over time, allowing for historical analysis of budget
    adjustments and status changes.
  columns:
  - name: entry_id
    description: Unique identifier for the portfolio entry
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: currency_code
    description: Currency code for the budget amount
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: budget_policy
    description: Type of budgeting policy applied
    tests:
    - not_null
    - accepted_values:
        values:
        - dateRange
        - monthlyRecurring
    cocoon_meta:
      future_accepted_values:
      - annualRecurring
      - quarterlyRecurring
      - oneTime
      - projectBased
      - rollingForecast
      - zeroBasedBudgeting
      - activityBasedBudgeting
      - flexibleBudgeting
      - incrementalBudgeting
      - performanceBasedBudgeting
      data_type:
        current_data_type: VARCHAR
  - name: is_within_budget
    description: Boolean indicating if portfolio is within budget
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: BOOLEAN
  - name: portfolio_name
    description: Name of the portfolio
    tests:
    - not_null
    - accepted_values:
        values:
        - Empire
        - First Order
        - New Republic
        - Rebel Alliance
        - Resistance
    cocoon_meta:
      future_accepted_values:
      - Galactic Republic
      - Confederacy of Independent Systems (CIS)
      - Jedi Order
      - Sith Empire
      - Mandalorians
      - Hutt Cartel
      - Black Sun
      - Trade Federation
      data_type:
        current_data_type: VARCHAR
  - name: profile_id
    description: Unique identifier for the associated profile
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: operational_status
    description: Current operational status of the portfolio
    tests:
    - not_null
    - accepted_values:
        values:
        - PORTFOLIO_STATUS_ENABLED
        - PORTFOLIO_STATUS_PAUSED
    cocoon_meta:
      future_accepted_values:
      - PORTFOLIO_STATUS_DISABLED
      data_type:
        current_data_type: VARCHAR
  - name: portfolio_state
    description: Current state of the portfolio (enabled/paused)
    tests:
    - not_null
    - accepted_values:
        values:
        - enabled
        - paused
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: budget_amount
    description: Numeric value of the portfolio budget
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: DECIMAL
  - name: budget_end_date
    description: End date of the budget period
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: DATE
  - name: budget_start_date
    description: Start date of the budget period
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: DATE
  - name: creation_date
    description: Timestamp when the portfolio was initially created
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: TIMESTAMP
  - name: last_updated_date
    description: Timestamp of the last update to the portfolio
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: TIMESTAMP
  tests: []
</code></pre>
</div>

        </div>
        
        <div class="tab-pane fade " id="cocoon_stage_stg_keyword_history_data">
            <p class="subtitle text-center mb-3">stg_keyword_history_data</p>
            
<p class="text-center mb-0">Table Preview <small class="text-muted">(schema only)</small></p>
<div class="code_container mb-4 mx-4"><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>keyword_id</th>
      <th>ad_group_id</th>
      <th>bid_amount</th>
      <th>campaign_id</th>
      <th>keyword_text</th>
      <th>match_type</th>
      <th>serving_status</th>
      <th>keyword_state</th>
      <th>creation_date</th>
      <th>last_updated_date</th>
      <th>native_language_keyword</th>
      <th>native_language_locale</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table></div>

<p class="text-center">stg_keyword_history_data.sql <small class="text-muted">(clean the table)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-sql">-- COCOON BLOCK START: PLEASE DO NOT MODIFY THIS BLOCK FOR SELF-MAINTENANCE
-- Generated at 2024-08-25 17:33:52.591635+00:00
WITH 
"keyword_history_data_projected" AS (
    -- Projection: Selecting 12 out of 13 columns
    -- Columns projected out: ['id', 'last_updated_date', '_fivetran_synced', 'ad_group_id', 'bid', 'campaign_id', 'creation_date', 'keyword_text', 'match_type', 'native_language_keyword', 'serving_status', 'state', 'native_language_locale']
    SELECT 
        "id",
        "last_updated_date",
        "ad_group_id",
        "bid",
        "campaign_id",
        "creation_date",
        "keyword_text",
        "match_type",
        "native_language_keyword",
        "serving_status",
        "state",
        "native_language_locale"
    FROM "memory"."main"."keyword_history_data"
),

"keyword_history_data_projected_renamed" AS (
    -- Rename: Renaming columns
    -- id -> keyword_id
    -- bid -> bid_amount
    -- state -> keyword_state
    SELECT 
        "id" AS "keyword_id",
        "last_updated_date",
        "ad_group_id",
        "bid" AS "bid_amount",
        "campaign_id",
        "creation_date",
        "keyword_text",
        "match_type",
        "native_language_keyword",
        "serving_status",
        "state" AS "keyword_state",
        "native_language_locale"
    FROM "keyword_history_data_projected"
),

"keyword_history_data_projected_renamed_casted" AS (
    -- Column Type Casting: 
    -- creation_date: from VARCHAR to TIMESTAMP
    -- last_updated_date: from VARCHAR to TIMESTAMP
    -- native_language_keyword: from DECIMAL to VARCHAR
    -- native_language_locale: from DECIMAL to VARCHAR
    SELECT
        "keyword_id",
        "ad_group_id",
        "bid_amount",
        "campaign_id",
        "keyword_text",
        "match_type",
        "serving_status",
        "keyword_state",
        CAST("creation_date" AS TIMESTAMP) 
        AS "creation_date",
        CAST("last_updated_date" AS TIMESTAMP) 
        AS "last_updated_date",
        CAST("native_language_keyword" AS VARCHAR) 
        AS "native_language_keyword",
        CAST("native_language_locale" AS VARCHAR) 
        AS "native_language_locale"
    FROM "keyword_history_data_projected_renamed"
)

-- COCOON BLOCK END
SELECT *
FROM "keyword_history_data_projected_renamed_casted"</code></pre>
</div>
<p class="text-center">stg_keyword_history_data.yml <small class="text-muted"> (Document the table)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-yaml">version: 2
models:
- name: stg_keyword_history_data
  description: The table is about keyword history data for advertising campaigns.
    It contains details such as keyword ID, ad group ID, campaign ID, bid amount,
    keyword text, match type, serving status, and state. Each keyword can have multiple
    entries with different last updated dates, showing changes in bid amounts or serving
    status over time. The table tracks the performance and status of keywords used
    in advertising campaigns.
  columns:
  - name: keyword_id
    description: Unique identifier for the keyword
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: ad_group_id
    description: Identifier for the ad group
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: bid_amount
    description: Bid amount for the keyword
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: DECIMAL
  - name: campaign_id
    description: Identifier for the campaign
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: keyword_text
    description: The actual keyword text
    tests:
    - not_null
    - accepted_values:
        values:
        - x wing parts
        - b wing parts
        - y wing parts
    cocoon_meta:
      future_accepted_values:
      - a wing parts
      - tie fighter parts
      - tie interceptor parts
      - tie bomber parts
      - tie defender parts
      - snowspeeder parts
      - u wing parts
      - z-95 headhunter parts
      - arc-170 parts
      - v wing parts
      data_type:
        current_data_type: VARCHAR
  - name: match_type
    description: Type of keyword match (e.g., exact)
    tests:
    - not_null
    - accepted_values:
        values:
        - exact
    cocoon_meta:
      future_accepted_values:
      - phrase
      - broad
      - modified broad
      data_type:
        current_data_type: VARCHAR
  - name: serving_status
    description: Current status of the keyword for serving ads
    tests:
    - not_null
    - accepted_values:
        values:
        - TARGETING_CLAUSE_STATUS_LIVE
        - CAMPAIGN_PAUSED
    cocoon_meta:
      future_accepted_values:
      - TARGETING_CLAUSE_STATUS_PAUSED
      - TARGETING_CLAUSE_STATUS_ARCHIVED
      - CAMPAIGN_ARCHIVED
      - TARGETING_CLAUSE_STATUS_PENDING
      - TARGETING_CLAUSE_STATUS_REJECTED
      data_type:
        current_data_type: VARCHAR
  - name: keyword_state
    description: State of the keyword (e.g., enabled, paused)
    tests:
    - not_null
    - accepted_values:
        values:
        - enabled
    cocoon_meta:
      future_accepted_values:
      - paused
      - removed
      data_type:
        current_data_type: VARCHAR
  - name: creation_date
    description: Date and time when the keyword was created
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: TIMESTAMP
  - name: last_updated_date
    description: Date and time of the last update
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: TIMESTAMP
  - name: native_language_keyword
    description: Keyword in native language (if applicable)
    cocoon_meta:
      missing_reason: Not applicable for keywords already in native language
      data_type:
        current_data_type: VARCHAR
  - name: native_language_locale
    description: Locale for the native language keyword
    cocoon_meta:
      missing_reason: Not applicable when keyword is in default language
      data_type:
        current_data_type: VARCHAR
  tests: []
</code></pre>
</div>

        </div>
        
        <div class="tab-pane fade " id="cocoon_stage_stg_campaign_level_report_data">
            <p class="subtitle text-center mb-3">stg_campaign_level_report_data</p>
            
<p class="text-center mb-0">Table Preview <small class="text-muted">(schema only)</small></p>
<div class="code_container mb-4 mx-4"><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>campaign_id</th>
      <th>bidding_strategy</th>
      <th>daily_budget_amount</th>
      <th>budget_currency</th>
      <th>budget_type</th>
      <th>clicks</th>
      <th>cost</th>
      <th>budget_rule_id</th>
      <th>budget_rule_name</th>
      <th>impressions</th>
      <th>report_date</th>
      <th>rule_based_budget_amount</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table></div>

<p class="text-center">stg_campaign_level_report_data.sql <small class="text-muted">(clean the table)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-sql">-- COCOON BLOCK START: PLEASE DO NOT MODIFY THIS BLOCK FOR SELF-MAINTENANCE
-- Generated at 2024-08-25 17:32:44.998118+00:00
WITH 
"campaign_level_report_data_projected" AS (
    -- Projection: Selecting 12 out of 13 columns
    -- Columns projected out: ['campaign_id', 'date_', '_fivetran_synced', 'campaign_applicable_budget_rule_id', 'campaign_applicable_budget_rule_name', 'campaign_bidding_strategy', 'campaign_budget_amount', 'campaign_budget_currency_code', 'campaign_budget_type', 'clicks', 'cost', 'impressions', 'campaign_rule_based_budget_amount']
    SELECT 
        "campaign_id",
        "date_",
        "campaign_applicable_budget_rule_id",
        "campaign_applicable_budget_rule_name",
        "campaign_bidding_strategy",
        "campaign_budget_amount",
        "campaign_budget_currency_code",
        "campaign_budget_type",
        "clicks",
        "cost",
        "impressions",
        "campaign_rule_based_budget_amount"
    FROM "memory"."main"."campaign_level_report_data"
),

"campaign_level_report_data_projected_renamed" AS (
    -- Rename: Renaming columns
    -- date_ -> report_date
    -- campaign_applicable_budget_rule_id -> budget_rule_id
    -- campaign_applicable_budget_rule_name -> budget_rule_name
    -- campaign_bidding_strategy -> bidding_strategy
    -- campaign_budget_amount -> daily_budget_amount
    -- campaign_budget_currency_code -> budget_currency
    -- campaign_budget_type -> budget_type
    -- campaign_rule_based_budget_amount -> rule_based_budget_amount
    SELECT 
        "campaign_id",
        "date_" AS "report_date",
        "campaign_applicable_budget_rule_id" AS "budget_rule_id",
        "campaign_applicable_budget_rule_name" AS "budget_rule_name",
        "campaign_bidding_strategy" AS "bidding_strategy",
        "campaign_budget_amount" AS "daily_budget_amount",
        "campaign_budget_currency_code" AS "budget_currency",
        "campaign_budget_type" AS "budget_type",
        "clicks",
        "cost",
        "impressions",
        "campaign_rule_based_budget_amount" AS "rule_based_budget_amount"
    FROM "campaign_level_report_data_projected"
),

"campaign_level_report_data_projected_renamed_cleaned" AS (
    -- Clean unusual string values: 
    -- budget_type: The problem is that 'DAILY_BUDGET0.0' appears to be a redundant version of 'DAILY_BUDGET' with an unnecessary '0.0' appended to it. This is likely due to a data entry error or a glitch in the system that recorded the budget types. The correct value should be 'DAILY_BUDGET' for all entries, as this is the most frequent and logically correct representation of a daily budget type.
    SELECT
        "campaign_id",
        "report_date",
        "budget_rule_id",
        "budget_rule_name",
        "bidding_strategy",
        "daily_budget_amount",
        "budget_currency",
        CASE
            WHEN "budget_type" = 'DAILY_BUDGET0.0' THEN 'DAILY_BUDGET'
            ELSE "budget_type"
        END AS "budget_type",
        "clicks",
        "cost",
        "impressions",
        "rule_based_budget_amount"
    FROM "campaign_level_report_data_projected_renamed"
),

"campaign_level_report_data_projected_renamed_cleaned_casted" AS (
    -- Column Type Casting: 
    -- budget_rule_id: from DECIMAL to VARCHAR
    -- budget_rule_name: from DECIMAL to VARCHAR
    -- impressions: from DECIMAL to VARCHAR
    -- report_date: from VARCHAR to DATE
    -- rule_based_budget_amount: from DECIMAL to VARCHAR
    SELECT
        "campaign_id",
        "bidding_strategy",
        "daily_budget_amount",
        "budget_currency",
        "budget_type",
        "clicks",
        "cost",
        CAST("budget_rule_id" AS VARCHAR) 
        AS "budget_rule_id",
        CAST("budget_rule_name" AS VARCHAR) 
        AS "budget_rule_name",
        CAST("impressions" AS VARCHAR) 
        AS "impressions",
        CAST("report_date" AS DATE) 
        AS "report_date",
        CAST("rule_based_budget_amount" AS VARCHAR) 
        AS "rule_based_budget_amount"
    FROM "campaign_level_report_data_projected_renamed_cleaned"
)

-- COCOON BLOCK END
SELECT *
FROM "campaign_level_report_data_projected_renamed_cleaned_casted"</code></pre>
</div>
<p class="text-center">stg_campaign_level_report_data.yml <small class="text-muted"> (Document the table)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-yaml">version: 2
models:
- name: stg_campaign_level_report_data
  description: The table is about campaign performance data. It includes details such
    as campaign ID, date, budget rules, bidding strategy, budget amount and type,
    currency code, and performance metrics like clicks, cost, and impressions. Each
    row represents a daily report for a specific campaign, showing its configuration
    and performance on that day.
  columns:
  - name: campaign_id
    description: Unique identifier for the campaign
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: bidding_strategy
    description: Strategy used for bidding in the campaign
    tests:
    - not_null
    - accepted_values:
        values:
        - optimizeForSales
    cocoon_meta:
      future_accepted_values:
      - optimizeForConversions
      - targetCPA
      - targetROAS
      - maximizeClicks
      - manualCPC
      - enhancedCPC
      - maximizeConversions
      - maximizeConversionValue
      data_type:
        current_data_type: VARCHAR
  - name: daily_budget_amount
    description: Daily budget amount set for the campaign
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: DECIMAL
  - name: budget_currency
    description: Currency code for the campaign budget
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: budget_type
    description: Type of budget allocation for the campaign
    tests:
    - not_null
    - accepted_values:
        values:
        - DAILY_BUDGET
    cocoon_meta:
      future_accepted_values:
      - LIFETIME_BUDGET
      - CAMPAIGN_BUDGET
      data_type:
        current_data_type: VARCHAR
  - name: clicks
    description: Number of clicks received by the campaign
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: cost
    description: Total cost incurred by the campaign
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: DECIMAL
  - name: budget_rule_id
    description: ID of the budget rule applied to the campaign
    cocoon_meta:
      missing_reason: No budget rule applied to these campaigns.
      data_type:
        current_data_type: VARCHAR
  - name: budget_rule_name
    description: Name of the budget rule applied to the campaign
    cocoon_meta:
      missing_reason: No budget rule applied to these campaigns.
      data_type:
        current_data_type: VARCHAR
  - name: impressions
    description: Number of times the campaign was displayed
    cocoon_meta:
      missing_reason: Unknown
      data_type:
        current_data_type: VARCHAR
  - name: report_date
    description: Date of the campaign performance data
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: DATE
  - name: rule_based_budget_amount
    description: Budget amount determined by applied rules
    cocoon_meta:
      missing_reason: Unknown
      data_type:
        current_data_type: VARCHAR
  tests: []
</code></pre>
</div>

        </div>
        
        <div class="tab-pane fade " id="cocoon_stage_stg_search_term_ad_keyword_report_data">
            <p class="subtitle text-center mb-3">stg_search_term_ad_keyword_report_data</p>
            
<p class="text-center mb-0">Table Preview <small class="text-muted">(schema only)</small></p>
<div class="code_container mb-4 mx-4"><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ad_group_id</th>
      <th>campaign_id</th>
      <th>keyword_id</th>
      <th>daily_budget_amount</th>
      <th>budget_currency</th>
      <th>budget_type</th>
      <th>clicks</th>
      <th>daily_ad_cost</th>
      <th>impressions</th>
      <th>keyword_bid_amount</th>
      <th>search_term</th>
      <th>targeting_criteria</th>
      <th>performance_date</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table></div>

<p class="text-center">stg_search_term_ad_keyword_report_data.sql <small class="text-muted">(clean the table)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-sql">-- COCOON BLOCK START: PLEASE DO NOT MODIFY THIS BLOCK FOR SELF-MAINTENANCE
-- Generated at 2024-08-25 17:38:31.035705+00:00
WITH 
"search_term_ad_keyword_report_data_projected" AS (
    -- Projection: Selecting 13 out of 14 columns
    -- Columns projected out: ['ad_group_id', 'campaign_id', 'date_', 'keyword_id', '_fivetran_synced', 'campaign_budget_amount', 'campaign_budget_currency_code', 'campaign_budget_type', 'clicks', 'cost', 'impressions', 'keyword_bid', 'search_term', 'targeting']
    SELECT 
        "ad_group_id",
        "campaign_id",
        "date_",
        "keyword_id",
        "campaign_budget_amount",
        "campaign_budget_currency_code",
        "campaign_budget_type",
        "clicks",
        "cost",
        "impressions",
        "keyword_bid",
        "search_term",
        "targeting"
    FROM "memory"."main"."search_term_ad_keyword_report_data"
),

"search_term_ad_keyword_report_data_projected_renamed" AS (
    -- Rename: Renaming columns
    -- date_ -> performance_date
    -- campaign_budget_amount -> daily_budget_amount
    -- campaign_budget_currency_code -> budget_currency
    -- campaign_budget_type -> budget_type
    -- cost -> daily_ad_cost
    -- keyword_bid -> keyword_bid_amount
    -- targeting -> targeting_criteria
    SELECT 
        "ad_group_id",
        "campaign_id",
        "date_" AS "performance_date",
        "keyword_id",
        "campaign_budget_amount" AS "daily_budget_amount",
        "campaign_budget_currency_code" AS "budget_currency",
        "campaign_budget_type" AS "budget_type",
        "clicks",
        "cost" AS "daily_ad_cost",
        "impressions",
        "keyword_bid" AS "keyword_bid_amount",
        "search_term",
        "targeting" AS "targeting_criteria"
    FROM "search_term_ad_keyword_report_data_projected"
),

"search_term_ad_keyword_report_data_projected_renamed_casted" AS (
    -- Column Type Casting: 
    -- performance_date: from VARCHAR to DATE
    SELECT
        "ad_group_id",
        "campaign_id",
        "keyword_id",
        "daily_budget_amount",
        "budget_currency",
        "budget_type",
        "clicks",
        "daily_ad_cost",
        "impressions",
        "keyword_bid_amount",
        "search_term",
        "targeting_criteria",
        CAST("performance_date" AS DATE) 
        AS "performance_date"
    FROM "search_term_ad_keyword_report_data_projected_renamed"
)

-- COCOON BLOCK END
SELECT *
FROM "search_term_ad_keyword_report_data_projected_renamed_casted"</code></pre>
</div>
<p class="text-center">stg_search_term_ad_keyword_report_data.yml <small class="text-muted"> (Document the table)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-yaml">version: 2
models:
- name: stg_search_term_ad_keyword_report_data
  description: The table is about search term and ad keyword performance data. It
    includes details such as ad group ID, campaign ID, date, keyword ID, campaign
    budget information, clicks, cost, impressions, keyword bid, search term, and targeting.
    Each row represents a daily performance report for a specific keyword and search
    term combination within an ad campaign.
  columns:
  - name: ad_group_id
    description: Identifier for the ad group
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: campaign_id
    description: Identifier for the advertising campaign
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: keyword_id
    description: Identifier for the keyword
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: daily_budget_amount
    description: Daily budget amount for the campaign
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: DECIMAL
  - name: budget_currency
    description: Currency code for the campaign budget
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: budget_type
    description: Type of budget for the campaign
    tests:
    - not_null
    - accepted_values:
        values:
        - DAILY_BUDGET
    cocoon_meta:
      future_accepted_values:
      - LIFETIME_BUDGET
      - TOTAL_BUDGET
      - MONTHLY_BUDGET
      - WEEKLY_BUDGET
      - FLEXIBLE_BUDGET
      data_type:
        current_data_type: VARCHAR
  - name: clicks
    description: Number of clicks received
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: daily_ad_cost
    description: Cost of the advertising for the day
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: DECIMAL
  - name: impressions
    description: Number of times the ad was shown
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: keyword_bid_amount
    description: Bid amount for the keyword
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: DECIMAL
  - name: search_term
    description: Actual search term used by the user
    tests:
    - not_null
    - accepted_values:
        values:
        - b wing parts
        - y wing parts
        - x wing parts
    cocoon_meta:
      future_accepted_values:
      - a wing parts
      - u wing parts
      - v wing parts
      - tie fighter parts
      - millennium falcon parts
      - death star parts
      - star destroyer parts
      - lambda shuttle parts
      - naboo starfighter parts
      - jedi starfighter parts
      data_type:
        current_data_type: VARCHAR
  - name: targeting_criteria
    description: Targeting criteria for the ad
    tests:
    - not_null
    - accepted_values:
        values:
        - b wing parts
        - y wing parts
        - x wing parts
    cocoon_meta:
      future_accepted_values:
      - A-wing parts
      - B-wing parts
      - X-wing parts
      - Y-wing parts
      - TIE Fighter parts
      - TIE Interceptor parts
      - TIE Bomber parts
      - U-wing parts
      - V-wing parts
      - Z-95 Headhunter parts
      - Jedi Starfighter parts
      - Naboo Starfighter parts
      data_type:
        current_data_type: VARCHAR
  - name: performance_date
    description: Date of the performance data
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: DATE
  tests: []
</code></pre>
</div>

        </div>
        
        <div class="tab-pane fade " id="cocoon_stage_stg_ad_group_level_report_data">
            <p class="subtitle text-center mb-3">stg_ad_group_level_report_data</p>
            
<p class="text-center mb-0">Table Preview <small class="text-muted">(schema only)</small></p>
<div class="code_container mb-4 mx-4"><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ad_group_id</th>
      <th>bidding_strategy</th>
      <th>clicks</th>
      <th>cost</th>
      <th>impressions</th>
      <th>performance_date</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table></div>

<p class="text-center">stg_ad_group_level_report_data.sql <small class="text-muted">(clean the table)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-sql">-- COCOON BLOCK START: PLEASE DO NOT MODIFY THIS BLOCK FOR SELF-MAINTENANCE
-- Generated at 2024-08-25 17:30:07.435997+00:00
WITH 
"ad_group_level_report_data_projected" AS (
    -- Projection: Selecting 6 out of 7 columns
    -- Columns projected out: ['ad_group_id', 'date_', '_fivetran_synced', 'campaign_bidding_strategy', 'clicks', 'cost', 'impressions']
    SELECT 
        "ad_group_id",
        "date_",
        "campaign_bidding_strategy",
        "clicks",
        "cost",
        "impressions"
    FROM "memory"."main"."ad_group_level_report_data"
),

"ad_group_level_report_data_projected_renamed" AS (
    -- Rename: Renaming columns
    -- date_ -> performance_date
    -- campaign_bidding_strategy -> bidding_strategy
    SELECT 
        "ad_group_id",
        "date_" AS "performance_date",
        "campaign_bidding_strategy" AS "bidding_strategy",
        "clicks",
        "cost",
        "impressions"
    FROM "ad_group_level_report_data_projected"
),

"ad_group_level_report_data_projected_renamed_casted" AS (
    -- Column Type Casting: 
    -- performance_date: from VARCHAR to DATE
    SELECT
        "ad_group_id",
        "bidding_strategy",
        "clicks",
        "cost",
        "impressions",
        CAST("performance_date" AS DATE) 
        AS "performance_date"
    FROM "ad_group_level_report_data_projected_renamed"
)

-- COCOON BLOCK END
SELECT *
FROM "ad_group_level_report_data_projected_renamed_casted"</code></pre>
</div>
<p class="text-center">stg_ad_group_level_report_data.yml <small class="text-muted"> (Document the table)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-yaml">version: 2
models:
- name: stg_ad_group_level_report_data
  description: The table is about ad group performance data. It includes daily metrics
    for an ad group. The data shows the ad group ID, date, campaign bidding strategy,
    clicks, cost, and impressions. Each row represents a single day's performance
    for the ad group. The table tracks the ad group's performance over time, allowing
    for analysis of its advertising effectiveness.
  columns:
  - name: ad_group_id
    description: Unique identifier for the ad group
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: bidding_strategy
    description: Bidding strategy used for the campaign
    tests:
    - not_null
    - accepted_values:
        values:
        - legacy
    cocoon_meta:
      future_accepted_values:
      - manual_cpc
      - manual_cpv
      - manual_cpm
      - target_cpa
      - target_roas
      - maximize_conversions
      - maximize_conversion_value
      - target_impression_share
      - viewable_cpm
      - ecpc
      data_type:
        current_data_type: VARCHAR
  - name: clicks
    description: Number of clicks received on the ad
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: cost
    description: Total cost spent on the ad
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: DECIMAL
  - name: impressions
    description: Number of times the ad was displayed
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: performance_date
    description: Date of the performance data
    tests:
    - not_null
    - unique
    cocoon_meta:
      unique_reason: This column represents the date of the performance data. For
        this table, each row represents a single day's performance for an ad group.
        The performance_date is unique across rows for a specific ad group, as there
        should be only one entry per day for each ad group.
      data_type:
        current_data_type: DATE
  tests: []
</code></pre>
</div>

        </div>
        
        <div class="tab-pane fade " id="cocoon_stage_stg_advertised_product_report_data">
            <p class="subtitle text-center mb-3">stg_advertised_product_report_data</p>
            
<p class="text-center mb-0">Table Preview <small class="text-muted">(schema only)</small></p>
<div class="code_container mb-4 mx-4"><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ad_group_id</th>
      <th>ad_id</th>
      <th>campaign_id</th>
      <th>daily_budget_amount</th>
      <th>budget_currency</th>
      <th>budget_type</th>
      <th>clicks</th>
      <th>ad_spend</th>
      <th>impressions</th>
      <th>product_asin</th>
      <th>product_sku</th>
      <th>report_date</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table></div>

<p class="text-center">stg_advertised_product_report_data.sql <small class="text-muted">(clean the table)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-sql">-- COCOON BLOCK START: PLEASE DO NOT MODIFY THIS BLOCK FOR SELF-MAINTENANCE
-- Generated at 2024-08-25 17:28:43.711244+00:00
WITH 
"advertised_product_report_data_projected" AS (
    -- Projection: Selecting 12 out of 13 columns
    -- Columns projected out: ['ad_group_id', 'ad_id', 'campaign_id', 'date_', '_fivetran_synced', 'campaign_budget_amount', 'campaign_budget_currency_code', 'campaign_budget_type', 'clicks', 'cost', 'impressions', '__advertised_asin', '__advertised_sku']
    SELECT 
        "ad_group_id",
        "ad_id",
        "campaign_id",
        "date_",
        "campaign_budget_amount",
        "campaign_budget_currency_code",
        "campaign_budget_type",
        "clicks",
        "cost",
        "impressions",
        "__advertised_asin",
        "__advertised_sku"
    FROM "memory"."main"."advertised_product_report_data"
),

"advertised_product_report_data_projected_renamed" AS (
    -- Rename: Renaming columns
    -- date_ -> report_date
    -- campaign_budget_amount -> daily_budget_amount
    -- campaign_budget_currency_code -> budget_currency
    -- campaign_budget_type -> budget_type
    -- cost -> ad_spend
    -- __advertised_asin -> product_asin
    -- __advertised_sku -> product_sku
    SELECT 
        "ad_group_id",
        "ad_id",
        "campaign_id",
        "date_" AS "report_date",
        "campaign_budget_amount" AS "daily_budget_amount",
        "campaign_budget_currency_code" AS "budget_currency",
        "campaign_budget_type" AS "budget_type",
        "clicks",
        "cost" AS "ad_spend",
        "impressions",
        "__advertised_asin" AS "product_asin",
        "__advertised_sku" AS "product_sku"
    FROM "advertised_product_report_data_projected"
),

"advertised_product_report_data_projected_renamed_casted" AS (
    -- Column Type Casting: 
    -- product_asin: from DECIMAL to VARCHAR
    -- product_sku: from DECIMAL to VARCHAR
    -- report_date: from VARCHAR to DATE
    SELECT
        "ad_group_id",
        "ad_id",
        "campaign_id",
        "daily_budget_amount",
        "budget_currency",
        "budget_type",
        "clicks",
        "ad_spend",
        "impressions",
        CAST("product_asin" AS VARCHAR) 
        AS "product_asin",
        CAST("product_sku" AS VARCHAR) 
        AS "product_sku",
        CAST("report_date" AS DATE) 
        AS "report_date"
    FROM "advertised_product_report_data_projected_renamed"
)

-- COCOON BLOCK END
SELECT *
FROM "advertised_product_report_data_projected_renamed_casted"</code></pre>
</div>
<p class="text-center">stg_advertised_product_report_data.yml <small class="text-muted"> (Document the table)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-yaml">version: 2
models:
- name: stg_advertised_product_report_data
  description: The table is about advertised product reports. It includes data on
    ad groups, ads, and campaigns. Each row represents daily performance metrics for
    a specific ad. Key details include campaign budget information, clicks, cost,
    and impressions. The table also has fields for advertised ASIN and SKU, though
    these appear empty in the samples. This data likely helps analyze and optimize
    advertising performance across different campaigns and ad groups.
  columns:
  - name: ad_group_id
    description: Identifier for the ad group
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: ad_id
    description: Unique identifier for the advertisement
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: campaign_id
    description: Identifier for the advertising campaign
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: daily_budget_amount
    description: Daily budget amount for the campaign
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: DECIMAL
  - name: budget_currency
    description: Currency code for the budget
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: budget_type
    description: Type of budget allocation
    tests:
    - not_null
    - accepted_values:
        values:
        - DAILY_BUDGET
    cocoon_meta:
      future_accepted_values:
      - LIFETIME_BUDGET
      - MONTHLY_BUDGET
      - ANNUAL_BUDGET
      - QUARTERLY_BUDGET
      - PROJECT_BUDGET
      - CAMPAIGN_BUDGET
      data_type:
        current_data_type: VARCHAR
  - name: clicks
    description: Number of clicks on the ad
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: ad_spend
    description: Total cost of the advertising
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: DECIMAL
  - name: impressions
    description: Number of times the ad was displayed
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: product_asin
    description: Amazon Standard Identification Number of advertised product
    cocoon_meta:
      missing_reason: Ad may not be associated with a specific product.
      data_type:
        current_data_type: VARCHAR
  - name: product_sku
    description: Stock Keeping Unit of advertised product
    cocoon_meta:
      missing_reason: Ad may not be associated with a specific product.
      data_type:
        current_data_type: VARCHAR
  - name: report_date
    description: Date of the recorded data
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: DATE
  tests: []
</code></pre>
</div>

        </div>
        
                </div>
            </div>
        </div>
        
        <div class="tab-pane fade " id="cocoon_steps_snapshot">
            <nav class="navbar navbar-light bg-light">
                <span class="navbar-brand mb-0">
                    <h5 class="card-title mb-0">SCD Model</h5>
                </span>
                
    <ul class="nav">
        <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle active" href="#"
                id="navbarDropdownMenuLink_snapshot" data-toggle="dropdown" aria-haspopup="true"
                aria-expanded="false">
                Select Snapshot Table
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink_snapshot">
    <a class="dropdown-item active" data-toggle="tab" href="#cocoon_snapshot_snapshot_keyword_history_data">snapshot_keyword_history_data</a><a class="dropdown-item " data-toggle="tab" href="#cocoon_snapshot_snapshot_portfolio_history_data">snapshot_portfolio_history_data</a><a class="dropdown-item " data-toggle="tab" href="#cocoon_snapshot_snapshot_product_ad_history_data">snapshot_product_ad_history_data</a><a class="dropdown-item " data-toggle="tab" href="#cocoon_snapshot_snapshot_ad_group_history_data">snapshot_ad_group_history_data</a><a class="dropdown-item " data-toggle="tab" href="#cocoon_snapshot_snapshot_campaign_history_data">snapshot_campaign_history_data</a>
            </div>
        </li>
    </ul>
    
            </nav>
            <div class="container">
                <small class="text-muted">We display the snapshot tables, their SQL definitions, and their configurations.</small>
            </div>
            <hr>
            <div class="scroll-container overflow-auto">
                <div class="tab-content mt-3">
                    
        <div class="tab-pane fade show active" id="cocoon_snapshot_snapshot_keyword_history_data">
            <p class="subtitle text-center mb-3">snapshot_keyword_history_data</p>
            
<p class="text-center mb-0">Table Preview <small class="text-muted">(schema only)</small></p>
<div class="code_container mb-4 mx-4"><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>keyword_id</th>
      <th>ad_group_id</th>
      <th>bid_amount</th>
      <th>campaign_id</th>
      <th>keyword_text</th>
      <th>match_type</th>
      <th>serving_status</th>
      <th>keyword_state</th>
      <th>native_language_keyword</th>
      <th>native_language_locale</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table></div>

<p class="text-center">snapshot_keyword_history_data.sql <small class="text-muted">(snapshot definition)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-sql">-- Slowly Changing Dimension: Dimension keys are "keyword_id"
-- Version columns are creation_date, last_updated_date
-- We will create Type 1 SCD (latest snapshot)

SELECT 
    "keyword_id",
    "ad_group_id",
    "bid_amount",
    "campaign_id",
    "keyword_text",
    "match_type",
    "serving_status",
    "keyword_state",
    "native_language_keyword",
    "native_language_locale"
FROM "stg_keyword_history_data"
QUALIFY ROW_NUMBER() OVER ( 
    PARTITION BY "keyword_id"
    ORDER BY
        last_updated_date DESC,
        creation_date DESC
) = 1</code></pre>
</div>
<p class="text-center">snapshot_keyword_history_data.yml <small class="text-muted"> (Document the snapshot)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-yaml">version: 2
models:
- name: snapshot_keyword_history_data
  description: The table is about current keyword data for advertising campaigns.
    It contains the latest information for each unique keyword, including ad group
    ID, campaign ID, current bid amount, keyword text, match type, serving status,
    and state. It tracks the most recent version of each keyword's attributes, removing
    historical changes and focusing on the current state of keywords used in advertising
    campaigns.
  columns:
  - name: keyword_id
    description: Unique identifier for the keyword
    tests:
    - not_null
    - unique
    cocoon_meta:
      unique_reason: Unique dimension key, derived from the slowly changing dimension
      data_type:
        current_data_type: INT
  - name: ad_group_id
    description: Identifier for the ad group
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: bid_amount
    description: Bid amount for the keyword
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: DECIMAL
  - name: campaign_id
    description: Identifier for the campaign
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: keyword_text
    description: The actual keyword text
    tests:
    - not_null
    - accepted_values:
        values:
        - x wing parts
        - b wing parts
        - y wing parts
    cocoon_meta:
      future_accepted_values:
      - a wing parts
      - tie fighter parts
      - tie interceptor parts
      - tie bomber parts
      - tie defender parts
      - snowspeeder parts
      - u wing parts
      - z-95 headhunter parts
      - arc-170 parts
      - v wing parts
      data_type:
        current_data_type: VARCHAR
  - name: match_type
    description: Type of keyword match (e.g., exact)
    tests:
    - not_null
    - accepted_values:
        values:
        - exact
    cocoon_meta:
      future_accepted_values:
      - phrase
      - broad
      - modified broad
      data_type:
        current_data_type: VARCHAR
  - name: serving_status
    description: Current status of the keyword for serving ads
    tests:
    - not_null
    - accepted_values:
        values:
        - TARGETING_CLAUSE_STATUS_LIVE
        - CAMPAIGN_PAUSED
    cocoon_meta:
      future_accepted_values:
      - TARGETING_CLAUSE_STATUS_PAUSED
      - TARGETING_CLAUSE_STATUS_ARCHIVED
      - CAMPAIGN_ARCHIVED
      - TARGETING_CLAUSE_STATUS_PENDING
      - TARGETING_CLAUSE_STATUS_REJECTED
      data_type:
        current_data_type: VARCHAR
  - name: keyword_state
    description: State of the keyword (e.g., enabled, paused)
    tests:
    - not_null
    - accepted_values:
        values:
        - enabled
    cocoon_meta:
      future_accepted_values:
      - paused
      - removed
      data_type:
        current_data_type: VARCHAR
  - name: native_language_keyword
    description: Keyword in native language (if applicable)
    cocoon_meta:
      missing_reason: Not applicable for keywords already in native language
      data_type:
        current_data_type: VARCHAR
  - name: native_language_locale
    description: Locale for the native language keyword
    cocoon_meta:
      missing_reason: Not applicable when keyword is in default language
      data_type:
        current_data_type: VARCHAR
  tests: []
cocoon_meta:
  scd_base_table: stg_keyword_history_data
  scd_columns:
  - creation_date
  - last_updated_date
</code></pre>
</div>

        </div>
        
        <div class="tab-pane fade " id="cocoon_snapshot_snapshot_portfolio_history_data">
            <p class="subtitle text-center mb-3">snapshot_portfolio_history_data</p>
            
<p class="text-center mb-0">Table Preview <small class="text-muted">(schema only)</small></p>
<div class="code_container mb-4 mx-4"><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>entry_id</th>
      <th>currency_code</th>
      <th>budget_policy</th>
      <th>is_within_budget</th>
      <th>portfolio_name</th>
      <th>profile_id</th>
      <th>operational_status</th>
      <th>portfolio_state</th>
      <th>budget_amount</th>
      <th>budget_end_date</th>
      <th>budget_start_date</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table></div>

<p class="text-center">snapshot_portfolio_history_data.sql <small class="text-muted">(snapshot definition)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-sql">-- Slowly Changing Dimension: Dimension keys are "portfolio_name", "profile_id"
-- Version columns are creation_date, last_updated_date
-- We will create Type 1 SCD (latest snapshot)

SELECT 
    "entry_id",
    "currency_code",
    "budget_policy",
    "is_within_budget",
    "portfolio_name",
    "profile_id",
    "operational_status",
    "portfolio_state",
    "budget_amount",
    "budget_end_date",
    "budget_start_date"
FROM "stg_portfolio_history_data"
QUALIFY ROW_NUMBER() OVER ( 
    PARTITION BY "portfolio_name", "profile_id"
    ORDER BY
        last_updated_date DESC,
        creation_date DESC
) = 1</code></pre>
</div>
<p class="text-center">snapshot_portfolio_history_data.yml <small class="text-muted"> (Document the snapshot)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-yaml">version: 2
models:
- name: snapshot_portfolio_history_data
  description: The table is about current portfolio data. It tracks the most recent
    version of each portfolio, including its budget details, operational status, and
    currency. Each row represents a unique portfolio identified by its name and profile
    ID. The table provides up-to-date information on budget amounts, date ranges,
    and compliance status for various portfolios across different currencies and regions.
  columns:
  - name: entry_id
    description: Unique identifier for the portfolio entry
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: currency_code
    description: Currency code for the budget amount
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: budget_policy
    description: Type of budgeting policy applied
    tests:
    - not_null
    - accepted_values:
        values:
        - dateRange
        - monthlyRecurring
    cocoon_meta:
      future_accepted_values:
      - annualRecurring
      - quarterlyRecurring
      - oneTime
      - projectBased
      - rollingForecast
      - zeroBasedBudgeting
      - activityBasedBudgeting
      - flexibleBudgeting
      - incrementalBudgeting
      - performanceBasedBudgeting
      data_type:
        current_data_type: VARCHAR
  - name: is_within_budget
    description: Boolean indicating if portfolio is within budget
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: BOOLEAN
  - name: portfolio_name
    description: Name of the portfolio
    tests:
    - not_null
    - accepted_values:
        values:
        - Empire
        - First Order
        - New Republic
        - Rebel Alliance
        - Resistance
    cocoon_meta:
      future_accepted_values:
      - Galactic Republic
      - Confederacy of Independent Systems (CIS)
      - Jedi Order
      - Sith Empire
      - Mandalorians
      - Hutt Cartel
      - Black Sun
      - Trade Federation
      data_type:
        current_data_type: VARCHAR
  - name: profile_id
    description: Unique identifier for the associated profile
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: operational_status
    description: Current operational status of the portfolio
    tests:
    - not_null
    - accepted_values:
        values:
        - PORTFOLIO_STATUS_ENABLED
        - PORTFOLIO_STATUS_PAUSED
    cocoon_meta:
      future_accepted_values:
      - PORTFOLIO_STATUS_DISABLED
      data_type:
        current_data_type: VARCHAR
  - name: portfolio_state
    description: Current state of the portfolio (enabled/paused)
    tests:
    - not_null
    - accepted_values:
        values:
        - enabled
        - paused
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: budget_amount
    description: Numeric value of the portfolio budget
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: DECIMAL
  - name: budget_end_date
    description: End date of the budget period
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: DATE
  - name: budget_start_date
    description: Start date of the budget period
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: DATE
  tests: []
cocoon_meta:
  scd_base_table: stg_portfolio_history_data
  scd_columns:
  - creation_date
  - last_updated_date
</code></pre>
</div>

        </div>
        
        <div class="tab-pane fade " id="cocoon_snapshot_snapshot_product_ad_history_data">
            <p class="subtitle text-center mb-3">snapshot_product_ad_history_data</p>
            
<p class="text-center mb-0">Table Preview <small class="text-muted">(schema only)</small></p>
<div class="code_container mb-4 mx-4"><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ad_id</th>
      <th>ad_group_id</th>
      <th>product_asin</th>
      <th>campaign_id</th>
      <th>creation_date</th>
      <th>product_sku</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table></div>

<p class="text-center">snapshot_product_ad_history_data.sql <small class="text-muted">(snapshot definition)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-sql">-- Slowly Changing Dimension: Dimension keys are "ad_id"
-- Version columns are last_updated_date, ad_serving_status, ad_state
-- We will create Type 1 SCD (latest snapshot)

SELECT 
    "ad_id",
    "ad_group_id",
    "product_asin",
    "campaign_id",
    "creation_date",
    "product_sku"
FROM "stg_product_ad_history_data"
QUALIFY ROW_NUMBER() OVER ( 
    PARTITION BY "ad_id"
    ORDER BY
        last_updated_date DESC,
        CASE 
            WHEN ad_serving_status = 'AD_STATUS_LIVE' THEN 1
            WHEN ad_serving_status = 'CAMPAIGN_PAUSED' THEN 2
            WHEN ad_serving_status = 'AD_STATUS_PAUSED' THEN 3
            ELSE 4
        END,
        CASE 
            WHEN ad_state = 'enabled' THEN 1
            WHEN ad_state = 'disabled' THEN 2
            ELSE 3
        END
) = 1</code></pre>
</div>
<p class="text-center">snapshot_product_ad_history_data.yml <small class="text-muted"> (Document the snapshot)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-yaml">version: 2
models:
- name: snapshot_product_ad_history_data
  description: The table is about current product ad status. It tracks the most recent
    version of each ad, identified by a unique ad ID. The table includes details like
    ad group ID, ASIN, campaign ID, creation date, and current serving status. Each
    row represents the latest state of an ad, showing its most up-to-date information
    without historical changes.
  columns:
  - name: ad_id
    description: Unique identifier for the ad
    tests:
    - not_null
    - unique
    cocoon_meta:
      unique_reason: Unique dimension key, derived from the slowly changing dimension
      data_type:
        current_data_type: INT
  - name: ad_group_id
    description: Identifier for the group the ad belongs to
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: product_asin
    description: Amazon Standard Identification Number for the product
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: campaign_id
    description: Identifier for the campaign the ad is part of
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: creation_date
    description: Timestamp when the ad was initially created
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: TIMESTAMP
  - name: product_sku
    description: Stock Keeping Unit, appears to be unused
    cocoon_meta:
      missing_reason: Not applicable when product is identified by ASIN instead.
      data_type:
        current_data_type: VARCHAR
  tests: []
cocoon_meta:
  scd_base_table: stg_product_ad_history_data
  scd_columns:
  - last_updated_date
  - ad_serving_status
  - ad_state
</code></pre>
</div>

        </div>
        
        <div class="tab-pane fade " id="cocoon_snapshot_snapshot_ad_group_history_data">
            <p class="subtitle text-center mb-3">snapshot_ad_group_history_data</p>
            
<p class="text-center mb-0">Table Preview <small class="text-muted">(schema only)</small></p>
<div class="code_container mb-4 mx-4"><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ad_group_id</th>
      <th>campaign_id</th>
      <th>default_bid</th>
      <th>ad_group_name</th>
      <th>serving_status</th>
      <th>ad_group_state</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table></div>

<p class="text-center">snapshot_ad_group_history_data.sql <small class="text-muted">(snapshot definition)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-sql">-- Slowly Changing Dimension: Dimension keys are "ad_group_id"
-- Version columns are last_updated_date, creation_date
-- We will create Type 1 SCD (latest snapshot)

SELECT 
    "ad_group_id",
    "campaign_id",
    "default_bid",
    "ad_group_name",
    "serving_status",
    "ad_group_state"
FROM "stg_ad_group_history_data"
QUALIFY ROW_NUMBER() OVER ( 
    PARTITION BY "ad_group_id"
    ORDER BY
        last_updated_date DESC,
        creation_date DESC
) = 1</code></pre>
</div>
<p class="text-center">snapshot_ad_group_history_data.yml <small class="text-muted"> (Document the snapshot)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-yaml">version: 2
models:
- name: snapshot_ad_group_history_data
  description: The table is about current ad group data. It tracks the most recent
    version of each ad group. It includes details such as ad group ID, campaign ID,
    default bid, name, serving status, and state. Each row represents the latest snapshot
    of an ad group's state. The table provides a current view of all ad groups without
    historical changes.
  columns:
  - name: ad_group_id
    description: Unique identifier for the ad group
    tests:
    - not_null
    - unique
    cocoon_meta:
      unique_reason: Unique dimension key, derived from the slowly changing dimension
      data_type:
        current_data_type: INT
  - name: campaign_id
    description: Identifier of the campaign the ad group belongs to
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: default_bid
    description: Default bid amount for the ad group
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: DECIMAL
  - name: ad_group_name
    description: Name of the ad group
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: serving_status
    description: Current serving status of the ad group
    tests:
    - not_null
    - accepted_values:
        values:
        - AD_STATUS_LIVE
        - CAMPAIGN_PAUSED
    cocoon_meta:
      future_accepted_values:
      - AD_GROUP_PAUSED
      - AD_STATUS_PAUSED
      - REMOVED
      - PENDING_REVIEW
      - DISAPPROVED
      - ENDED
      - SUSPENDED
      data_type:
        current_data_type: VARCHAR
  - name: ad_group_state
    description: Current state of the ad group
    tests:
    - not_null
    - accepted_values:
        values:
        - enabled
        - disabled
        - paused
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  tests: []
cocoon_meta:
  scd_base_table: stg_ad_group_history_data
  scd_columns:
  - last_updated_date
  - creation_date
</code></pre>
</div>

        </div>
        
        <div class="tab-pane fade " id="cocoon_snapshot_snapshot_campaign_history_data">
            <p class="subtitle text-center mb-3">snapshot_campaign_history_data</p>
            
<p class="text-center mb-0">Table Preview <small class="text-muted">(schema only)</small></p>
<div class="code_container mb-4 mx-4"><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>campaign_id</th>
      <th>bidding_strategy</th>
      <th>campaign_name</th>
      <th>portfolio_id</th>
      <th>profile_id</th>
      <th>serving_status</th>
      <th>campaign_state</th>
      <th>targeting_type</th>
      <th>budget_type</th>
      <th>budget_amount</th>
      <th>effective_budget</th>
      <th>end_date</th>
      <th>start_date</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table></div>

<p class="text-center">snapshot_campaign_history_data.sql <small class="text-muted">(snapshot definition)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-sql">-- Slowly Changing Dimension: Dimension keys are "campaign_id"
-- Version columns are last_updated_date, creation_date
-- We will create Type 1 SCD (latest snapshot)

SELECT 
    "campaign_id",
    "bidding_strategy",
    "campaign_name",
    "portfolio_id",
    "profile_id",
    "serving_status",
    "campaign_state",
    "targeting_type",
    "budget_type",
    "budget_amount",
    "effective_budget",
    "end_date",
    "start_date"
FROM "stg_campaign_history_data"
QUALIFY ROW_NUMBER() OVER ( 
    PARTITION BY "campaign_id"
    ORDER BY
        last_updated_date DESC,
        creation_date DESC
) = 1</code></pre>
</div>
<p class="text-center">snapshot_campaign_history_data.yml <small class="text-muted"> (Document the snapshot)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-yaml">version: 2
models:
- name: snapshot_campaign_history_data
  description: The table is about current campaign data. It tracks the most recent
    version of each campaign. Each row represents a unique campaign with its latest
    attributes. Key information includes campaign ID, name, budget, bidding strategy,
    and status. The table provides a snapshot of campaign settings as of the last
    update, without historical changes.
  columns:
  - name: campaign_id
    description: Unique identifier for the campaign
    tests:
    - not_null
    - unique
    cocoon_meta:
      unique_reason: Unique dimension key, derived from the slowly changing dimension
      data_type:
        current_data_type: INT
  - name: bidding_strategy
    description: Approach used for bidding in the campaign
    tests:
    - not_null
    - accepted_values:
        values:
        - autoForSales
    cocoon_meta:
      future_accepted_values:
      - Manual CPC
      - Enhanced CPC
      - Maximize Clicks
      - Maximize Conversions
      - Target CPA
      - Target ROAS
      - Target Impression Share
      - Maximize Conversion Value
      - CPM
      - vCPM
      - CPA
      - Cost Per View
      - Cost Per Completed View
      - First Page Bid
      - Top of Page Bid
      - Automated Bidding
      - Portfolio Bidding
      - Dayparting
      - Geo-bidding
      - Device-specific Bidding
      data_type:
        current_data_type: VARCHAR
  - name: campaign_name
    description: Name of the campaign
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: portfolio_id
    description: Identifier for the associated portfolio
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: profile_id
    description: Identifier for the associated profile
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: serving_status
    description: Current status of campaign delivery
    tests:
    - not_null
    - accepted_values:
        values:
        - CAMPAIGN_STATUS_ENABLED
        - CAMPAIGN_PAUSED
    cocoon_meta:
      future_accepted_values:
      - CAMPAIGN_ARCHIVED
      - CAMPAIGN_PENDING
      data_type:
        current_data_type: VARCHAR
  - name: campaign_state
    description: Current operational state of the campaign
    tests:
    - not_null
    - accepted_values:
        values:
        - enabled
        - paused
    cocoon_meta:
      future_accepted_values:
      - archived
      data_type:
        current_data_type: VARCHAR
  - name: targeting_type
    description: Method used for targeting audience
    tests:
    - not_null
    - accepted_values:
        values:
        - manual
    cocoon_meta:
      future_accepted_values:
      - automated
      - demographic
      - behavioral
      - contextual
      - geographic
      - interest-based
      - lookalike
      - retargeting
      - custom audience
      - keyword
      - device
      - dayparting
      - affinity
      - in-market
      - life events
      - b2b
      data_type:
        current_data_type: VARCHAR
  - name: budget_type
    description: Type of budget allocation (e.g., daily)
    tests:
    - not_null
    - accepted_values:
        values:
        - daily
    cocoon_meta:
      future_accepted_values:
      - weekly
      - monthly
      - quarterly
      - annual
      - biannual
      - custom
      data_type:
        current_data_type: VARCHAR
  - name: budget_amount
    description: Amount allocated for the campaign
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: DECIMAL
  - name: effective_budget
    description: Actual budget in effect
    cocoon_meta:
      missing_reason: Unknown
      data_type:
        current_data_type: VARCHAR
  - name: end_date
    description: Scheduled end date of the campaign
    cocoon_meta:
      missing_reason: Not applicable for campaigns without a set end date.
      data_type:
        current_data_type: DATE
  - name: start_date
    description: Scheduled start date of the campaign
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: DATE
  tests: []
cocoon_meta:
  scd_base_table: stg_campaign_history_data
  scd_columns:
  - last_updated_date
  - creation_date
</code></pre>
</div>

        </div>
        
                </div>
            </div>
        </div>
        
        <div class="tab-pane fade " id="cocoon_steps_join">
            <nav class="navbar navbar-light bg-light">
                <span class="navbar-brand mb-0">
                    <h5 class="card-title mb-0">Integration</h5>
                </span>
                
            </nav>
            <div class="container">
                <small class="text-muted">We identify the primary key (PK) and foreign key (FK) from tables. We build a join graph that connects FK to PK.</small>
            </div>
            <hr>
            <div class="scroll-container overflow-auto">
                <div class="tab-content mt-3">
                    
<p class="text-center">Join Graph <small class="text-muted">(FK to PK)</small></p>
<div class="container mb-4">
        <div style="overflow: auto; border: 1px solid #cccccc;">
            <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="675pt" height="262pt"
 viewBox="0.00 0.00 674.85 262.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 258)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-258 670.85,-258 670.85,4 -4,4"/>
<!-- snapshot_portfolio_history_data_0 -->
<g id="node1" class="node">
<title>snapshot_portfolio_history_data_0</title>
<polygon fill="#ffffff" stroke="#000000" points="286.35,-80 155.35,-80 155.35,-58 286.35,-58 286.35,-80"/>
<text text-anchor="middle" x="220.85" y="-67.1" font-family="Segoe UI" font-size="8.00" fill="#000000">snapshot_portfolio_history_data</text>
</g>
<!-- stg_profile_data_5 -->
<g id="node6" class="node">
<title>stg_profile_data_5</title>
<polygon fill="#ffffff" stroke="#000000" points="329.85,-22 263.85,-22 263.85,0 329.85,0 329.85,-22"/>
<text text-anchor="middle" x="296.85" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">stg_profile_data</text>
</g>
<!-- snapshot_portfolio_history_data_0&#45;&gt;stg_profile_data_5 -->
<g id="edge9" class="edge">
<title>snapshot_portfolio_history_data_0&#45;&gt;stg_profile_data_5</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M234.44,-57.99C246.57,-49.05 264.47,-35.86 277.99,-25.89"/>
<polygon fill="#000000" stroke="#000000" stroke-width="0.6" points="279.54,-27.36 283.12,-22.11 277.05,-23.98 279.54,-27.36"/>
</g>
<!-- stg_search_term_ad_keyword_report_data_1 -->
<g id="node2" class="node">
<title>stg_search_term_ad_keyword_report_data_1</title>
<polygon fill="#ffffff" stroke="#000000" points="504.35,-254 333.35,-254 333.35,-232 504.35,-232 504.35,-254"/>
<text text-anchor="middle" x="418.85" y="-241.1" font-family="Segoe UI" font-size="8.00" fill="#000000">stg_search_term_ad_keyword_report_data</text>
</g>
<!-- snapshot_campaign_history_data_2 -->
<g id="node3" class="node">
<title>snapshot_campaign_history_data_2</title>
<polygon fill="#ffffff" stroke="#000000" points="441.35,-80 304.35,-80 304.35,-58 441.35,-58 441.35,-80"/>
<text text-anchor="middle" x="372.85" y="-67.1" font-family="Segoe UI" font-size="8.00" fill="#000000">snapshot_campaign_history_data</text>
</g>
<!-- stg_search_term_ad_keyword_report_data_1&#45;&gt;snapshot_campaign_history_data_2 -->
<g id="edge6" class="edge">
<title>stg_search_term_ad_keyword_report_data_1&#45;&gt;snapshot_campaign_history_data_2</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M476.13,-231.99C513.41,-222.44 552.59,-204.8 537.85,-174 514.37,-124.95 455.41,-96.51 414.73,-82.13"/>
<polygon fill="#000000" stroke="#000000" stroke-width="0.6" points="415.23,-80.08 408.87,-80.11 413.86,-84.05 415.23,-80.08"/>
</g>
<!-- snapshot_ad_group_history_data_9 -->
<g id="node10" class="node">
<title>snapshot_ad_group_history_data_9</title>
<polygon fill="#ffffff" stroke="#000000" points="288.35,-138 153.35,-138 153.35,-116 288.35,-116 288.35,-138"/>
<text text-anchor="middle" x="220.85" y="-125.1" font-family="Segoe UI" font-size="8.00" fill="#000000">snapshot_ad_group_history_data</text>
</g>
<!-- stg_search_term_ad_keyword_report_data_1&#45;&gt;snapshot_ad_group_history_data_9 -->
<g id="edge13" class="edge">
<title>stg_search_term_ad_keyword_report_data_1&#45;&gt;snapshot_ad_group_history_data_9</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M332.91,-237.88C300,-232.11 264.49,-220.13 239.85,-196 226.06,-182.49 222.04,-159.87 221,-144.45"/>
<polygon fill="#000000" stroke="#000000" stroke-width="0.6" points="223.09,-144.23 220.71,-138.34 218.89,-144.43 223.09,-144.23"/>
</g>
<!-- snapshot_keyword_history_data_10 -->
<g id="node11" class="node">
<title>snapshot_keyword_history_data_10</title>
<polygon fill="#ffffff" stroke="#000000" points="528.35,-196 397.35,-196 397.35,-174 528.35,-174 528.35,-196"/>
<text text-anchor="middle" x="462.85" y="-183.1" font-family="Segoe UI" font-size="8.00" fill="#000000">snapshot_keyword_history_data</text>
</g>
<!-- stg_search_term_ad_keyword_report_data_1&#45;&gt;snapshot_keyword_history_data_10 -->
<g id="edge16" class="edge">
<title>stg_search_term_ad_keyword_report_data_1&#45;&gt;snapshot_keyword_history_data_10</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M426.72,-231.99C433.45,-223.42 443.25,-210.94 450.95,-201.15"/>
<polygon fill="#000000" stroke="#000000" stroke-width="0.6" points="452.7,-202.32 454.75,-196.3 449.4,-199.72 452.7,-202.32"/>
</g>
<!-- snapshot_campaign_history_data_2&#45;&gt;stg_profile_data_5 -->
<g id="edge8" class="edge">
<title>snapshot_campaign_history_data_2&#45;&gt;stg_profile_data_5</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M359.26,-57.99C347.12,-49.05 329.23,-35.86 315.7,-25.89"/>
<polygon fill="#000000" stroke="#000000" stroke-width="0.6" points="316.65,-23.98 310.58,-22.11 314.16,-27.36 316.65,-23.98"/>
</g>
<!-- stg_ad_group_level_report_data_3 -->
<g id="node4" class="node">
<title>stg_ad_group_level_report_data_3</title>
<polygon fill="#ffffff" stroke="#000000" points="378.85,-196 248.85,-196 248.85,-174 378.85,-174 378.85,-196"/>
<text text-anchor="middle" x="313.85" y="-183.1" font-family="Segoe UI" font-size="8.00" fill="#000000">stg_ad_group_level_report_data</text>
</g>
<!-- stg_ad_group_level_report_data_3&#45;&gt;snapshot_ad_group_history_data_9 -->
<g id="edge15" class="edge">
<title>stg_ad_group_level_report_data_3&#45;&gt;snapshot_ad_group_history_data_9</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M297.22,-173.99C282.11,-164.89 259.69,-151.39 243.05,-141.37"/>
<polygon fill="#000000" stroke="#000000" stroke-width="0.6" points="243.87,-139.41 237.65,-138.11 241.7,-143.01 243.87,-139.41"/>
</g>
<!-- stg_targeting_keyword_report_data_4 -->
<g id="node5" class="node">
<title>stg_targeting_keyword_report_data_4</title>
<polygon fill="#ffffff" stroke="#000000" points="666.85,-254 522.85,-254 522.85,-232 666.85,-232 666.85,-254"/>
<text text-anchor="middle" x="594.85" y="-241.1" font-family="Segoe UI" font-size="8.00" fill="#000000">stg_targeting_keyword_report_data</text>
</g>
<!-- stg_targeting_keyword_report_data_4&#45;&gt;snapshot_campaign_history_data_2 -->
<g id="edge7" class="edge">
<title>stg_targeting_keyword_report_data_4&#45;&gt;snapshot_campaign_history_data_2</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M590.93,-231.74C581.21,-207.7 553.67,-147.41 510.85,-116 488.32,-99.47 459.49,-88.64 434.02,-81.67"/>
<polygon fill="#000000" stroke="#000000" stroke-width="0.6" points="434.3,-79.57 427.96,-80.06 433.22,-83.63 434.3,-79.57"/>
</g>
<!-- stg_targeting_keyword_report_data_4&#45;&gt;snapshot_ad_group_history_data_9 -->
<g id="edge14" class="edge">
<title>stg_targeting_keyword_report_data_4&#45;&gt;snapshot_ad_group_history_data_9</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M589.59,-231.91C581.02,-216.58 562.47,-187.73 537.85,-174 532.54,-171.04 386.5,-150.65 294.52,-138.03"/>
<polygon fill="#000000" stroke="#000000" stroke-width="0.6" points="294.77,-135.95 288.54,-137.21 294.2,-140.11 294.77,-135.95"/>
</g>
<!-- stg_targeting_keyword_report_data_4&#45;&gt;snapshot_keyword_history_data_10 -->
<g id="edge17" class="edge">
<title>stg_targeting_keyword_report_data_4&#45;&gt;snapshot_keyword_history_data_10</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M571.25,-231.99C549.14,-222.61 516.03,-208.56 492.22,-198.46"/>
<polygon fill="#000000" stroke="#000000" stroke-width="0.6" points="493.03,-196.52 486.69,-196.11 491.39,-200.39 493.03,-196.52"/>
</g>
<!-- snapshot_product_ad_history_data_6 -->
<g id="node7" class="node">
<title>snapshot_product_ad_history_data_6</title>
<polygon fill="#ffffff" stroke="#000000" points="154.85,-196 12.85,-196 12.85,-174 154.85,-174 154.85,-196"/>
<text text-anchor="middle" x="83.85" y="-183.1" font-family="Segoe UI" font-size="8.00" fill="#000000">snapshot_product_ad_history_data</text>
</g>
<!-- snapshot_product_ad_history_data_6&#45;&gt;snapshot_campaign_history_data_2 -->
<g id="edge3" class="edge">
<title>snapshot_product_ad_history_data_6&#45;&gt;snapshot_campaign_history_data_2</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M89.77,-173.83C99.17,-158.64 119.03,-130.31 143.85,-116 169.74,-101.07 241.72,-88.09 298.14,-79.76"/>
<polygon fill="#000000" stroke="#000000" stroke-width="0.6" points="298.61,-81.81 304.24,-78.86 298,-77.65 298.61,-81.81"/>
</g>
<!-- snapshot_product_ad_history_data_6&#45;&gt;snapshot_ad_group_history_data_9 -->
<g id="edge11" class="edge">
<title>snapshot_product_ad_history_data_6&#45;&gt;snapshot_ad_group_history_data_9</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M108.34,-173.99C131.29,-164.61 165.65,-150.56 190.36,-140.46"/>
<polygon fill="#000000" stroke="#000000" stroke-width="0.6" points="191.35,-142.33 196.11,-138.11 189.76,-138.44 191.35,-142.33"/>
</g>
<!-- stg_campaign_level_report_data_7 -->
<g id="node8" class="node">
<title>stg_campaign_level_report_data_7</title>
<polygon fill="#ffffff" stroke="#000000" points="438.85,-138 306.85,-138 306.85,-116 438.85,-116 438.85,-138"/>
<text text-anchor="middle" x="372.85" y="-125.1" font-family="Segoe UI" font-size="8.00" fill="#000000">stg_campaign_level_report_data</text>
</g>
<!-- stg_campaign_level_report_data_7&#45;&gt;snapshot_campaign_history_data_2 -->
<g id="edge5" class="edge">
<title>stg_campaign_level_report_data_7&#45;&gt;snapshot_campaign_history_data_2</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M372.85,-115.99C372.85,-107.81 372.85,-96.08 372.85,-86.51"/>
<polygon fill="#000000" stroke="#000000" stroke-width="0.6" points="374.95,-86.3 372.85,-80.3 370.75,-86.3 374.95,-86.3"/>
</g>
<!-- stg_advertised_product_report_data_8 -->
<g id="node9" class="node">
<title>stg_advertised_product_report_data_8</title>
<polygon fill="#ffffff" stroke="#000000" points="157.35,-254 10.35,-254 10.35,-232 157.35,-232 157.35,-254"/>
<text text-anchor="middle" x="83.85" y="-241.1" font-family="Segoe UI" font-size="8.00" fill="#000000">stg_advertised_product_report_data</text>
</g>
<!-- stg_advertised_product_report_data_8&#45;&gt;snapshot_campaign_history_data_2 -->
<g id="edge4" class="edge">
<title>stg_advertised_product_report_data_8&#45;&gt;snapshot_campaign_history_data_2</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M54.56,-231.99C25.81,-220.43 -11.64,-199.68 3.85,-174 32.4,-126.67 61.57,-133.94 113.85,-116 147.12,-104.59 234.12,-90.25 298.14,-80.65"/>
<polygon fill="#000000" stroke="#000000" stroke-width="0.6" points="298.64,-82.7 304.27,-79.73 298.02,-78.54 298.64,-82.7"/>
</g>
<!-- stg_advertised_product_report_data_8&#45;&gt;snapshot_product_ad_history_data_6 -->
<g id="edge18" class="edge">
<title>stg_advertised_product_report_data_8&#45;&gt;snapshot_product_ad_history_data_6</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M83.85,-231.99C83.85,-223.81 83.85,-212.08 83.85,-202.51"/>
<polygon fill="#000000" stroke="#000000" stroke-width="0.6" points="85.95,-202.3 83.85,-196.3 81.75,-202.3 85.95,-202.3"/>
</g>
<!-- stg_advertised_product_report_data_8&#45;&gt;snapshot_ad_group_history_data_9 -->
<g id="edge12" class="edge">
<title>stg_advertised_product_report_data_8&#45;&gt;snapshot_ad_group_history_data_9</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M105.88,-231.97C122.74,-223.7 146.04,-210.92 163.85,-196 182.57,-180.31 199.96,-157.98 210.49,-143.24"/>
<polygon fill="#000000" stroke="#000000" stroke-width="0.6" points="212.32,-144.3 214.05,-138.19 208.88,-141.88 212.32,-144.3"/>
</g>
<!-- snapshot_ad_group_history_data_9&#45;&gt;snapshot_campaign_history_data_2 -->
<g id="edge1" class="edge">
<title>snapshot_ad_group_history_data_9&#45;&gt;snapshot_campaign_history_data_2</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M248.02,-115.99C273.77,-106.5 312.49,-92.24 339.97,-82.11"/>
<polygon fill="#000000" stroke="#000000" stroke-width="0.6" points="340.75,-84.06 345.65,-80.02 339.3,-80.12 340.75,-84.06"/>
</g>
<!-- snapshot_keyword_history_data_10&#45;&gt;snapshot_campaign_history_data_2 -->
<g id="edge2" class="edge">
<title>snapshot_keyword_history_data_10&#45;&gt;snapshot_campaign_history_data_2</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M463,-173.79C462.71,-159.56 460.33,-133.53 447.85,-116 437.27,-101.15 420.26,-90.15 405.11,-82.64"/>
<polygon fill="#000000" stroke="#000000" stroke-width="0.6" points="405.94,-80.71 399.62,-80.02 404.14,-84.5 405.94,-80.71"/>
</g>
<!-- snapshot_keyword_history_data_10&#45;&gt;snapshot_ad_group_history_data_9 -->
<g id="edge10" class="edge">
<title>snapshot_keyword_history_data_10&#45;&gt;snapshot_ad_group_history_data_9</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M419.58,-173.99C377.64,-164.28 314.1,-149.58 270.21,-139.42"/>
<polygon fill="#000000" stroke="#000000" stroke-width="0.6" points="270.47,-137.33 264.15,-138.02 269.52,-141.42 270.47,-137.33"/>
</g>
</g>
</svg>

        </div>
        </div>
<p class="text-center">cocoon_join.yml <small class="text-muted"> (Document the joins)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-yaml">join_graph:
- table_name: snapshot_campaign_history_data
  primary_key: campaign_id
  foreign_keys:
  - column: profile_id
    reference:
      table_name: stg_profile_data
      column: id
  time_keys:
  - creation_date
  - end_date
  - last_updated_date
  - start_date
- table_name: snapshot_ad_group_history_data
  foreign_keys:
  - column: campaign_id
    reference:
      table_name: snapshot_campaign_history_data
      column: campaign_id
  primary_key: ad_group_id
  time_keys:
  - creation_date
  - last_updated_date
- table_name: snapshot_keyword_history_data
  foreign_keys:
  - column: campaign_id
    reference:
      table_name: snapshot_campaign_history_data
      column: campaign_id
  - column: ad_group_id
    reference:
      table_name: snapshot_ad_group_history_data
      column: ad_group_id
  primary_key: keyword_id
  time_keys:
  - creation_date
  - last_updated_date
- table_name: snapshot_product_ad_history_data
  foreign_keys:
  - column: campaign_id
    reference:
      table_name: snapshot_campaign_history_data
      column: campaign_id
  - column: ad_group_id
    reference:
      table_name: snapshot_ad_group_history_data
      column: ad_group_id
  primary_key: ad_id
  time_keys:
  - creation_date
  - last_updated_date
- table_name: stg_advertised_product_report_data
  foreign_keys:
  - column: campaign_id
    reference:
      table_name: snapshot_campaign_history_data
      column: campaign_id
  - column: ad_group_id
    reference:
      table_name: snapshot_ad_group_history_data
      column: ad_group_id
  - column: ad_id
    reference:
      table_name: snapshot_product_ad_history_data
      column: ad_id
  time_keys:
  - report_date
- table_name: stg_campaign_level_report_data
  foreign_keys:
  - column: campaign_id
    reference:
      table_name: snapshot_campaign_history_data
      column: campaign_id
  time_keys:
  - report_date
- table_name: stg_search_term_ad_keyword_report_data
  foreign_keys:
  - column: campaign_id
    reference:
      table_name: snapshot_campaign_history_data
      column: campaign_id
  - column: ad_group_id
    reference:
      table_name: snapshot_ad_group_history_data
      column: ad_group_id
  - column: keyword_id
    reference:
      table_name: snapshot_keyword_history_data
      column: keyword_id
  time_keys:
  - performance_date
- table_name: stg_targeting_keyword_report_data
  foreign_keys:
  - column: campaign_id
    reference:
      table_name: snapshot_campaign_history_data
      column: campaign_id
  - column: ad_group_id
    reference:
      table_name: snapshot_ad_group_history_data
      column: ad_group_id
  - column: keyword_id
    reference:
      table_name: snapshot_keyword_history_data
      column: keyword_id
  time_keys:
  - performance_date
- table_name: stg_profile_data
  primary_key: id
  foreign_keys: []
- table_name: snapshot_portfolio_history_data
  foreign_keys:
  - column: profile_id
    reference:
      table_name: stg_profile_data
      column: id
  time_keys:
  - budget_end_date
  - budget_start_date
  - creation_date
  - last_updated_date
- table_name: stg_ad_group_level_report_data
  foreign_keys:
  - column: ad_group_id
    reference:
      table_name: snapshot_ad_group_history_data
      column: ad_group_id
  time_keys:
  - performance_date
</code></pre>
</div>

                </div>
            </div>
        </div>
        
        <div class="tab-pane fade " id="cocoon_steps_knowledge">
            <nav class="navbar navbar-light bg-light">
                <span class="navbar-brand mb-0">
                    <h5 class="card-title mb-0">Process</h5>
                </span>
                
    <ul class="nav">
        <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle active" href="#"
                id="navbarDropdownMenuLink_knowledge" data-toggle="dropdown" aria-haspopup="true"
                aria-expanded="false">
                Select Category
            </a>
            <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink_knowledge">
    <a class="dropdown-item active" data-toggle="tab" href="#cocoon_knowledge_All">All</a>
            </div>
        </li>
    </ul>
    
            </nav>
            <div class="container">
                <small class="text-muted">We illustrate the step-by-step process behind the data.</small>
            </div>
            <hr>
            <div class="scroll-container overflow-auto">
                <div class="tab-content mt-3">
                    
        <div class="tab-pane fade show active" id="cocoon_knowledge_All">
            <p class="subtitle text-center mb-3">All</p>
            
<p class="text-center">Process Story</p>
<div class="container">
    <div id="cocoon_er_story_carousel_0" class="carousel slide" data-interval="false">
        <div class="d-flex justify-content-between align-items-center mt-3">
            <a class="btn btn-secondary" href="#cocoon_er_story_carousel_0" role="button"
                data-slide="prev">
                Prev
            </a>
            <a class="btn btn-secondary" href="#cocoon_er_story_carousel_0" role="button"
                data-slide="next">
                Next
            </a>
        </div>
        <ol class="carousel-indicators" style="position: relative; bottom: 30px;">
            <li data-target="#cocoon_er_story_carousel_0" data-slide-to="0" class="active"></li>
<li data-target="#cocoon_er_story_carousel_0" data-slide-to="1" class=""></li>
<li data-target="#cocoon_er_story_carousel_0" data-slide-to="2" class=""></li>
<li data-target="#cocoon_er_story_carousel_0" data-slide-to="3" class=""></li>
<li data-target="#cocoon_er_story_carousel_0" data-slide-to="4" class=""></li>
<li data-target="#cocoon_er_story_carousel_0" data-slide-to="5" class=""></li>
<li data-target="#cocoon_er_story_carousel_0" data-slide-to="6" class=""></li>
        </ol>
        <div class="carousel-inner">
            <div class="carousel-item active" style="transition: none;">
    <p>Story behind the relationships <small class="text-muted"> (only for those connect >= 2 entities)</small></p><ol class="small"><li><b>[ProfileCampaigns]: Advertiser creates account profile and initial campaign</b></li></ol>
    
        <div style="overflow: auto; border: 1px solid #cccccc;">
            <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="146pt" height="88pt"
 viewBox="0.00 0.00 146.27 88.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 84)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-84 142.27,-84 142.27,4 -4,4"/>
<!-- ProfileCampaigns_0 -->
<g id="node1" class="node">
<title>ProfileCampaigns_0</title>
<polygon fill="#e1f5fe" stroke="#4fc3f7" points="100.21,-80 28.21,-80 28.21,-58 100.21,-58 100.21,-80"/>
<text text-anchor="middle" x="64.21" y="-67.1" font-family="Segoe UI" font-size="8.00" fill="#000000">ProfileCampaigns</text>
</g>
<!-- Campaigns_1 -->
<g id="node2" class="node">
<title>Campaigns_1</title>
<ellipse fill="#e1f5fe" stroke="#4fc3f7" cx="25.21" cy="-11" rx="25.41" ry="11"/>
<text text-anchor="middle" x="25.21" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">Campaigns</text>
</g>
<!-- ProfileCampaigns_0&#45;&#45;Campaigns_1 -->
<g id="edge1" class="edge">
<title>ProfileCampaigns_0&#45;&#45;Campaigns_1</title>
<path fill="none" stroke="#4fc3f7" d="M57.23,-57.99C50.13,-47.8 39.19,-32.09 32.12,-21.93"/>
</g>
<!-- AccountProfiles_2 -->
<g id="node3" class="node">
<title>AccountProfiles_2</title>
<ellipse fill="#e1f5fe" stroke="#4fc3f7" cx="103.21" cy="-11" rx="35.14" ry="11"/>
<text text-anchor="middle" x="103.21" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">AccountProfiles</text>
</g>
<!-- ProfileCampaigns_0&#45;&#45;AccountProfiles_2 -->
<g id="edge2" class="edge">
<title>ProfileCampaigns_0&#45;&#45;AccountProfiles_2</title>
<path fill="none" stroke="#4fc3f7" d="M71.18,-57.99C78.28,-47.8 89.22,-32.09 96.29,-21.93"/>
</g>
</g>
</svg>

        </div>
        
    <br>
    
    </div>
<div class="carousel-item " style="transition: none;">
    <p>Story behind the relationships <small class="text-muted"> (only for those connect >= 2 entities)</small></p><ol class="small"><li>[ProfileCampaigns]: Advertiser creates account profile and initial campaign</li><li><b>[CampaignAdGroups]: Campaign organizes multiple ad groups for targeted advertising</b></li></ol>
    
        <div style="overflow: auto; border: 1px solid #cccccc;">
            <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="215pt" height="88pt"
 viewBox="0.00 0.00 215.07 88.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 84)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-84 211.07,-84 211.07,4 -4,4"/>
<!-- ProfileCampaigns_0 -->
<g id="node1" class="node">
<title>ProfileCampaigns_0</title>
<polygon fill="#ffffff" stroke="#000000" points="83.07,-80 11.07,-80 11.07,-58 83.07,-58 83.07,-80"/>
<text text-anchor="middle" x="47.07" y="-67.1" font-family="Segoe UI" font-size="8.00" fill="#000000">ProfileCampaigns</text>
</g>
<!-- Campaigns_2 -->
<g id="node3" class="node">
<title>Campaigns_2</title>
<ellipse fill="#e1f5fe" stroke="#4fc3f7" cx="113.07" cy="-11" rx="25.41" ry="11"/>
<text text-anchor="middle" x="113.07" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">Campaigns</text>
</g>
<!-- ProfileCampaigns_0&#45;&#45;Campaigns_2 -->
<g id="edge1" class="edge">
<title>ProfileCampaigns_0&#45;&#45;Campaigns_2</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M58.87,-57.99C71.18,-47.54 90.31,-31.31 102.25,-21.18"/>
</g>
<!-- AccountProfiles_3 -->
<g id="node4" class="node">
<title>AccountProfiles_3</title>
<ellipse fill="#ffffff" stroke="#000000" cx="35.07" cy="-11" rx="35.14" ry="11"/>
<text text-anchor="middle" x="35.07" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">AccountProfiles</text>
</g>
<!-- ProfileCampaigns_0&#45;&#45;AccountProfiles_3 -->
<g id="edge2" class="edge">
<title>ProfileCampaigns_0&#45;&#45;AccountProfiles_3</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M44.92,-57.99C42.77,-47.92 39.46,-32.47 37.28,-22.3"/>
</g>
<!-- CampaignAdGroups_1 -->
<g id="node2" class="node">
<title>CampaignAdGroups_1</title>
<polygon fill="#e1f5fe" stroke="#4fc3f7" points="207.07,-80 125.07,-80 125.07,-58 207.07,-58 207.07,-80"/>
<text text-anchor="middle" x="166.07" y="-67.1" font-family="Segoe UI" font-size="8.00" fill="#000000">CampaignAdGroups</text>
</g>
<!-- CampaignAdGroups_1&#45;&#45;Campaigns_2 -->
<g id="edge4" class="edge">
<title>CampaignAdGroups_1&#45;&#45;Campaigns_2</title>
<path fill="none" stroke="#4fc3f7" d="M156.59,-57.99C146.83,-47.67 131.71,-31.7 122.11,-21.55"/>
</g>
<!-- AdGroups_4 -->
<g id="node5" class="node">
<title>AdGroups_4</title>
<ellipse fill="#e1f5fe" stroke="#4fc3f7" cx="178.07" cy="-11" rx="21.84" ry="11"/>
<text text-anchor="middle" x="178.07" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">AdGroups</text>
</g>
<!-- CampaignAdGroups_1&#45;&#45;AdGroups_4 -->
<g id="edge3" class="edge">
<title>CampaignAdGroups_1&#45;&#45;AdGroups_4</title>
<path fill="none" stroke="#4fc3f7" d="M168.21,-57.99C170.37,-47.92 173.68,-32.47 175.86,-22.3"/>
</g>
</g>
</svg>

        </div>
        
    <br>
    
    </div>
<div class="carousel-item " style="transition: none;">
    <p>Story behind the relationships <small class="text-muted"> (only for those connect >= 2 entities)</small></p><ol class="small"><li>[ProfileCampaigns]: Advertiser creates account profile and initial campaign</li><li>[CampaignAdGroups]: Campaign organizes multiple ad groups for targeted advertising</li><li><b>[CampaignAdStructure]: Ad groups collect product ads within campaign structure</b></li></ol>
    
        <div style="overflow: auto; border: 1px solid #cccccc;">
            <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="288pt" height="88pt"
 viewBox="0.00 0.00 288.00 88.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 84)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-84 284,-84 284,4 -4,4"/>
<!-- ProfileCampaigns_0 -->
<g id="node1" class="node">
<title>ProfileCampaigns_0</title>
<polygon fill="#ffffff" stroke="#000000" points="280,-80 208,-80 208,-58 280,-58 280,-80"/>
<text text-anchor="middle" x="244" y="-67.1" font-family="Segoe UI" font-size="8.00" fill="#000000">ProfileCampaigns</text>
</g>
<!-- Campaigns_3 -->
<g id="node4" class="node">
<title>Campaigns_3</title>
<ellipse fill="#e1f5fe" stroke="#4fc3f7" cx="158" cy="-11" rx="25.41" ry="11"/>
<text text-anchor="middle" x="158" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">Campaigns</text>
</g>
<!-- ProfileCampaigns_0&#45;&#45;Campaigns_3 -->
<g id="edge1" class="edge">
<title>ProfileCampaigns_0&#45;&#45;Campaigns_3</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M228.62,-57.99C212.2,-47.29 186.44,-30.52 170.99,-20.46"/>
</g>
<!-- AccountProfiles_4 -->
<g id="node5" class="node">
<title>AccountProfiles_4</title>
<ellipse fill="#ffffff" stroke="#000000" cx="244" cy="-11" rx="35.14" ry="11"/>
<text text-anchor="middle" x="244" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">AccountProfiles</text>
</g>
<!-- ProfileCampaigns_0&#45;&#45;AccountProfiles_4 -->
<g id="edge2" class="edge">
<title>ProfileCampaigns_0&#45;&#45;AccountProfiles_4</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M244,-57.99C244,-47.92 244,-32.47 244,-22.3"/>
</g>
<!-- CampaignAdGroups_1 -->
<g id="node2" class="node">
<title>CampaignAdGroups_1</title>
<polygon fill="#ffffff" stroke="#000000" points="190,-80 108,-80 108,-58 190,-58 190,-80"/>
<text text-anchor="middle" x="149" y="-67.1" font-family="Segoe UI" font-size="8.00" fill="#000000">CampaignAdGroups</text>
</g>
<!-- CampaignAdGroups_1&#45;&#45;Campaigns_3 -->
<g id="edge4" class="edge">
<title>CampaignAdGroups_1&#45;&#45;Campaigns_3</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M150.61,-57.99C152.23,-47.92 154.71,-32.47 156.34,-22.3"/>
</g>
<!-- AdGroups_5 -->
<g id="node6" class="node">
<title>AdGroups_5</title>
<ellipse fill="#e1f5fe" stroke="#4fc3f7" cx="93" cy="-11" rx="21.84" ry="11"/>
<text text-anchor="middle" x="93" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">AdGroups</text>
</g>
<!-- CampaignAdGroups_1&#45;&#45;AdGroups_5 -->
<g id="edge3" class="edge">
<title>CampaignAdGroups_1&#45;&#45;AdGroups_5</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M138.99,-57.99C128.54,-47.54 112.31,-31.31 102.18,-21.18"/>
</g>
<!-- CampaignAdStructure_2 -->
<g id="node3" class="node">
<title>CampaignAdStructure_2</title>
<polygon fill="#e1f5fe" stroke="#4fc3f7" points="90,-80 0,-80 0,-58 90,-58 90,-80"/>
<text text-anchor="middle" x="45" y="-67.1" font-family="Segoe UI" font-size="8.00" fill="#000000">CampaignAdStructure</text>
</g>
<!-- CampaignAdStructure_2&#45;&#45;Campaigns_3 -->
<g id="edge6" class="edge">
<title>CampaignAdStructure_2&#45;&#45;Campaigns_3</title>
<path fill="none" stroke="#4fc3f7" d="M65.2,-57.99C87.29,-47.04 122.22,-29.73 142.34,-19.76"/>
</g>
<!-- CampaignAdStructure_2&#45;&#45;AdGroups_5 -->
<g id="edge7" class="edge">
<title>CampaignAdStructure_2&#45;&#45;AdGroups_5</title>
<path fill="none" stroke="#4fc3f7" d="M53.58,-57.99C62.43,-47.67 76.12,-31.7 84.81,-21.55"/>
</g>
<!-- ProductAds_6 -->
<g id="node7" class="node">
<title>ProductAds_6</title>
<ellipse fill="#e1f5fe" stroke="#4fc3f7" cx="28" cy="-11" rx="25.41" ry="11"/>
<text text-anchor="middle" x="28" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">ProductAds</text>
</g>
<!-- CampaignAdStructure_2&#45;&#45;ProductAds_6 -->
<g id="edge5" class="edge">
<title>CampaignAdStructure_2&#45;&#45;ProductAds_6</title>
<path fill="none" stroke="#4fc3f7" d="M41.96,-57.99C38.87,-47.8 34.1,-32.09 31.01,-21.93"/>
</g>
</g>
</svg>

        </div>
        
    <br>
    
    </div>
<div class="carousel-item " style="transition: none;">
    <p>Story behind the relationships <small class="text-muted"> (only for those connect >= 2 entities)</small></p><ol class="small"><li>[ProfileCampaigns]: Advertiser creates account profile and initial campaign</li><li>[CampaignAdGroups]: Campaign organizes multiple ad groups for targeted advertising</li><li>[CampaignAdStructure]: Ad groups collect product ads within campaign structure</li><li><b>[AdvertisingHierarchy]: Campaigns, ad groups, and ads form hierarchical structure</b></li></ol>
    
        <div style="overflow: auto; border: 1px solid #cccccc;">
            <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="392pt" height="88pt"
 viewBox="0.00 0.00 392.00 88.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 84)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-84 388,-84 388,4 -4,4"/>
<!-- ProfileCampaigns_0 -->
<g id="node1" class="node">
<title>ProfileCampaigns_0</title>
<polygon fill="#ffffff" stroke="#000000" points="384,-80 312,-80 312,-58 384,-58 384,-80"/>
<text text-anchor="middle" x="348" y="-67.1" font-family="Segoe UI" font-size="8.00" fill="#000000">ProfileCampaigns</text>
</g>
<!-- Campaigns_4 -->
<g id="node5" class="node">
<title>Campaigns_4</title>
<ellipse fill="#e1f5fe" stroke="#4fc3f7" cx="235" cy="-11" rx="25.41" ry="11"/>
<text text-anchor="middle" x="235" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">Campaigns</text>
</g>
<!-- ProfileCampaigns_0&#45;&#45;Campaigns_4 -->
<g id="edge1" class="edge">
<title>ProfileCampaigns_0&#45;&#45;Campaigns_4</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M327.8,-57.99C305.71,-47.04 270.78,-29.73 250.66,-19.76"/>
</g>
<!-- AccountProfiles_5 -->
<g id="node6" class="node">
<title>AccountProfiles_5</title>
<ellipse fill="#ffffff" stroke="#000000" cx="348" cy="-11" rx="35.14" ry="11"/>
<text text-anchor="middle" x="348" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">AccountProfiles</text>
</g>
<!-- ProfileCampaigns_0&#45;&#45;AccountProfiles_5 -->
<g id="edge2" class="edge">
<title>ProfileCampaigns_0&#45;&#45;AccountProfiles_5</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M348,-57.99C348,-47.92 348,-32.47 348,-22.3"/>
</g>
<!-- CampaignAdGroups_1 -->
<g id="node2" class="node">
<title>CampaignAdGroups_1</title>
<polygon fill="#ffffff" stroke="#000000" points="294,-80 212,-80 212,-58 294,-58 294,-80"/>
<text text-anchor="middle" x="253" y="-67.1" font-family="Segoe UI" font-size="8.00" fill="#000000">CampaignAdGroups</text>
</g>
<!-- CampaignAdGroups_1&#45;&#45;Campaigns_4 -->
<g id="edge4" class="edge">
<title>CampaignAdGroups_1&#45;&#45;Campaigns_4</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M249.78,-57.99C246.51,-47.8 241.46,-32.09 238.19,-21.93"/>
</g>
<!-- AdGroups_6 -->
<g id="node7" class="node">
<title>AdGroups_6</title>
<ellipse fill="#e1f5fe" stroke="#4fc3f7" cx="151" cy="-11" rx="21.84" ry="11"/>
<text text-anchor="middle" x="151" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">AdGroups</text>
</g>
<!-- CampaignAdGroups_1&#45;&#45;AdGroups_6 -->
<g id="edge3" class="edge">
<title>CampaignAdGroups_1&#45;&#45;AdGroups_6</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M234.76,-57.99C214.71,-46.98 182.93,-29.53 164.83,-19.59"/>
</g>
<!-- CampaignAdStructure_2 -->
<g id="node3" class="node">
<title>CampaignAdStructure_2</title>
<polygon fill="#ffffff" stroke="#000000" points="90,-80 0,-80 0,-58 90,-58 90,-80"/>
<text text-anchor="middle" x="45" y="-67.1" font-family="Segoe UI" font-size="8.00" fill="#000000">CampaignAdStructure</text>
</g>
<!-- CampaignAdStructure_2&#45;&#45;Campaigns_4 -->
<g id="edge6" class="edge">
<title>CampaignAdStructure_2&#45;&#45;Campaigns_4</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M78.97,-57.99C118.57,-46.32 182.71,-27.41 215.03,-17.89"/>
</g>
<!-- CampaignAdStructure_2&#45;&#45;AdGroups_6 -->
<g id="edge7" class="edge">
<title>CampaignAdStructure_2&#45;&#45;AdGroups_6</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M63.95,-57.99C84.79,-46.98 117.82,-29.53 136.63,-19.59"/>
</g>
<!-- ProductAds_7 -->
<g id="node8" class="node">
<title>ProductAds_7</title>
<ellipse fill="#e1f5fe" stroke="#4fc3f7" cx="66" cy="-11" rx="25.41" ry="11"/>
<text text-anchor="middle" x="66" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">ProductAds</text>
</g>
<!-- CampaignAdStructure_2&#45;&#45;ProductAds_7 -->
<g id="edge5" class="edge">
<title>CampaignAdStructure_2&#45;&#45;ProductAds_7</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M48.75,-57.99C52.58,-47.8 58.47,-32.09 62.28,-21.93"/>
</g>
<!-- AdvertisingHierarchy_3 -->
<g id="node4" class="node">
<title>AdvertisingHierarchy_3</title>
<polygon fill="#e1f5fe" stroke="#4fc3f7" points="193.5,-80 108.5,-80 108.5,-58 193.5,-58 193.5,-80"/>
<text text-anchor="middle" x="151" y="-67.1" font-family="Segoe UI" font-size="8.00" fill="#000000">AdvertisingHierarchy</text>
</g>
<!-- AdvertisingHierarchy_3&#45;&#45;Campaigns_4 -->
<g id="edge8" class="edge">
<title>AdvertisingHierarchy_3&#45;&#45;Campaigns_4</title>
<path fill="none" stroke="#4fc3f7" d="M166.02,-57.99C181.97,-47.35 206.92,-30.72 222.04,-20.64"/>
</g>
<!-- AdvertisingHierarchy_3&#45;&#45;AdGroups_6 -->
<g id="edge9" class="edge">
<title>AdvertisingHierarchy_3&#45;&#45;AdGroups_6</title>
<path fill="none" stroke="#4fc3f7" d="M151,-57.99C151,-47.92 151,-32.47 151,-22.3"/>
</g>
<!-- AdvertisingHierarchy_3&#45;&#45;ProductAds_7 -->
<g id="edge10" class="edge">
<title>AdvertisingHierarchy_3&#45;&#45;ProductAds_7</title>
<path fill="none" stroke="#4fc3f7" d="M135.8,-57.99C119.66,-47.35 94.41,-30.72 79.11,-20.64"/>
</g>
</g>
</svg>

        </div>
        
    <br>
    
    </div>
<div class="carousel-item " style="transition: none;">
    <p>Story behind the relationships <small class="text-muted"> (only for those connect >= 2 entities)</small></p><ol class="small"><li>[ProfileCampaigns]: Advertiser creates account profile and initial campaign</li><li>[CampaignAdGroups]: Campaign organizes multiple ad groups for targeted advertising</li><li>[CampaignAdStructure]: Ad groups collect product ads within campaign structure</li><li>[AdvertisingHierarchy]: Campaigns, ad groups, and ads form hierarchical structure</li><li><b>[CampaignAdGroupKeywords]: Keywords assigned to ad groups for targeted advertising</b></li></ol>
    
        <div style="overflow: auto; border: 1px solid #cccccc;">
            <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="526pt" height="88pt"
 viewBox="0.00 0.00 525.50 88.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 84)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-84 521.5,-84 521.5,4 -4,4"/>
<!-- ProfileCampaigns_0 -->
<g id="node1" class="node">
<title>ProfileCampaigns_0</title>
<polygon fill="#ffffff" stroke="#000000" points="517.5,-80 445.5,-80 445.5,-58 517.5,-58 517.5,-80"/>
<text text-anchor="middle" x="481.5" y="-67.1" font-family="Segoe UI" font-size="8.00" fill="#000000">ProfileCampaigns</text>
</g>
<!-- Campaigns_5 -->
<g id="node6" class="node">
<title>Campaigns_5</title>
<ellipse fill="#e1f5fe" stroke="#4fc3f7" cx="252.5" cy="-11" rx="25.41" ry="11"/>
<text text-anchor="middle" x="252.5" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">Campaigns</text>
</g>
<!-- ProfileCampaigns_0&#45;&#45;Campaigns_5 -->
<g id="edge1" class="edge">
<title>ProfileCampaigns_0&#45;&#45;Campaigns_5</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M445.47,-59.19C397.1,-47.36 312.74,-26.73 273.58,-17.16"/>
</g>
<!-- AccountProfiles_6 -->
<g id="node7" class="node">
<title>AccountProfiles_6</title>
<ellipse fill="#ffffff" stroke="#000000" cx="481.5" cy="-11" rx="35.14" ry="11"/>
<text text-anchor="middle" x="481.5" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">AccountProfiles</text>
</g>
<!-- ProfileCampaigns_0&#45;&#45;AccountProfiles_6 -->
<g id="edge2" class="edge">
<title>ProfileCampaigns_0&#45;&#45;AccountProfiles_6</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M481.5,-57.99C481.5,-47.92 481.5,-32.47 481.5,-22.3"/>
</g>
<!-- CampaignAdGroups_1 -->
<g id="node2" class="node">
<title>CampaignAdGroups_1</title>
<polygon fill="#ffffff" stroke="#000000" points="293.5,-80 211.5,-80 211.5,-58 293.5,-58 293.5,-80"/>
<text text-anchor="middle" x="252.5" y="-67.1" font-family="Segoe UI" font-size="8.00" fill="#000000">CampaignAdGroups</text>
</g>
<!-- CampaignAdGroups_1&#45;&#45;Campaigns_5 -->
<g id="edge4" class="edge">
<title>CampaignAdGroups_1&#45;&#45;Campaigns_5</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M252.5,-57.99C252.5,-47.92 252.5,-32.47 252.5,-22.3"/>
</g>
<!-- AdGroups_7 -->
<g id="node8" class="node">
<title>AdGroups_7</title>
<ellipse fill="#e1f5fe" stroke="#4fc3f7" cx="167.5" cy="-11" rx="21.84" ry="11"/>
<text text-anchor="middle" x="167.5" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">AdGroups</text>
</g>
<!-- CampaignAdGroups_1&#45;&#45;AdGroups_7 -->
<g id="edge3" class="edge">
<title>CampaignAdGroups_1&#45;&#45;AdGroups_7</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M237.3,-57.99C220.88,-47.17 195.01,-30.13 179.81,-20.11"/>
</g>
<!-- CampaignAdStructure_2 -->
<g id="node3" class="node">
<title>CampaignAdStructure_2</title>
<polygon fill="#ffffff" stroke="#000000" points="193.5,-80 103.5,-80 103.5,-58 193.5,-58 193.5,-80"/>
<text text-anchor="middle" x="148.5" y="-67.1" font-family="Segoe UI" font-size="8.00" fill="#000000">CampaignAdStructure</text>
</g>
<!-- CampaignAdStructure_2&#45;&#45;Campaigns_5 -->
<g id="edge6" class="edge">
<title>CampaignAdStructure_2&#45;&#45;Campaigns_5</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M167.09,-57.99C187.31,-47.1 219.21,-29.93 237.76,-19.94"/>
</g>
<!-- CampaignAdStructure_2&#45;&#45;AdGroups_7 -->
<g id="edge7" class="edge">
<title>CampaignAdStructure_2&#45;&#45;AdGroups_7</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M151.9,-57.99C155.36,-47.8 160.68,-32.09 164.13,-21.93"/>
</g>
<!-- ProductAds_8 -->
<g id="node9" class="node">
<title>ProductAds_8</title>
<ellipse fill="#ffffff" stroke="#000000" cx="82.5" cy="-11" rx="25.41" ry="11"/>
<text text-anchor="middle" x="82.5" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">ProductAds</text>
</g>
<!-- CampaignAdStructure_2&#45;&#45;ProductAds_8 -->
<g id="edge5" class="edge">
<title>CampaignAdStructure_2&#45;&#45;ProductAds_8</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M136.7,-57.99C124.39,-47.54 105.26,-31.31 93.32,-21.18"/>
</g>
<!-- AdvertisingHierarchy_3 -->
<g id="node4" class="node">
<title>AdvertisingHierarchy_3</title>
<polygon fill="#ffffff" stroke="#000000" points="85,-80 0,-80 0,-58 85,-58 85,-80"/>
<text text-anchor="middle" x="42.5" y="-67.1" font-family="Segoe UI" font-size="8.00" fill="#000000">AdvertisingHierarchy</text>
</g>
<!-- AdvertisingHierarchy_3&#45;&#45;Campaigns_5 -->
<g id="edge11" class="edge">
<title>AdvertisingHierarchy_3&#45;&#45;Campaigns_5</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M80.04,-57.99C124.4,-46.16 196.62,-26.9 231.85,-17.51"/>
</g>
<!-- AdvertisingHierarchy_3&#45;&#45;AdGroups_7 -->
<g id="edge12" class="edge">
<title>AdvertisingHierarchy_3&#45;&#45;AdGroups_7</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M64.85,-57.99C89.99,-46.73 130.16,-28.73 152.05,-18.92"/>
</g>
<!-- AdvertisingHierarchy_3&#45;&#45;ProductAds_8 -->
<g id="edge13" class="edge">
<title>AdvertisingHierarchy_3&#45;&#45;ProductAds_8</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M49.65,-57.99C56.93,-47.8 68.15,-32.09 75.41,-21.93"/>
</g>
<!-- CampaignAdGroupKeywords_4 -->
<g id="node5" class="node">
<title>CampaignAdGroupKeywords_4</title>
<polygon fill="#e1f5fe" stroke="#4fc3f7" points="427.5,-80 311.5,-80 311.5,-58 427.5,-58 427.5,-80"/>
<text text-anchor="middle" x="369.5" y="-67.1" font-family="Segoe UI" font-size="8.00" fill="#000000">CampaignAdGroupKeywords</text>
</g>
<!-- CampaignAdGroupKeywords_4&#45;&#45;Campaigns_5 -->
<g id="edge9" class="edge">
<title>CampaignAdGroupKeywords_4&#45;&#45;Campaigns_5</title>
<path fill="none" stroke="#4fc3f7" d="M348.58,-57.99C325.58,-46.98 289.13,-29.53 268.36,-19.59"/>
</g>
<!-- CampaignAdGroupKeywords_4&#45;&#45;AdGroups_7 -->
<g id="edge10" class="edge">
<title>CampaignAdGroupKeywords_4&#45;&#45;AdGroups_7</title>
<path fill="none" stroke="#4fc3f7" d="M333.39,-57.99C290.15,-46 219.4,-26.39 186.03,-17.14"/>
</g>
<!-- Keywords_9 -->
<g id="node10" class="node">
<title>Keywords_9</title>
<ellipse fill="#e1f5fe" stroke="#4fc3f7" cx="369.5" cy="-11" rx="21.84" ry="11"/>
<text text-anchor="middle" x="369.5" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">Keywords</text>
</g>
<!-- CampaignAdGroupKeywords_4&#45;&#45;Keywords_9 -->
<g id="edge8" class="edge">
<title>CampaignAdGroupKeywords_4&#45;&#45;Keywords_9</title>
<path fill="none" stroke="#4fc3f7" d="M369.5,-57.99C369.5,-47.92 369.5,-32.47 369.5,-22.3"/>
</g>
</g>
</svg>

        </div>
        
    <br>
    
    </div>
<div class="carousel-item " style="transition: none;">
    <p>Story behind the relationships <small class="text-muted"> (only for those connect >= 2 entities)</small></p><ol class="small"><li>[ProfileCampaigns]: Advertiser creates account profile and initial campaign</li><li>[CampaignAdGroups]: Campaign organizes multiple ad groups for targeted advertising</li><li>[CampaignAdStructure]: Ad groups collect product ads within campaign structure</li><li>[AdvertisingHierarchy]: Campaigns, ad groups, and ads form hierarchical structure</li><li>[CampaignAdGroupKeywords]: Keywords assigned to ad groups for targeted advertising</li><li><b>[KeywordTargetingCampaignPerformance]: Platform tracks keyword performance across campaigns daily</b></li></ol>
    
        <div style="overflow: auto; border: 1px solid #cccccc;">
            <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="710pt" height="88pt"
 viewBox="0.00 0.00 710.00 88.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 84)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-84 706,-84 706,4 -4,4"/>
<!-- ProfileCampaigns_0 -->
<g id="node1" class="node">
<title>ProfileCampaigns_0</title>
<polygon fill="#ffffff" stroke="#000000" points="702,-80 630,-80 630,-58 702,-58 702,-80"/>
<text text-anchor="middle" x="666" y="-67.1" font-family="Segoe UI" font-size="8.00" fill="#000000">ProfileCampaigns</text>
</g>
<!-- Campaigns_6 -->
<g id="node7" class="node">
<title>Campaigns_6</title>
<ellipse fill="#e1f5fe" stroke="#4fc3f7" cx="344" cy="-11" rx="25.41" ry="11"/>
<text text-anchor="middle" x="344" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">Campaigns</text>
</g>
<!-- ProfileCampaigns_0&#45;&#45;Campaigns_6 -->
<g id="edge1" class="edge">
<title>ProfileCampaigns_0&#45;&#45;Campaigns_6</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M629.69,-59.75C626.75,-59.14 623.83,-58.55 621,-58 527.44,-39.85 415.23,-22.59 367.42,-15.45"/>
</g>
<!-- AccountProfiles_7 -->
<g id="node8" class="node">
<title>AccountProfiles_7</title>
<ellipse fill="#ffffff" stroke="#000000" cx="666" cy="-11" rx="35.14" ry="11"/>
<text text-anchor="middle" x="666" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">AccountProfiles</text>
</g>
<!-- ProfileCampaigns_0&#45;&#45;AccountProfiles_7 -->
<g id="edge2" class="edge">
<title>ProfileCampaigns_0&#45;&#45;AccountProfiles_7</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M666,-57.99C666,-47.92 666,-32.47 666,-22.3"/>
</g>
<!-- CampaignAdGroups_1 -->
<g id="node2" class="node">
<title>CampaignAdGroups_1</title>
<polygon fill="#ffffff" stroke="#000000" points="294,-80 212,-80 212,-58 294,-58 294,-80"/>
<text text-anchor="middle" x="253" y="-67.1" font-family="Segoe UI" font-size="8.00" fill="#000000">CampaignAdGroups</text>
</g>
<!-- CampaignAdGroups_1&#45;&#45;Campaigns_6 -->
<g id="edge4" class="edge">
<title>CampaignAdGroups_1&#45;&#45;Campaigns_6</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M269.27,-57.99C286.65,-47.29 313.9,-30.52 330.25,-20.46"/>
</g>
<!-- AdGroups_8 -->
<g id="node9" class="node">
<title>AdGroups_8</title>
<ellipse fill="#e1f5fe" stroke="#4fc3f7" cx="253" cy="-11" rx="21.84" ry="11"/>
<text text-anchor="middle" x="253" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">AdGroups</text>
</g>
<!-- CampaignAdGroups_1&#45;&#45;AdGroups_8 -->
<g id="edge3" class="edge">
<title>CampaignAdGroups_1&#45;&#45;AdGroups_8</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M253,-57.99C253,-47.92 253,-32.47 253,-22.3"/>
</g>
<!-- CampaignAdStructure_2 -->
<g id="node3" class="node">
<title>CampaignAdStructure_2</title>
<polygon fill="#ffffff" stroke="#000000" points="90,-80 0,-80 0,-58 90,-58 90,-80"/>
<text text-anchor="middle" x="45" y="-67.1" font-family="Segoe UI" font-size="8.00" fill="#000000">CampaignAdStructure</text>
</g>
<!-- CampaignAdStructure_2&#45;&#45;Campaigns_6 -->
<g id="edge6" class="edge">
<title>CampaignAdStructure_2&#45;&#45;Campaigns_6</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M90.09,-59.56C155.02,-47.39 272.43,-25.4 321.5,-16.21"/>
</g>
<!-- CampaignAdStructure_2&#45;&#45;AdGroups_8 -->
<g id="edge7" class="edge">
<title>CampaignAdStructure_2&#45;&#45;AdGroups_8</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M82.19,-57.99C126.94,-45.94 200.32,-26.18 234.46,-16.99"/>
</g>
<!-- ProductAds_9 -->
<g id="node10" class="node">
<title>ProductAds_9</title>
<ellipse fill="#ffffff" stroke="#000000" cx="98" cy="-11" rx="25.41" ry="11"/>
<text text-anchor="middle" x="98" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">ProductAds</text>
</g>
<!-- CampaignAdStructure_2&#45;&#45;ProductAds_9 -->
<g id="edge5" class="edge">
<title>CampaignAdStructure_2&#45;&#45;ProductAds_9</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M54.48,-57.99C64.24,-47.67 79.36,-31.7 88.96,-21.55"/>
</g>
<!-- AdvertisingHierarchy_3 -->
<g id="node4" class="node">
<title>AdvertisingHierarchy_3</title>
<polygon fill="#ffffff" stroke="#000000" points="193.5,-80 108.5,-80 108.5,-58 193.5,-58 193.5,-80"/>
<text text-anchor="middle" x="151" y="-67.1" font-family="Segoe UI" font-size="8.00" fill="#000000">AdvertisingHierarchy</text>
</g>
<!-- AdvertisingHierarchy_3&#45;&#45;Campaigns_6 -->
<g id="edge11" class="edge">
<title>AdvertisingHierarchy_3&#45;&#45;Campaigns_6</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M185.5,-57.99C225.84,-46.29 291.23,-27.31 323.98,-17.81"/>
</g>
<!-- AdvertisingHierarchy_3&#45;&#45;AdGroups_8 -->
<g id="edge12" class="edge">
<title>AdvertisingHierarchy_3&#45;&#45;AdGroups_8</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M169.24,-57.99C189.29,-46.98 221.07,-29.53 239.17,-19.59"/>
</g>
<!-- AdvertisingHierarchy_3&#45;&#45;ProductAds_9 -->
<g id="edge13" class="edge">
<title>AdvertisingHierarchy_3&#45;&#45;ProductAds_9</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M141.52,-57.99C131.76,-47.67 116.64,-31.7 107.04,-21.55"/>
</g>
<!-- CampaignAdGroupKeywords_4 -->
<g id="node5" class="node">
<title>CampaignAdGroupKeywords_4</title>
<polygon fill="#ffffff" stroke="#000000" points="428,-80 312,-80 312,-58 428,-58 428,-80"/>
<text text-anchor="middle" x="370" y="-67.1" font-family="Segoe UI" font-size="8.00" fill="#000000">CampaignAdGroupKeywords</text>
</g>
<!-- CampaignAdGroupKeywords_4&#45;&#45;Campaigns_6 -->
<g id="edge9" class="edge">
<title>CampaignAdGroupKeywords_4&#45;&#45;Campaigns_6</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M365.35,-57.99C360.62,-47.8 353.33,-32.09 348.61,-21.93"/>
</g>
<!-- CampaignAdGroupKeywords_4&#45;&#45;AdGroups_8 -->
<g id="edge10" class="edge">
<title>CampaignAdGroupKeywords_4&#45;&#45;AdGroups_8</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M349.08,-57.99C325.81,-46.85 288.79,-29.13 268.16,-19.25"/>
</g>
<!-- Keywords_10 -->
<g id="node11" class="node">
<title>Keywords_10</title>
<ellipse fill="#e1f5fe" stroke="#4fc3f7" cx="469" cy="-11" rx="21.84" ry="11"/>
<text text-anchor="middle" x="469" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">Keywords</text>
</g>
<!-- CampaignAdGroupKeywords_4&#45;&#45;Keywords_10 -->
<g id="edge8" class="edge">
<title>CampaignAdGroupKeywords_4&#45;&#45;Keywords_10</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M387.7,-57.99C407.05,-47.04 437.66,-29.73 455.28,-19.76"/>
</g>
<!-- KeywordTargetingCampaignPerformance_5 -->
<g id="node6" class="node">
<title>KeywordTargetingCampaignPerformance_5</title>
<polygon fill="#e1f5fe" stroke="#4fc3f7" points="612,-80 446,-80 446,-58 612,-58 612,-80"/>
<text text-anchor="middle" x="529" y="-67.1" font-family="Segoe UI" font-size="8.00" fill="#000000">KeywordTargetingCampaignPerformance</text>
</g>
<!-- KeywordTargetingCampaignPerformance_5&#45;&#45;Campaigns_6 -->
<g id="edge14" class="edge">
<title>KeywordTargetingCampaignPerformance_5&#45;&#45;Campaigns_6</title>
<path fill="none" stroke="#4fc3f7" d="M495.93,-57.99C457.47,-46.35 395.26,-27.52 363.7,-17.96"/>
</g>
<!-- KeywordTargetingCampaignPerformance_5&#45;&#45;AdGroups_8 -->
<g id="edge15" class="edge">
<title>KeywordTargetingCampaignPerformance_5&#45;&#45;AdGroups_8</title>
<path fill="none" stroke="#4fc3f7" d="M479.66,-57.99C418.1,-45.5 315.73,-24.73 272.85,-16.03"/>
</g>
<!-- KeywordTargetingCampaignPerformance_5&#45;&#45;Keywords_10 -->
<g id="edge16" class="edge">
<title>KeywordTargetingCampaignPerformance_5&#45;&#45;Keywords_10</title>
<path fill="none" stroke="#4fc3f7" d="M518.27,-57.99C507.08,-47.54 489.69,-31.31 478.84,-21.18"/>
</g>
</g>
</svg>

        </div>
        
    <br>
    
    </div>
<div class="carousel-item " style="transition: none;">
    <p>Story behind the relationships <small class="text-muted"> (only for those connect >= 2 entities)</small></p><ol class="small"><li>[ProfileCampaigns]: Advertiser creates account profile and initial campaign</li><li>[CampaignAdGroups]: Campaign organizes multiple ad groups for targeted advertising</li><li>[CampaignAdStructure]: Ad groups collect product ads within campaign structure</li><li>[AdvertisingHierarchy]: Campaigns, ad groups, and ads form hierarchical structure</li><li>[CampaignAdGroupKeywords]: Keywords assigned to ad groups for targeted advertising</li><li>[KeywordTargetingCampaignPerformance]: Platform tracks keyword performance across campaigns daily</li><li><b>[SearchTermKeywordCampaignPerformance]: Platform analyzes search term relevance to keywords daily</b></li></ol>
    
        <div style="overflow: auto; border: 1px solid #cccccc;">
            <?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.43.0 (0)
 -->
<!-- Title: %3 Pages: 1 -->
<svg width="904pt" height="88pt"
 viewBox="0.00 0.00 904.00 88.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 84)">
<title>%3</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-84 900,-84 900,4 -4,4"/>
<!-- ProfileCampaigns_0 -->
<g id="node1" class="node">
<title>ProfileCampaigns_0</title>
<polygon fill="#ffffff" stroke="#000000" points="72,-80 0,-80 0,-58 72,-58 72,-80"/>
<text text-anchor="middle" x="36" y="-67.1" font-family="Segoe UI" font-size="8.00" fill="#000000">ProfileCampaigns</text>
</g>
<!-- Campaigns_7 -->
<g id="node8" class="node">
<title>Campaigns_7</title>
<ellipse fill="#e1f5fe" stroke="#4fc3f7" cx="343" cy="-11" rx="25.41" ry="11"/>
<text text-anchor="middle" x="343" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">Campaigns</text>
</g>
<!-- ProfileCampaigns_0&#45;&#45;Campaigns_7 -->
<g id="edge1" class="edge">
<title>ProfileCampaigns_0&#45;&#45;Campaigns_7</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M72.32,-59.78C75.25,-59.16 78.17,-58.56 81,-58 169.1,-40.49 274.57,-23.03 320.16,-15.66"/>
</g>
<!-- AccountProfiles_8 -->
<g id="node9" class="node">
<title>AccountProfiles_8</title>
<ellipse fill="#ffffff" stroke="#000000" cx="36" cy="-11" rx="35.14" ry="11"/>
<text text-anchor="middle" x="36" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">AccountProfiles</text>
</g>
<!-- ProfileCampaigns_0&#45;&#45;AccountProfiles_8 -->
<g id="edge2" class="edge">
<title>ProfileCampaigns_0&#45;&#45;AccountProfiles_8</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M36,-57.99C36,-47.92 36,-32.47 36,-22.3"/>
</g>
<!-- CampaignAdGroups_1 -->
<g id="node2" class="node">
<title>CampaignAdGroups_1</title>
<polygon fill="#ffffff" stroke="#000000" points="384,-80 302,-80 302,-58 384,-58 384,-80"/>
<text text-anchor="middle" x="343" y="-67.1" font-family="Segoe UI" font-size="8.00" fill="#000000">CampaignAdGroups</text>
</g>
<!-- CampaignAdGroups_1&#45;&#45;Campaigns_7 -->
<g id="edge4" class="edge">
<title>CampaignAdGroups_1&#45;&#45;Campaigns_7</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M343,-57.99C343,-47.92 343,-32.47 343,-22.3"/>
</g>
<!-- AdGroups_9 -->
<g id="node10" class="node">
<title>AdGroups_9</title>
<ellipse fill="#e1f5fe" stroke="#4fc3f7" cx="434" cy="-11" rx="21.84" ry="11"/>
<text text-anchor="middle" x="434" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">AdGroups</text>
</g>
<!-- CampaignAdGroups_1&#45;&#45;AdGroups_9 -->
<g id="edge3" class="edge">
<title>CampaignAdGroups_1&#45;&#45;AdGroups_9</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M359.27,-57.99C376.96,-47.1 404.87,-29.93 421.11,-19.94"/>
</g>
<!-- CampaignAdStructure_2 -->
<g id="node3" class="node">
<title>CampaignAdStructure_2</title>
<polygon fill="#ffffff" stroke="#000000" points="284,-80 194,-80 194,-58 284,-58 284,-80"/>
<text text-anchor="middle" x="239" y="-67.1" font-family="Segoe UI" font-size="8.00" fill="#000000">CampaignAdStructure</text>
</g>
<!-- CampaignAdStructure_2&#45;&#45;Campaigns_7 -->
<g id="edge6" class="edge">
<title>CampaignAdStructure_2&#45;&#45;Campaigns_7</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M257.59,-57.99C277.81,-47.1 309.71,-29.93 328.26,-19.94"/>
</g>
<!-- CampaignAdStructure_2&#45;&#45;AdGroups_9 -->
<g id="edge7" class="edge">
<title>CampaignAdStructure_2&#45;&#45;AdGroups_9</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M273.86,-57.99C315.49,-46.03 383.54,-26.49 415.86,-17.21"/>
</g>
<!-- ProductAds_10 -->
<g id="node11" class="node">
<title>ProductAds_10</title>
<ellipse fill="#ffffff" stroke="#000000" cx="186" cy="-11" rx="25.41" ry="11"/>
<text text-anchor="middle" x="186" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">ProductAds</text>
</g>
<!-- CampaignAdStructure_2&#45;&#45;ProductAds_10 -->
<g id="edge5" class="edge">
<title>CampaignAdStructure_2&#45;&#45;ProductAds_10</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M229.52,-57.99C219.76,-47.67 204.64,-31.7 195.04,-21.55"/>
</g>
<!-- AdvertisingHierarchy_3 -->
<g id="node4" class="node">
<title>AdvertisingHierarchy_3</title>
<polygon fill="#ffffff" stroke="#000000" points="175.5,-80 90.5,-80 90.5,-58 175.5,-58 175.5,-80"/>
<text text-anchor="middle" x="133" y="-67.1" font-family="Segoe UI" font-size="8.00" fill="#000000">AdvertisingHierarchy</text>
</g>
<!-- AdvertisingHierarchy_3&#45;&#45;Campaigns_7 -->
<g id="edge11" class="edge">
<title>AdvertisingHierarchy_3&#45;&#45;Campaigns_7</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M170.54,-57.99C214.9,-46.16 287.12,-26.9 322.35,-17.51"/>
</g>
<!-- AdvertisingHierarchy_3&#45;&#45;AdGroups_9 -->
<g id="edge12" class="edge">
<title>AdvertisingHierarchy_3&#45;&#45;AdGroups_9</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M175.56,-59.79C178.76,-59.18 181.93,-58.58 185,-58 270.1,-41.96 371.68,-23.36 413.98,-15.65"/>
</g>
<!-- AdvertisingHierarchy_3&#45;&#45;ProductAds_10 -->
<g id="edge13" class="edge">
<title>AdvertisingHierarchy_3&#45;&#45;ProductAds_10</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M142.48,-57.99C152.24,-47.67 167.36,-31.7 176.96,-21.55"/>
</g>
<!-- CampaignAdGroupKeywords_4 -->
<g id="node5" class="node">
<title>CampaignAdGroupKeywords_4</title>
<polygon fill="#ffffff" stroke="#000000" points="518,-80 402,-80 402,-58 518,-58 518,-80"/>
<text text-anchor="middle" x="460" y="-67.1" font-family="Segoe UI" font-size="8.00" fill="#000000">CampaignAdGroupKeywords</text>
</g>
<!-- CampaignAdGroupKeywords_4&#45;&#45;Campaigns_7 -->
<g id="edge9" class="edge">
<title>CampaignAdGroupKeywords_4&#45;&#45;Campaigns_7</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M439.08,-57.99C416.08,-46.98 379.63,-29.53 358.86,-19.59"/>
</g>
<!-- CampaignAdGroupKeywords_4&#45;&#45;AdGroups_9 -->
<g id="edge10" class="edge">
<title>CampaignAdGroupKeywords_4&#45;&#45;AdGroups_9</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M455.35,-57.99C450.62,-47.8 443.33,-32.09 438.61,-21.93"/>
</g>
<!-- Keywords_11 -->
<g id="node12" class="node">
<title>Keywords_11</title>
<ellipse fill="#e1f5fe" stroke="#4fc3f7" cx="619" cy="-11" rx="21.84" ry="11"/>
<text text-anchor="middle" x="619" y="-9.1" font-family="Segoe UI" font-size="8.00" fill="#000000">Keywords</text>
</g>
<!-- CampaignAdGroupKeywords_4&#45;&#45;Keywords_11 -->
<g id="edge8" class="edge">
<title>CampaignAdGroupKeywords_4&#45;&#45;Keywords_11</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M488.43,-57.99C521.3,-46.41 574.37,-27.72 601.62,-18.12"/>
</g>
<!-- KeywordTargetingCampaignPerformance_5 -->
<g id="node6" class="node">
<title>KeywordTargetingCampaignPerformance_5</title>
<polygon fill="#ffffff" stroke="#000000" points="702,-80 536,-80 536,-58 702,-58 702,-80"/>
<text text-anchor="middle" x="619" y="-67.1" font-family="Segoe UI" font-size="8.00" fill="#000000">KeywordTargetingCampaignPerformance</text>
</g>
<!-- KeywordTargetingCampaignPerformance_5&#45;&#45;Campaigns_7 -->
<g id="edge17" class="edge">
<title>KeywordTargetingCampaignPerformance_5&#45;&#45;Campaigns_7</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M569.66,-57.99C509.19,-45.72 409.33,-25.46 365.17,-16.5"/>
</g>
<!-- KeywordTargetingCampaignPerformance_5&#45;&#45;AdGroups_9 -->
<g id="edge18" class="edge">
<title>KeywordTargetingCampaignPerformance_5&#45;&#45;AdGroups_9</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M585.93,-57.99C546.85,-46.16 483.23,-26.9 452.19,-17.51"/>
</g>
<!-- KeywordTargetingCampaignPerformance_5&#45;&#45;Keywords_11 -->
<g id="edge19" class="edge">
<title>KeywordTargetingCampaignPerformance_5&#45;&#45;Keywords_11</title>
<path fill="none" stroke="#000000" stroke-width="0.6" d="M619,-57.99C619,-47.92 619,-32.47 619,-22.3"/>
</g>
<!-- SearchTermKeywordCampaignPerformance_6 -->
<g id="node7" class="node">
<title>SearchTermKeywordCampaignPerformance_6</title>
<polygon fill="#e1f5fe" stroke="#4fc3f7" points="896,-80 720,-80 720,-58 896,-58 896,-80"/>
<text text-anchor="middle" x="808" y="-67.1" font-family="Segoe UI" font-size="8.00" fill="#000000">SearchTermKeywordCampaignPerformance</text>
</g>
<!-- SearchTermKeywordCampaignPerformance_6&#45;&#45;Campaigns_7 -->
<g id="edge14" class="edge">
<title>SearchTermKeywordCampaignPerformance_6&#45;&#45;Campaigns_7</title>
<path fill="none" stroke="#4fc3f7" d="M719.99,-58.55C619.75,-47.68 462.22,-30.29 403,-22 390.55,-20.26 376.71,-17.97 365.47,-16.03"/>
</g>
<!-- SearchTermKeywordCampaignPerformance_6&#45;&#45;AdGroups_9 -->
<g id="edge15" class="edge">
<title>SearchTermKeywordCampaignPerformance_6&#45;&#45;AdGroups_9</title>
<path fill="none" stroke="#4fc3f7" d="M741.14,-57.99C654.57,-45.03 508.44,-23.15 454.67,-15.09"/>
</g>
<!-- SearchTermKeywordCampaignPerformance_6&#45;&#45;Keywords_11 -->
<g id="edge16" class="edge">
<title>SearchTermKeywordCampaignPerformance_6&#45;&#45;Keywords_11</title>
<path fill="none" stroke="#4fc3f7" d="M774.21,-57.99C734.08,-46.1 668.6,-26.7 637.08,-17.36"/>
</g>
</g>
</svg>

        </div>
        
    <br>
    
    </div>
        </div>
    </div>
</div>
<p class="text-center mt-4">cocoon_er.yml <small class="text-muted">(Document the entity relationships)</small></p>
<div class="code_container mb-4 mx-4">
    <pre><code class="language-yaml">groups: []
entities:
- entity_name: Campaigns
  entity_description: Represents advertising campaigns with their current attributes
    and settings.
  table_name: snapshot_campaign_history_data
  primary_key: campaign_id
- entity_name: AccountProfiles
  entity_description: Represents account profiles with detailed information about
    different types of advertising accounts.
  table_name: stg_profile_data
  primary_key: id
- entity_name: AdGroups
  entity_description: Represents ad groups within campaigns, containing current settings
    and status information.
  table_name: snapshot_ad_group_history_data
  primary_key: ad_group_id
- entity_name: ProductAds
  entity_description: Represents individual product advertisements with their current
    status and associated information.
  table_name: snapshot_product_ad_history_data
  primary_key: ad_id
- entity_name: Keywords
  entity_description: Represents keywords used in advertising campaigns with their
    current attributes and bidding information.
  table_name: snapshot_keyword_history_data
  primary_key: keyword_id
relations:
- relation_name: ProfileCampaigns
  relation_description: Campaigns are created and managed within AccountProfiles,
    which represent advertiser accounts on the advertising platform.
  table_name: snapshot_campaign_history_data
  entities:
  - Campaigns
  - AccountProfiles
- relation_name: CampaignAdGroups
  relation_description: AdGroups belong to Campaigns, with each AdGroup associated
    with a specific Campaign through the campaign_id.
  table_name: snapshot_ad_group_history_data
  entities:
  - AdGroups
  - Campaigns
- relation_name: CampaignAdStructure
  relation_description: ProductAds are grouped into AdGroups, which are organized
    within Campaigns for targeted advertising management.
  table_name: snapshot_product_ad_history_data
  entities:
  - ProductAds
  - Campaigns
  - AdGroups
- relation_name: CampaignAdGroupKeywords
  relation_description: Keywords are assigned to AdGroups within Campaigns, tracking
    their current attributes and performance status for advertising purposes.
  table_name: snapshot_keyword_history_data
  entities:
  - Keywords
  - Campaigns
  - AdGroups
- relation_name: AdvertisingHierarchy
  relation_description: Campaigns contain multiple AdGroups, which in turn encompass
    various ProductAds, forming a hierarchical structure for advertising management.
  table_name: stg_advertised_product_report_data
  entities:
  - Campaigns
  - AdGroups
  - ProductAds
- relation_description: This table stores daily performance data and configuration
    details for individual advertising Campaigns.
  table_name: stg_campaign_level_report_data
  entities:
  - Campaigns
- relation_name: SearchTermKeywordCampaignPerformance
  relation_description: Tracks daily performance metrics for specific search terms
    in relation to targeted keywords within ad groups and campaigns. Includes detailed
    data on search term relevance, keyword matching, and campaign budget allocation
    for search advertising optimization.
  table_name: stg_search_term_ad_keyword_report_data
  entities:
  - Campaigns
  - AdGroups
  - Keywords
- relation_name: KeywordTargetingCampaignPerformance
  relation_description: Monitors daily performance metrics for targeted keywords across
    ad groups and campaigns. Provides comprehensive data on keyword bidding, match
    types, and campaign budget utilization for optimizing keyword-based advertising
    strategies.
  table_name: stg_targeting_keyword_report_data
  entities:
  - Campaigns
  - AdGroups
  - Keywords
- relation_description: This table stores detailed portfolio information for various
    AccountProfiles, including budget, operational status, and currency details.
  table_name: snapshot_portfolio_history_data
  entities:
  - AccountProfiles
- relation_description: This table tracks daily performance metrics for AdGroups,
    including clicks, cost, impressions, and bidding strategy over time.
  table_name: stg_ad_group_level_report_data
  entities:
  - AdGroups
story:
- name: ProfileCampaigns
  description: Advertiser creates account profile and initial campaign
  type: relation
- name: CampaignAdGroups
  description: Campaign organizes multiple ad groups for targeted advertising
  type: relation
- name: CampaignAdStructure
  description: Ad groups collect product ads within campaign structure
  type: relation
- name: AdvertisingHierarchy
  description: Campaigns, ad groups, and ads form hierarchical structure
  type: relation
- name: CampaignAdGroupKeywords
  description: Keywords assigned to ad groups for targeted advertising
  type: relation
- name: KeywordTargetingCampaignPerformance
  description: Platform tracks keyword performance across campaigns daily
  type: relation
- name: SearchTermKeywordCampaignPerformance
  description: Platform analyzes search term relevance to keywords daily
  type: relation
</code></pre>
</div>
        </div>
        
                </div>
            </div>
        </div>
        
                        </div>
                    </div>
                </div>

            </div>
            <div class="col-md-3">
                <div class="list-group" id="myTab" role="tablist">
                    
        <a class="list-group-item list-group-item-action active" data-toggle="list" href="#cocoon_steps_source">
            <div>
                <h6 class="mb-0">1. Source</h6>
                <small>Initial tables from data warehouses</small>
            </div>
        </a>
        
        <a class="list-group-item list-group-item-action " data-toggle="list" href="#cocoon_steps_stage">
            <div>
                <h6 class="mb-0">2. Stage</h6>
                <small>Clean and document the tables</small>
            </div>
        </a>
        
        <a class="list-group-item list-group-item-action " data-toggle="list" href="#cocoon_steps_snapshot">
            <div>
                <h6 class="mb-0">3. SCD Model</h6>
                <small>Snapshot from the change events</small>
            </div>
        </a>
        
        <a class="list-group-item list-group-item-action " data-toggle="list" href="#cocoon_steps_join">
            <div>
                <h6 class="mb-0">4. Integration</h6>
                <small>Join graph from PK/FK</small>
            </div>
        </a>
        
        <a class="list-group-item list-group-item-action " data-toggle="list" href="#cocoon_steps_knowledge">
            <div>
                <h6 class="mb-0">5. Process</h6>
                <small>Process behind the tables</small>
            </div>
        </a>
        
                </div>
            </div>
        </div>
    </div>
</body>

</html>