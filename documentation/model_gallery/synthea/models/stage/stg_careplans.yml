version: 2
models:
- name: stg_careplans
  description: The table is about care plans for patients. It shows the start and
    end dates of each plan. It links patients to encounters and specific care plans.
    Each plan has a code and description. Some plans have reason codes and descriptions.
    The table connects patients, encounters, and care plans with their associated
    details and reasons.
  columns:
  - name: care_plan_description
    description: Brief description of the care plan
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: reason_description
    description: Brief description of the reason for care
    cocoon_meta:
      missing_reason: Unknown
      data_type:
        current_data_type: VARCHAR
  - name: care_plan_code
    description: Numeric code for the care plan type
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: care_plan_id
    description: Unique identifier for each care plan entry
    tests:
    - not_null
    - unique
    cocoon_meta:
      unique_reason: This column represents a unique identifier for each care plan
        entry. For this table, each row represents a specific care plan. The care_plan_id
        is likely to be unique across rows as it's designed to uniquely identify each
        care plan.
      data_type:
        current_data_type: UUID
  - name: encounter_id
    description: Unique identifier for the medical encounter
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: UUID
  - name: end_date
    description: End date of the care plan
    cocoon_meta:
      missing_reason: Care plan may still be ongoing and not ended yet.
      data_type:
        current_data_type: DATE
  - name: patient_id
    description: Unique identifier for the patient
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: UUID
  - name: reason_code
    description: Numeric code for the reason of care
    cocoon_meta:
      missing_reason: Unknown
      data_type:
        current_data_type: VARCHAR
  - name: start_date
    description: Start date of the care plan
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: DATE
