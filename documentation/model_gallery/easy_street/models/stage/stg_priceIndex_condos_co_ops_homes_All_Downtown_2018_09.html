<!DOCTYPE html>
<html lang="en">
<head>
<title>Cocoon</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">


<style>
  html {
    height: 100%; /* Ensure the html element covers the full height */
    background-color: #f0f0f0; /* Set your desired background color */
  }

  body {
    /* Scale the entire content to 70% */
    transform: scale(0.75);
    transform-origin: top left; /* Adjust as needed */
    width: 133.33%; /* Increase width to fit, since scaling down shrinks the viewport */
    height: 133.33%; /* Adjust height similarly if necessary */
    overflow: auto; /* Add scrollbars if content overflows */
  }

  body, h1, h2, p {
    margin: 0;
    padding: 0;
    font-family: 'Arial', sans-serif;
  }

  .container {
    display: flex;
    justify-content: space-between;
    align-items: center; /* This ensures the items are aligned in the middle vertically */
  }

  .map-container {
    width: 300px;
    height: 200px;
    border: 1px solid black;
  }
  
  .histogram-container {
    width: 300px;
    height: 100px;
    border: 1px solid black;
  }

  .chart-container { /* Style for the container */
    width: 200px;
    height: 80px;
    border: 1px solid black;
  }
  
  .bar-chart-container {
    width: 300px;
    height: 100px;
    border: 1px solid black;
  }

  .dashboard {
    display: grid;
    grid-template-areas:
      "main-panel right-panel"
      "bottom-panel right-panel";
    grid-template-rows: 1fr 1fr; /* Equal height for both rows */
    gap: 10px;
    height: 130vh;
    padding: 10px;
    background-color: #f0f0f0;
  }

  .main-panel {
    grid-area: main-panel;
    background-color: #ffffff;
    padding: 20px;
    position: relative; /* Set the main-panel to relative to position the chat box inside it */
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
    overflow: hidden;
    display: flex;
    flex-direction: column; /* Stack the children vertically */
  }

  .table-container {
    overflow-x: auto; /* Allows horizontal scrolling for the table */
    overflow-y: auto; /* Allows vertical scrolling for the table */
    flex-grow: 1;
    max-width: 100%; /* Ensures that the container doesn't exceed the width of its parent */
    display: none;
  }

  .right-panel {
    grid-area: right-panel;
    background-color: #fff;
    padding: 15px;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
    overflow-y: auto; /* Enable scrolling for the panel */
    width: 360px;
  }

  .indent {
    padding-left: 5px; /* Increase as needed for deeper indents */
    font-size: small;
    display: none;
  }

  .card-item {
    display: flex;
    align-items: center;
    background-color: #626262; /* White background for the card */
    border: 1px solid #626262; /* Light grey border */
    color: white;
    border-radius: 4px; /* Slightly rounded corners */
    margin-bottom: 6px; /* Space between card items */
    padding: 3px;
    padding-left: 10px;
    width: 320px;
  }

  .card-item-collapsed {
    background-color: #d0d0d0; /* Lighter background for collapsed card */
    border: 1px solid #d0d0d0; /* Lighter border for collapsed card */
    color: black; /* Change text color for better contrast on light background */
  }

  .icon {
    /* Styles for the icon, you can replace it with an actual icon font or image */
    padding-right: 20px;
  }

  .field-name {
    /* Styles for the field name */
    flex-grow: 1;
    padding-right: 20px;
    font-size: 14px;

  }

  .circle {
    background-color: red;
    font-size: small;
    border-radius: 50%;
    color: white;
    padding: 0px;
    text-align: center;
    display: inline-block;
      width: 16px;         /* Fixed width */
      height: 16px;        /* Fixed height */
      line-height: 16px;   /* Center the number vertically */
  }

  .circle2 {
    background-color: green;
    font-size: small;
    border-radius: 50%;
    color: white;
    padding: 0px;
    text-align: center;
    display: inline-block;
    /* Changes for a better circle */
      width: 16px;         /* Fixed width */
      height: 16px;        /* Fixed height */
      line-height: 16px;   /* Center the number vertically */
  }

  .card-controls {
    display: flex;
  }

  .drop-down-btn,
  .add-btn {
    /* Shared styles for buttons */
    background-color: #4CAF50; /* Green background */
    color: white;
    border: none;
    border-radius: 2px; /* Slightly rounded corners for the buttons */
    cursor: pointer;
    padding: 2px 6px; /* Smaller padding for a compact look */
    margin-left: 4px; /* Spacing between buttons */
  }

  .drop-down-btn:hover,
  .add-btn:hover {
    background-color: #45a049; /* Darker green on hover */
  }

  .bottom-panel {
    grid-area: bottom-panel;
    background-color: #ffffff;
    padding: 20px;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
    overflow-x: auto;
  }

  
table {
  width: 100%;
  border-collapse: collapse;
  margin-top: 20px;
  font-size: 0.9em;
  border-radius: 8px;
  overflow: hidden;
}

th, td {
  padding: 6px 8px;
  text-align: left;
  border-bottom: 1px solid #dddddd;
  border-right: 1px solid #dddddd;
}

th:last-child, td:last-child {
  border-right: none; /* Removes the border from the last cell of each row */
}

thead tr {
  background-color: #bebebe; /* Changed color for header */
  color: #ffffff; /* Changed text color for better contrast */
  text-align: left;
  font-weight: bold;
  font-size: 14px;
}

th {
  position: sticky;
  top: 0;
  background-color: #bebebe; /* Ensure the sticky header has the same background color */
}

tbody tr {
  background-color: #f9f9f9; /* Lighter color for content rows */
  font-size: 14px
}

tbody tr:last-of-type {
  border-bottom: 2px solid #6e6e6e;
}

tbody tr.active-row {
  font-weight: bold;
  color: #6e6e6e;
}


  .link {
      fill: none;
      stroke: #555;
      stroke-opacity: 0.4;
      stroke-width: 1.5px;
  }

  .node {
      cursor: pointer;
  }

  .node circle {
      fill: #999;
      stroke: black;
      stroke-width: 1.5px;
  }

  .node text {
      font: 12px sans-serif;
      fill: #555;
  }

  .icons {
    /* Making the icon larger */
    font-size: 20px; /* You can adjust this value as needed */
    color: white; /* Icon color */
    background-color: black; /* Background color */
    padding: 6px 6px; /* Top/bottom padding and left/right padding */
    border-radius: 3px; /* Making the corners sharp for a rectangular look */
  }

  .switch-container {
    display: flex;
    align-items: center;
  }

  .switch {
    position: relative;
    display: inline-block;
    width: 60px;
    height: 34px;
    margin: 0 10px;
  }

  .switch input {
    opacity: 0;
    width: 0;
    height: 0;
  }

  .slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: #ccc;
    transition: .4s;
    border-radius: 34px;
  }

  .slider:before {
    position: absolute;
    content: "";
    height: 26px;
    width: 26px;
    left: 4px;
    bottom: 4px;
    background-color: white;
    transition: .4s;
    border-radius: 50%;
  }

  input:checked + .slider {
    background-color: #2196F3;
  }

  input:checked + .slider:before {
    transform: translateX(26px);
  }

  .label-text {
    font-family: Verdana, sans-serif;
    font-size: 14px;
  }

  .table-container.active {
    display: block;
  }

.tag {
  display: inline-block;
  padding: 2px 6px;
  font-size: 12px;
  margin-right: 6px;
  border-radius: 4px;
}

.tag-red {
  background-color: #ffcccb;
  color: #ff0000;
  border: 1px solid #ff0000;
}

.tag-blue {
  background-color: #e0f2ff;
  color: #0066ff;
  border: 1px solid #0066ff;
}

.tag-purple {
  background-color: #e6ccff;
  color: #9900ff;
  border: 1px solid #9900ff;
}

code {
  font-family: Consolas,"courier new";
  color: crimson;
  background-color: #f1f1f1;
  padding: 2px;
  font-size: 105%;
}
</style>

</head>
<body>

<div class="dashboard">

    <div class="main-panel">
        <div class="container">
            <a href="https://github.com/Cocoon-Data-Transformation/cocoon" target="_blank" style="display: flex; align-items: center; text-decoration: none; color: black;">
    <img src="https://raw.githubusercontent.com/Cocoon-Data-Transformation/cocoon/main/images/cocoon_icon.png" alt="cocoon icon" width=50 style="margin-right: 10px;">
    <div style="margin: 0; padding: 0;"><h2 style="margin: 0; padding: 0;">Data Formatting</h2>
        <p style="margin: 0; padding: 0;">Powered by Cocoon</p>
    </div>
</a>
            <div><h1>priceIndex_condos_co_ops_homes_All_Downtown_2018_09</h1>(First 100 rows)</div>
            <div>
                <div class="switch-container">
<span class="label-text">Before</span>
<label class="switch">
    <input type="checkbox">
    <span class="slider"></span>
</label>
<span class="label-text">After</span>
</div>
            </div>
        </div>

        <div class="table-container before active">
            <table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>sales</th>
      <th>MoM</th>
      <th>YoY</th>
      <th>date_</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>389518.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1995-01-01</td>
    </tr>
    <tr>
      <th>1</th>
      <td>389566.0</td>
      <td>0.000123</td>
      <td>NaN</td>
      <td>1995-02-01</td>
    </tr>
    <tr>
      <th>2</th>
      <td>341888.0</td>
      <td>-0.122387</td>
      <td>NaN</td>
      <td>1995-03-01</td>
    </tr>
    <tr>
      <th>3</th>
      <td>336939.0</td>
      <td>-0.014476</td>
      <td>NaN</td>
      <td>1995-04-01</td>
    </tr>
    <tr>
      <th>4</th>
      <td>328341.0</td>
      <td>-0.025518</td>
      <td>NaN</td>
      <td>1995-05-01</td>
    </tr>
    <tr>
      <th>5</th>
      <td>324442.0</td>
      <td>-0.011875</td>
      <td>NaN</td>
      <td>1995-06-01</td>
    </tr>
    <tr>
      <th>6</th>
      <td>332964.0</td>
      <td>0.026267</td>
      <td>NaN</td>
      <td>1995-07-01</td>
    </tr>
    <tr>
      <th>7</th>
      <td>333477.0</td>
      <td>0.001541</td>
      <td>NaN</td>
      <td>1995-08-01</td>
    </tr>
    <tr>
      <th>8</th>
      <td>344865.0</td>
      <td>0.034149</td>
      <td>NaN</td>
      <td>1995-09-01</td>
    </tr>
    <tr>
      <th>9</th>
      <td>358043.0</td>
      <td>0.038212</td>
      <td>NaN</td>
      <td>1995-10-01</td>
    </tr>
    <tr>
      <th>10</th>
      <td>347103.0</td>
      <td>-0.030555</td>
      <td>NaN</td>
      <td>1995-11-01</td>
    </tr>
    <tr>
      <th>11</th>
      <td>341667.0</td>
      <td>-0.015661</td>
      <td>NaN</td>
      <td>1995-12-01</td>
    </tr>
    <tr>
      <th>12</th>
      <td>361311.0</td>
      <td>0.057495</td>
      <td>-0.072415</td>
      <td>1996-01-01</td>
    </tr>
    <tr>
      <th>13</th>
      <td>356608.0</td>
      <td>-0.013016</td>
      <td>-0.084602</td>
      <td>1996-02-01</td>
    </tr>
    <tr>
      <th>14</th>
      <td>362270.0</td>
      <td>0.015877</td>
      <td>0.059616</td>
      <td>1996-03-01</td>
    </tr>
    <tr>
      <th>15</th>
      <td>373934.0</td>
      <td>0.032197</td>
      <td>0.109797</td>
      <td>1996-04-01</td>
    </tr>
    <tr>
      <th>16</th>
      <td>369912.0</td>
      <td>-0.010756</td>
      <td>0.126609</td>
      <td>1996-05-01</td>
    </tr>
    <tr>
      <th>17</th>
      <td>365922.0</td>
      <td>-0.010786</td>
      <td>0.127850</td>
      <td>1996-06-01</td>
    </tr>
    <tr>
      <th>18</th>
      <td>359439.0</td>
      <td>-0.017717</td>
      <td>0.079513</td>
      <td>1996-07-01</td>
    </tr>
    <tr>
      <th>19</th>
      <td>361828.0</td>
      <td>0.006646</td>
      <td>0.085016</td>
      <td>1996-08-01</td>
    </tr>
    <tr>
      <th>20</th>
      <td>369146.0</td>
      <td>0.020225</td>
      <td>0.070407</td>
      <td>1996-09-01</td>
    </tr>
    <tr>
      <th>21</th>
      <td>355498.0</td>
      <td>-0.036972</td>
      <td>-0.007108</td>
      <td>1996-10-01</td>
    </tr>
    <tr>
      <th>22</th>
      <td>350145.0</td>
      <td>-0.015058</td>
      <td>0.008764</td>
      <td>1996-11-01</td>
    </tr>
    <tr>
      <th>23</th>
      <td>343945.0</td>
      <td>-0.017707</td>
      <td>0.006667</td>
      <td>1996-12-01</td>
    </tr>
    <tr>
      <th>24</th>
      <td>371425.0</td>
      <td>0.079896</td>
      <td>0.027993</td>
      <td>1997-01-01</td>
    </tr>
    <tr>
      <th>25</th>
      <td>367538.0</td>
      <td>-0.010465</td>
      <td>0.030650</td>
      <td>1997-02-01</td>
    </tr>
    <tr>
      <th>26</th>
      <td>356756.0</td>
      <td>-0.029336</td>
      <td>-0.015221</td>
      <td>1997-03-01</td>
    </tr>
    <tr>
      <th>27</th>
      <td>379951.0</td>
      <td>0.065016</td>
      <td>0.016091</td>
      <td>1997-04-01</td>
    </tr>
    <tr>
      <th>28</th>
      <td>384854.0</td>
      <td>0.012904</td>
      <td>0.040393</td>
      <td>1997-05-01</td>
    </tr>
    <tr>
      <th>29</th>
      <td>405929.0</td>
      <td>0.054761</td>
      <td>0.109332</td>
      <td>1997-06-01</td>
    </tr>
    <tr>
      <th>30</th>
      <td>411289.0</td>
      <td>0.013204</td>
      <td>0.144253</td>
      <td>1997-07-01</td>
    </tr>
    <tr>
      <th>31</th>
      <td>410046.0</td>
      <td>-0.003022</td>
      <td>0.133262</td>
      <td>1997-08-01</td>
    </tr>
    <tr>
      <th>32</th>
      <td>420022.0</td>
      <td>0.024329</td>
      <td>0.137821</td>
      <td>1997-09-01</td>
    </tr>
    <tr>
      <th>33</th>
      <td>448562.0</td>
      <td>0.067949</td>
      <td>0.261785</td>
      <td>1997-10-01</td>
    </tr>
    <tr>
      <th>34</th>
      <td>422619.0</td>
      <td>-0.057836</td>
      <td>0.206983</td>
      <td>1997-11-01</td>
    </tr>
    <tr>
      <th>35</th>
      <td>405976.0</td>
      <td>-0.039381</td>
      <td>0.180352</td>
      <td>1997-12-01</td>
    </tr>
    <tr>
      <th>36</th>
      <td>438568.0</td>
      <td>0.080281</td>
      <td>0.180771</td>
      <td>1998-01-01</td>
    </tr>
    <tr>
      <th>37</th>
      <td>446668.0</td>
      <td>0.018469</td>
      <td>0.215297</td>
      <td>1998-02-01</td>
    </tr>
    <tr>
      <th>38</th>
      <td>451643.0</td>
      <td>0.011138</td>
      <td>0.265972</td>
      <td>1998-03-01</td>
    </tr>
    <tr>
      <th>39</th>
      <td>451617.0</td>
      <td>-0.000058</td>
      <td>0.188619</td>
      <td>1998-04-01</td>
    </tr>
    <tr>
      <th>40</th>
      <td>452543.0</td>
      <td>0.002050</td>
      <td>0.175882</td>
      <td>1998-05-01</td>
    </tr>
    <tr>
      <th>41</th>
      <td>458789.0</td>
      <td>0.013802</td>
      <td>0.130220</td>
      <td>1998-06-01</td>
    </tr>
    <tr>
      <th>42</th>
      <td>468434.0</td>
      <td>0.021023</td>
      <td>0.138941</td>
      <td>1998-07-01</td>
    </tr>
    <tr>
      <th>43</th>
      <td>472876.0</td>
      <td>0.009483</td>
      <td>0.153227</td>
      <td>1998-08-01</td>
    </tr>
    <tr>
      <th>44</th>
      <td>474313.0</td>
      <td>0.003039</td>
      <td>0.129258</td>
      <td>1998-09-01</td>
    </tr>
    <tr>
      <th>45</th>
      <td>492738.0</td>
      <td>0.038846</td>
      <td>0.098484</td>
      <td>1998-10-01</td>
    </tr>
    <tr>
      <th>46</th>
      <td>487317.0</td>
      <td>-0.011002</td>
      <td>0.153088</td>
      <td>1998-11-01</td>
    </tr>
    <tr>
      <th>47</th>
      <td>488178.0</td>
      <td>0.001767</td>
      <td>0.202480</td>
      <td>1998-12-01</td>
    </tr>
    <tr>
      <th>48</th>
      <td>477943.0</td>
      <td>-0.020966</td>
      <td>0.089781</td>
      <td>1999-01-01</td>
    </tr>
    <tr>
      <th>49</th>
      <td>485818.0</td>
      <td>0.016477</td>
      <td>0.087649</td>
      <td>1999-02-01</td>
    </tr>
    <tr>
      <th>50</th>
      <td>493374.0</td>
      <td>0.015553</td>
      <td>0.092398</td>
      <td>1999-03-01</td>
    </tr>
    <tr>
      <th>51</th>
      <td>505224.0</td>
      <td>0.024018</td>
      <td>0.118700</td>
      <td>1999-04-01</td>
    </tr>
    <tr>
      <th>52</th>
      <td>512852.0</td>
      <td>0.015098</td>
      <td>0.133267</td>
      <td>1999-05-01</td>
    </tr>
    <tr>
      <th>53</th>
      <td>547645.0</td>
      <td>0.067842</td>
      <td>0.193675</td>
      <td>1999-06-01</td>
    </tr>
    <tr>
      <th>54</th>
      <td>553194.0</td>
      <td>0.010132</td>
      <td>0.180943</td>
      <td>1999-07-01</td>
    </tr>
    <tr>
      <th>55</th>
      <td>562292.0</td>
      <td>0.016446</td>
      <td>0.189090</td>
      <td>1999-08-01</td>
    </tr>
    <tr>
      <th>56</th>
      <td>565397.0</td>
      <td>0.005522</td>
      <td>0.192034</td>
      <td>1999-09-01</td>
    </tr>
    <tr>
      <th>57</th>
      <td>584936.0</td>
      <td>0.034558</td>
      <td>0.187114</td>
      <td>1999-10-01</td>
    </tr>
    <tr>
      <th>58</th>
      <td>549881.0</td>
      <td>-0.059930</td>
      <td>0.128385</td>
      <td>1999-11-01</td>
    </tr>
    <tr>
      <th>59</th>
      <td>558889.0</td>
      <td>0.016382</td>
      <td>0.144847</td>
      <td>1999-12-01</td>
    </tr>
    <tr>
      <th>60</th>
      <td>590848.0</td>
      <td>0.057183</td>
      <td>0.236231</td>
      <td>2000-01-01</td>
    </tr>
    <tr>
      <th>61</th>
      <td>602373.0</td>
      <td>0.019506</td>
      <td>0.239915</td>
      <td>2000-02-01</td>
    </tr>
    <tr>
      <th>62</th>
      <td>592160.0</td>
      <td>-0.016955</td>
      <td>0.200225</td>
      <td>2000-03-01</td>
    </tr>
    <tr>
      <th>63</th>
      <td>584458.0</td>
      <td>-0.013007</td>
      <td>0.156829</td>
      <td>2000-04-01</td>
    </tr>
    <tr>
      <th>64</th>
      <td>612536.0</td>
      <td>0.048041</td>
      <td>0.194372</td>
      <td>2000-05-01</td>
    </tr>
    <tr>
      <th>65</th>
      <td>663330.0</td>
      <td>0.082924</td>
      <td>0.211241</td>
      <td>2000-06-01</td>
    </tr>
    <tr>
      <th>66</th>
      <td>639595.0</td>
      <td>-0.035782</td>
      <td>0.156186</td>
      <td>2000-07-01</td>
    </tr>
    <tr>
      <th>67</th>
      <td>633489.0</td>
      <td>-0.009547</td>
      <td>0.126619</td>
      <td>2000-08-01</td>
    </tr>
    <tr>
      <th>68</th>
      <td>640768.0</td>
      <td>0.011490</td>
      <td>0.133306</td>
      <td>2000-09-01</td>
    </tr>
    <tr>
      <th>69</th>
      <td>672401.0</td>
      <td>0.049367</td>
      <td>0.149529</td>
      <td>2000-10-01</td>
    </tr>
    <tr>
      <th>70</th>
      <td>677532.0</td>
      <td>0.007631</td>
      <td>0.232143</td>
      <td>2000-11-01</td>
    </tr>
    <tr>
      <th>71</th>
      <td>687940.0</td>
      <td>0.015362</td>
      <td>0.230906</td>
      <td>2000-12-01</td>
    </tr>
    <tr>
      <th>72</th>
      <td>732099.0</td>
      <td>0.064190</td>
      <td>0.239065</td>
      <td>2001-01-01</td>
    </tr>
    <tr>
      <th>73</th>
      <td>714052.0</td>
      <td>-0.024651</td>
      <td>0.185398</td>
      <td>2001-02-01</td>
    </tr>
    <tr>
      <th>74</th>
      <td>727056.0</td>
      <td>0.018212</td>
      <td>0.227803</td>
      <td>2001-03-01</td>
    </tr>
    <tr>
      <th>75</th>
      <td>736568.0</td>
      <td>0.013083</td>
      <td>0.260258</td>
      <td>2001-04-01</td>
    </tr>
    <tr>
      <th>76</th>
      <td>771248.0</td>
      <td>0.047083</td>
      <td>0.259106</td>
      <td>2001-05-01</td>
    </tr>
    <tr>
      <th>77</th>
      <td>767122.0</td>
      <td>-0.005350</td>
      <td>0.156471</td>
      <td>2001-06-01</td>
    </tr>
    <tr>
      <th>78</th>
      <td>748434.0</td>
      <td>-0.024361</td>
      <td>0.170169</td>
      <td>2001-07-01</td>
    </tr>
    <tr>
      <th>79</th>
      <td>754199.0</td>
      <td>0.007703</td>
      <td>0.190548</td>
      <td>2001-08-01</td>
    </tr>
    <tr>
      <th>80</th>
      <td>774451.0</td>
      <td>0.026852</td>
      <td>0.208629</td>
      <td>2001-09-01</td>
    </tr>
    <tr>
      <th>81</th>
      <td>757522.0</td>
      <td>-0.021859</td>
      <td>0.126593</td>
      <td>2001-10-01</td>
    </tr>
    <tr>
      <th>82</th>
      <td>738079.0</td>
      <td>-0.025667</td>
      <td>0.089364</td>
      <td>2001-11-01</td>
    </tr>
    <tr>
      <th>83</th>
      <td>724289.0</td>
      <td>-0.018684</td>
      <td>0.052837</td>
      <td>2001-12-01</td>
    </tr>
    <tr>
      <th>84</th>
      <td>716168.0</td>
      <td>-0.011212</td>
      <td>-0.021761</td>
      <td>2002-01-01</td>
    </tr>
    <tr>
      <th>85</th>
      <td>726471.0</td>
      <td>0.014386</td>
      <td>0.017392</td>
      <td>2002-02-01</td>
    </tr>
    <tr>
      <th>86</th>
      <td>731065.0</td>
      <td>0.006324</td>
      <td>0.005514</td>
      <td>2002-03-01</td>
    </tr>
    <tr>
      <th>87</th>
      <td>753592.0</td>
      <td>0.030814</td>
      <td>0.023113</td>
      <td>2002-04-01</td>
    </tr>
    <tr>
      <th>88</th>
      <td>763341.0</td>
      <td>0.012937</td>
      <td>-0.010252</td>
      <td>2002-05-01</td>
    </tr>
    <tr>
      <th>89</th>
      <td>780748.0</td>
      <td>0.022804</td>
      <td>0.017762</td>
      <td>2002-06-01</td>
    </tr>
    <tr>
      <th>90</th>
      <td>793621.0</td>
      <td>0.016488</td>
      <td>0.060375</td>
      <td>2002-07-01</td>
    </tr>
    <tr>
      <th>91</th>
      <td>814705.0</td>
      <td>0.026567</td>
      <td>0.080226</td>
      <td>2002-08-01</td>
    </tr>
    <tr>
      <th>92</th>
      <td>859923.0</td>
      <td>0.055502</td>
      <td>0.110365</td>
      <td>2002-09-01</td>
    </tr>
    <tr>
      <th>93</th>
      <td>884080.0</td>
      <td>0.028092</td>
      <td>0.167068</td>
      <td>2002-10-01</td>
    </tr>
    <tr>
      <th>94</th>
      <td>893614.0</td>
      <td>0.010784</td>
      <td>0.210729</td>
      <td>2002-11-01</td>
    </tr>
    <tr>
      <th>95</th>
      <td>872918.0</td>
      <td>-0.023160</td>
      <td>0.205207</td>
      <td>2002-12-01</td>
    </tr>
    <tr>
      <th>96</th>
      <td>871456.0</td>
      <td>-0.001675</td>
      <td>0.216832</td>
      <td>2003-01-01</td>
    </tr>
    <tr>
      <th>97</th>
      <td>820518.0</td>
      <td>-0.058452</td>
      <td>0.129457</td>
      <td>2003-02-01</td>
    </tr>
    <tr>
      <th>98</th>
      <td>866855.0</td>
      <td>0.056473</td>
      <td>0.185743</td>
      <td>2003-03-01</td>
    </tr>
    <tr>
      <th>99</th>
      <td>880852.0</td>
      <td>0.016147</td>
      <td>0.168871</td>
      <td>2003-04-01</td>
    </tr>
  </tbody>
</table>
        </div>
        <div class="table-container after">
            <table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>average_sales_price</th>
      <th>month_over_month_change</th>
      <th>year_over_year_change</th>
      <th>date_</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>389518.0</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>1995-01-01</td>
    </tr>
    <tr>
      <th>1</th>
      <td>389566.0</td>
      <td>0.000123</td>
      <td>NaN</td>
      <td>1995-02-01</td>
    </tr>
    <tr>
      <th>2</th>
      <td>341888.0</td>
      <td>-0.122387</td>
      <td>NaN</td>
      <td>1995-03-01</td>
    </tr>
    <tr>
      <th>3</th>
      <td>336939.0</td>
      <td>-0.014476</td>
      <td>NaN</td>
      <td>1995-04-01</td>
    </tr>
    <tr>
      <th>4</th>
      <td>328341.0</td>
      <td>-0.025518</td>
      <td>NaN</td>
      <td>1995-05-01</td>
    </tr>
    <tr>
      <th>5</th>
      <td>324442.0</td>
      <td>-0.011875</td>
      <td>NaN</td>
      <td>1995-06-01</td>
    </tr>
    <tr>
      <th>6</th>
      <td>332964.0</td>
      <td>0.026267</td>
      <td>NaN</td>
      <td>1995-07-01</td>
    </tr>
    <tr>
      <th>7</th>
      <td>333477.0</td>
      <td>0.001541</td>
      <td>NaN</td>
      <td>1995-08-01</td>
    </tr>
    <tr>
      <th>8</th>
      <td>344865.0</td>
      <td>0.034149</td>
      <td>NaN</td>
      <td>1995-09-01</td>
    </tr>
    <tr>
      <th>9</th>
      <td>358043.0</td>
      <td>0.038212</td>
      <td>NaN</td>
      <td>1995-10-01</td>
    </tr>
    <tr>
      <th>10</th>
      <td>347103.0</td>
      <td>-0.030555</td>
      <td>NaN</td>
      <td>1995-11-01</td>
    </tr>
    <tr>
      <th>11</th>
      <td>341667.0</td>
      <td>-0.015661</td>
      <td>NaN</td>
      <td>1995-12-01</td>
    </tr>
    <tr>
      <th>12</th>
      <td>361311.0</td>
      <td>0.057495</td>
      <td>-0.072415</td>
      <td>1996-01-01</td>
    </tr>
    <tr>
      <th>13</th>
      <td>356608.0</td>
      <td>-0.013016</td>
      <td>-0.084602</td>
      <td>1996-02-01</td>
    </tr>
    <tr>
      <th>14</th>
      <td>362270.0</td>
      <td>0.015877</td>
      <td>0.059616</td>
      <td>1996-03-01</td>
    </tr>
    <tr>
      <th>15</th>
      <td>373934.0</td>
      <td>0.032197</td>
      <td>0.109797</td>
      <td>1996-04-01</td>
    </tr>
    <tr>
      <th>16</th>
      <td>369912.0</td>
      <td>-0.010756</td>
      <td>0.126609</td>
      <td>1996-05-01</td>
    </tr>
    <tr>
      <th>17</th>
      <td>365922.0</td>
      <td>-0.010786</td>
      <td>0.127850</td>
      <td>1996-06-01</td>
    </tr>
    <tr>
      <th>18</th>
      <td>359439.0</td>
      <td>-0.017717</td>
      <td>0.079513</td>
      <td>1996-07-01</td>
    </tr>
    <tr>
      <th>19</th>
      <td>361828.0</td>
      <td>0.006646</td>
      <td>0.085016</td>
      <td>1996-08-01</td>
    </tr>
    <tr>
      <th>20</th>
      <td>369146.0</td>
      <td>0.020225</td>
      <td>0.070407</td>
      <td>1996-09-01</td>
    </tr>
    <tr>
      <th>21</th>
      <td>355498.0</td>
      <td>-0.036972</td>
      <td>-0.007108</td>
      <td>1996-10-01</td>
    </tr>
    <tr>
      <th>22</th>
      <td>350145.0</td>
      <td>-0.015058</td>
      <td>0.008764</td>
      <td>1996-11-01</td>
    </tr>
    <tr>
      <th>23</th>
      <td>343945.0</td>
      <td>-0.017707</td>
      <td>0.006667</td>
      <td>1996-12-01</td>
    </tr>
    <tr>
      <th>24</th>
      <td>371425.0</td>
      <td>0.079896</td>
      <td>0.027993</td>
      <td>1997-01-01</td>
    </tr>
    <tr>
      <th>25</th>
      <td>367538.0</td>
      <td>-0.010465</td>
      <td>0.030650</td>
      <td>1997-02-01</td>
    </tr>
    <tr>
      <th>26</th>
      <td>356756.0</td>
      <td>-0.029336</td>
      <td>-0.015221</td>
      <td>1997-03-01</td>
    </tr>
    <tr>
      <th>27</th>
      <td>379951.0</td>
      <td>0.065016</td>
      <td>0.016091</td>
      <td>1997-04-01</td>
    </tr>
    <tr>
      <th>28</th>
      <td>384854.0</td>
      <td>0.012904</td>
      <td>0.040393</td>
      <td>1997-05-01</td>
    </tr>
    <tr>
      <th>29</th>
      <td>405929.0</td>
      <td>0.054761</td>
      <td>0.109332</td>
      <td>1997-06-01</td>
    </tr>
    <tr>
      <th>30</th>
      <td>411289.0</td>
      <td>0.013204</td>
      <td>0.144253</td>
      <td>1997-07-01</td>
    </tr>
    <tr>
      <th>31</th>
      <td>410046.0</td>
      <td>-0.003022</td>
      <td>0.133262</td>
      <td>1997-08-01</td>
    </tr>
    <tr>
      <th>32</th>
      <td>420022.0</td>
      <td>0.024329</td>
      <td>0.137821</td>
      <td>1997-09-01</td>
    </tr>
    <tr>
      <th>33</th>
      <td>448562.0</td>
      <td>0.067949</td>
      <td>0.261785</td>
      <td>1997-10-01</td>
    </tr>
    <tr>
      <th>34</th>
      <td>422619.0</td>
      <td>-0.057836</td>
      <td>0.206983</td>
      <td>1997-11-01</td>
    </tr>
    <tr>
      <th>35</th>
      <td>405976.0</td>
      <td>-0.039381</td>
      <td>0.180352</td>
      <td>1997-12-01</td>
    </tr>
    <tr>
      <th>36</th>
      <td>438568.0</td>
      <td>0.080281</td>
      <td>0.180771</td>
      <td>1998-01-01</td>
    </tr>
    <tr>
      <th>37</th>
      <td>446668.0</td>
      <td>0.018469</td>
      <td>0.215297</td>
      <td>1998-02-01</td>
    </tr>
    <tr>
      <th>38</th>
      <td>451643.0</td>
      <td>0.011138</td>
      <td>0.265972</td>
      <td>1998-03-01</td>
    </tr>
    <tr>
      <th>39</th>
      <td>451617.0</td>
      <td>-0.000058</td>
      <td>0.188619</td>
      <td>1998-04-01</td>
    </tr>
    <tr>
      <th>40</th>
      <td>452543.0</td>
      <td>0.002050</td>
      <td>0.175882</td>
      <td>1998-05-01</td>
    </tr>
    <tr>
      <th>41</th>
      <td>458789.0</td>
      <td>0.013802</td>
      <td>0.130220</td>
      <td>1998-06-01</td>
    </tr>
    <tr>
      <th>42</th>
      <td>468434.0</td>
      <td>0.021023</td>
      <td>0.138941</td>
      <td>1998-07-01</td>
    </tr>
    <tr>
      <th>43</th>
      <td>472876.0</td>
      <td>0.009483</td>
      <td>0.153227</td>
      <td>1998-08-01</td>
    </tr>
    <tr>
      <th>44</th>
      <td>474313.0</td>
      <td>0.003039</td>
      <td>0.129258</td>
      <td>1998-09-01</td>
    </tr>
    <tr>
      <th>45</th>
      <td>492738.0</td>
      <td>0.038846</td>
      <td>0.098484</td>
      <td>1998-10-01</td>
    </tr>
    <tr>
      <th>46</th>
      <td>487317.0</td>
      <td>-0.011002</td>
      <td>0.153088</td>
      <td>1998-11-01</td>
    </tr>
    <tr>
      <th>47</th>
      <td>488178.0</td>
      <td>0.001767</td>
      <td>0.202480</td>
      <td>1998-12-01</td>
    </tr>
    <tr>
      <th>48</th>
      <td>477943.0</td>
      <td>-0.020966</td>
      <td>0.089781</td>
      <td>1999-01-01</td>
    </tr>
    <tr>
      <th>49</th>
      <td>485818.0</td>
      <td>0.016477</td>
      <td>0.087649</td>
      <td>1999-02-01</td>
    </tr>
    <tr>
      <th>50</th>
      <td>493374.0</td>
      <td>0.015553</td>
      <td>0.092398</td>
      <td>1999-03-01</td>
    </tr>
    <tr>
      <th>51</th>
      <td>505224.0</td>
      <td>0.024018</td>
      <td>0.118700</td>
      <td>1999-04-01</td>
    </tr>
    <tr>
      <th>52</th>
      <td>512852.0</td>
      <td>0.015098</td>
      <td>0.133267</td>
      <td>1999-05-01</td>
    </tr>
    <tr>
      <th>53</th>
      <td>547645.0</td>
      <td>0.067842</td>
      <td>0.193675</td>
      <td>1999-06-01</td>
    </tr>
    <tr>
      <th>54</th>
      <td>553194.0</td>
      <td>0.010132</td>
      <td>0.180943</td>
      <td>1999-07-01</td>
    </tr>
    <tr>
      <th>55</th>
      <td>562292.0</td>
      <td>0.016446</td>
      <td>0.189090</td>
      <td>1999-08-01</td>
    </tr>
    <tr>
      <th>56</th>
      <td>565397.0</td>
      <td>0.005522</td>
      <td>0.192034</td>
      <td>1999-09-01</td>
    </tr>
    <tr>
      <th>57</th>
      <td>584936.0</td>
      <td>0.034558</td>
      <td>0.187114</td>
      <td>1999-10-01</td>
    </tr>
    <tr>
      <th>58</th>
      <td>549881.0</td>
      <td>-0.059930</td>
      <td>0.128385</td>
      <td>1999-11-01</td>
    </tr>
    <tr>
      <th>59</th>
      <td>558889.0</td>
      <td>0.016382</td>
      <td>0.144847</td>
      <td>1999-12-01</td>
    </tr>
    <tr>
      <th>60</th>
      <td>590848.0</td>
      <td>0.057183</td>
      <td>0.236231</td>
      <td>2000-01-01</td>
    </tr>
    <tr>
      <th>61</th>
      <td>602373.0</td>
      <td>0.019506</td>
      <td>0.239915</td>
      <td>2000-02-01</td>
    </tr>
    <tr>
      <th>62</th>
      <td>592160.0</td>
      <td>-0.016955</td>
      <td>0.200225</td>
      <td>2000-03-01</td>
    </tr>
    <tr>
      <th>63</th>
      <td>584458.0</td>
      <td>-0.013007</td>
      <td>0.156829</td>
      <td>2000-04-01</td>
    </tr>
    <tr>
      <th>64</th>
      <td>612536.0</td>
      <td>0.048041</td>
      <td>0.194372</td>
      <td>2000-05-01</td>
    </tr>
    <tr>
      <th>65</th>
      <td>663330.0</td>
      <td>0.082924</td>
      <td>0.211241</td>
      <td>2000-06-01</td>
    </tr>
    <tr>
      <th>66</th>
      <td>639595.0</td>
      <td>-0.035782</td>
      <td>0.156186</td>
      <td>2000-07-01</td>
    </tr>
    <tr>
      <th>67</th>
      <td>633489.0</td>
      <td>-0.009547</td>
      <td>0.126619</td>
      <td>2000-08-01</td>
    </tr>
    <tr>
      <th>68</th>
      <td>640768.0</td>
      <td>0.011490</td>
      <td>0.133306</td>
      <td>2000-09-01</td>
    </tr>
    <tr>
      <th>69</th>
      <td>672401.0</td>
      <td>0.049367</td>
      <td>0.149529</td>
      <td>2000-10-01</td>
    </tr>
    <tr>
      <th>70</th>
      <td>677532.0</td>
      <td>0.007631</td>
      <td>0.232143</td>
      <td>2000-11-01</td>
    </tr>
    <tr>
      <th>71</th>
      <td>687940.0</td>
      <td>0.015362</td>
      <td>0.230906</td>
      <td>2000-12-01</td>
    </tr>
    <tr>
      <th>72</th>
      <td>732099.0</td>
      <td>0.064190</td>
      <td>0.239065</td>
      <td>2001-01-01</td>
    </tr>
    <tr>
      <th>73</th>
      <td>714052.0</td>
      <td>-0.024651</td>
      <td>0.185398</td>
      <td>2001-02-01</td>
    </tr>
    <tr>
      <th>74</th>
      <td>727056.0</td>
      <td>0.018212</td>
      <td>0.227803</td>
      <td>2001-03-01</td>
    </tr>
    <tr>
      <th>75</th>
      <td>736568.0</td>
      <td>0.013083</td>
      <td>0.260258</td>
      <td>2001-04-01</td>
    </tr>
    <tr>
      <th>76</th>
      <td>771248.0</td>
      <td>0.047083</td>
      <td>0.259106</td>
      <td>2001-05-01</td>
    </tr>
    <tr>
      <th>77</th>
      <td>767122.0</td>
      <td>-0.005350</td>
      <td>0.156471</td>
      <td>2001-06-01</td>
    </tr>
    <tr>
      <th>78</th>
      <td>748434.0</td>
      <td>-0.024361</td>
      <td>0.170169</td>
      <td>2001-07-01</td>
    </tr>
    <tr>
      <th>79</th>
      <td>754199.0</td>
      <td>0.007703</td>
      <td>0.190548</td>
      <td>2001-08-01</td>
    </tr>
    <tr>
      <th>80</th>
      <td>774451.0</td>
      <td>0.026852</td>
      <td>0.208629</td>
      <td>2001-09-01</td>
    </tr>
    <tr>
      <th>81</th>
      <td>757522.0</td>
      <td>-0.021859</td>
      <td>0.126593</td>
      <td>2001-10-01</td>
    </tr>
    <tr>
      <th>82</th>
      <td>738079.0</td>
      <td>-0.025667</td>
      <td>0.089364</td>
      <td>2001-11-01</td>
    </tr>
    <tr>
      <th>83</th>
      <td>724289.0</td>
      <td>-0.018684</td>
      <td>0.052837</td>
      <td>2001-12-01</td>
    </tr>
    <tr>
      <th>84</th>
      <td>716168.0</td>
      <td>-0.011212</td>
      <td>-0.021761</td>
      <td>2002-01-01</td>
    </tr>
    <tr>
      <th>85</th>
      <td>726471.0</td>
      <td>0.014386</td>
      <td>0.017392</td>
      <td>2002-02-01</td>
    </tr>
    <tr>
      <th>86</th>
      <td>731065.0</td>
      <td>0.006324</td>
      <td>0.005514</td>
      <td>2002-03-01</td>
    </tr>
    <tr>
      <th>87</th>
      <td>753592.0</td>
      <td>0.030814</td>
      <td>0.023113</td>
      <td>2002-04-01</td>
    </tr>
    <tr>
      <th>88</th>
      <td>763341.0</td>
      <td>0.012937</td>
      <td>-0.010252</td>
      <td>2002-05-01</td>
    </tr>
    <tr>
      <th>89</th>
      <td>780748.0</td>
      <td>0.022804</td>
      <td>0.017762</td>
      <td>2002-06-01</td>
    </tr>
    <tr>
      <th>90</th>
      <td>793621.0</td>
      <td>0.016488</td>
      <td>0.060375</td>
      <td>2002-07-01</td>
    </tr>
    <tr>
      <th>91</th>
      <td>814705.0</td>
      <td>0.026567</td>
      <td>0.080226</td>
      <td>2002-08-01</td>
    </tr>
    <tr>
      <th>92</th>
      <td>859923.0</td>
      <td>0.055502</td>
      <td>0.110365</td>
      <td>2002-09-01</td>
    </tr>
    <tr>
      <th>93</th>
      <td>884080.0</td>
      <td>0.028092</td>
      <td>0.167068</td>
      <td>2002-10-01</td>
    </tr>
    <tr>
      <th>94</th>
      <td>893614.0</td>
      <td>0.010784</td>
      <td>0.210729</td>
      <td>2002-11-01</td>
    </tr>
    <tr>
      <th>95</th>
      <td>872918.0</td>
      <td>-0.023160</td>
      <td>0.205207</td>
      <td>2002-12-01</td>
    </tr>
    <tr>
      <th>96</th>
      <td>871456.0</td>
      <td>-0.001675</td>
      <td>0.216832</td>
      <td>2003-01-01</td>
    </tr>
    <tr>
      <th>97</th>
      <td>820518.0</td>
      <td>-0.058452</td>
      <td>0.129457</td>
      <td>2003-02-01</td>
    </tr>
    <tr>
      <th>98</th>
      <td>866855.0</td>
      <td>0.056473</td>
      <td>0.185743</td>
      <td>2003-03-01</td>
    </tr>
    <tr>
      <th>99</th>
      <td>880852.0</td>
      <td>0.016147</td>
      <td>0.168871</td>
      <td>2003-04-01</td>
    </tr>
  </tbody>
</table>
        </div>
    </div>
    <div class="right-panel">

<div class="card-item card-item-collapsed">
    <span class="field-name">average_sales_price</span>
    <div class="card-controls">
        <span class="toggle">‚ñ≤</span>
    </div>
</div>
<div class="indent" style="display: block;"><span class="tag tag-red">not_null</span><br><br><div id="hist_viz_average_sales_price"></div><b>üìÉ Summary:</b> Sales price of housing in the area<br><br></div>

<div class="card-item card-item-collapsed">
    <span class="field-name">month_over_month_change</span>
    <div class="card-controls">
        <span class="toggle">‚ñ≤</span>
    </div>
</div>
<div class="indent" style="display: block;"><div id="hist_viz_month_over_month_change"></div><b>üìÉ Summary:</b> Month-over-month change in housing prices<br><b>‚ùì Missing:</b> First month in dataset has no previous month for comparison.<br><br></div>

<div class="card-item card-item-collapsed">
    <span class="field-name">year_over_year_change</span>
    <div class="card-controls">
        <span class="toggle">‚ñ≤</span>
    </div>
</div>
<div class="indent" style="display: block;"><div id="hist_viz_year_over_year_change"></div><b>üìÉ Summary:</b> Year-over-year change in housing prices<br><b>‚ùì Missing:</b> First year in dataset has no previous year for comparison.<br><br></div>

<div class="card-item card-item-collapsed">
    <span class="field-name">date_</span>
    <div class="card-controls">
        <span class="toggle">‚ñ≤</span>
    </div>
</div>
<div class="indent" style="display: block;"><span class="tag tag-red">not_null</span><span class="tag tag-blue">unique</span><br><br><div id="bar_viz_date_"></div><b>üìÉ Summary:</b> Date of the housing price data<br><br></div>

    </div>

    <div class="bottom-panel">
        <h1>Cocoon Cleaning Summary ü§ó</h1><hr><br><h2>üìÉ 1. Table Summary</h2><br>The table shows price indices for housing in NYC boroughs. Each index uses a repeat-sales method of comparing the sales prices of the same properties. It includes data for Downtown, Midtown, Upper East Side, and other neighborhoods. Each partition has columns for date, sales price, month-over-month change, and year-over-year change. The data spans from 1995 to at least 2018. It tracks housing market trends across various NYC areas.<br><br><br><h2>üìä 2. Column Rename</h2><br>
                    üòé <b>3</b> columns have been renamed<br>
                    <table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Column</th>
      <th>Summary</th>
      <th>New Column Name</th>
      <th>Renamed?</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>date_</td>
      <td>Date of the housing price data</td>
      <td>date_</td>
      <td>‚ùå No</td>
    </tr>
    <tr>
      <th>1</th>
      <td>sales</td>
      <td>Sales price of housing in the area</td>
      <td>average_sales_price</td>
      <td>‚úîÔ∏è Yes</td>
    </tr>
    <tr>
      <th>2</th>
      <td>MoM</td>
      <td>Month-over-month change in housing prices</td>
      <td>month_over_month_change</td>
      <td>‚úîÔ∏è Yes</td>
    </tr>
    <tr>
      <th>3</th>
      <td>YoY</td>
      <td>Year-over-year change in housing prices</td>
      <td>year_over_year_change</td>
      <td>‚úîÔ∏è Yes</td>
    </tr>
  </tbody>
</table><br><br><br><h2>üîß 3. Data Type</h2><br>
                    ‚úîÔ∏è <b>1</b> columns have been casted<br>
                    <table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Column Name</th>
      <th>Clause</th>
      <th>Reasoning</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>date_</td>
      <td>CAST("date_" AS DATE)</td>
      <td>To transform the 'date_' column from VARCHAR to DATE, we can use a simple CAST function. The current format of the dates in the column ('YYYY-MM-DD') is already compatible with the standard SQL date format, so we don't need to use strptime() or any other date parsing function. A direct CAST to DATE will work.\n</td>
    </tr>
  </tbody>
</table><br><br><br><h2>‚ùì 4. Missing Values</h2><br>
                    üîç <b>2</b> columns have missing values<br>
                    ‚úîÔ∏è <b>2</b> of them are acceptable<br>
                    <table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Column</th>
      <th>NULL (%)</th>
      <th>Is NULL Acceptable?</th>
      <th>Explanation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>month_over_month_change</td>
      <td>0.35</td>
      <td>True</td>
      <td>First month in dataset has no previous month for comparison.</td>
    </tr>
    <tr>
      <th>1</th>
      <td>year_over_year_change</td>
      <td>4.21</td>
      <td>True</td>
      <td>First year in dataset has no previous year for comparison.</td>
    </tr>
  </tbody>
</table><br><br><br>
    </div>
</div>

<script src="https://d3js.org/d3.v6.min.js"  charset="utf-8"></script>
<script src="https://d3js.org/topojson.v3.min.js"></script>
<script>
document.querySelectorAll('.card-item').forEach(function(card) {{
    card.addEventListener('click', function() {{
        var indent = this.nextElementSibling;
        var toggle = this.querySelector('.toggle');
        if (indent.style.display === "block") {{
            indent.style.display = "none";
            toggle.textContent = '‚ñº';
            this.classList.remove('card-item-collapsed');
        }} else {{
            indent.style.display = "block";
            toggle.textContent = '‚ñ≤';
            this.classList.add('card-item-collapsed');
        }}
    }});
}});
  const toggleSwitch = document.querySelector('.switch input[type="checkbox"]');
  const labelTextAfter = document.querySelector('.label-text:last-of-type');
  const tableContainerBefore = document.querySelector('.table-container.before');
  const tableContainerAfter = document.querySelector('.table-container.after');

  const handleToggle = () => {
    if (toggleSwitch.checked) {
      labelTextAfter.style.color = 'blue';
      tableContainerBefore.classList.remove('active');
      tableContainerAfter.classList.add('active');
    } else {
      labelTextAfter.style.color = '';
      tableContainerBefore.classList.add('active');
      tableContainerAfter.classList.remove('active');
    }
  };

  toggleSwitch.addEventListener('change', handleToggle);
</script>
<script>
    function drawBarChart(divId, data) {
      const margin = {top: 10, right: 10, bottom: 25, left: 100},
            width = 300 - margin.left - margin.right,
            height = 100 - margin.top - margin.bottom;

      const targetDiv = d3.select("#" + divId);
      targetDiv.classed("bar-chart-container", true);

      const svg = targetDiv
                    .append("svg")
                      .attr("width", width + margin.left + margin.right)
                      .attr("height", height + margin.top + margin.bottom)
                    .append("g")
                      .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

      const y = d3.scaleBand()
                  .range([0, height])
                  .domain(data.map(d => d.label))
                  .padding(0.1);

      const x = d3.scaleLinear()
                  .domain([0, d3.max(data, d => d.value)])  // Percent scale
                  .range([0, width]);

      svg.append("g")
         .call(d3.axisLeft(y));

      svg.selectAll(".bar")
         .data(data)
         .enter().append("rect")
           .attr("class", "bar")
           .attr("y", d => y(d.label))
           .attr("height", y.bandwidth())
           .attr("x", 0)
           .attr("width", d => x(d.value))
           .attr("fill", "steelblue");

      svg.append("g")
         .attr("transform", "translate(0," + height + ")")
         .call(d3.axisBottom(x).ticks(5).tickFormat(d => d + "%"));
    }
    
    function drawHistogram(divId, data, binWidth) {
      const margin = {top: 10, right: 10, bottom: 20, left: 40},
            width = 300 - margin.left - margin.right,
            height = 100 - margin.top - margin.bottom;
            
      const targetDiv = d3.select("#" + divId);
      targetDiv.classed("histogram-container", true);

      const svg = targetDiv
                    .append("svg")
                      .attr("width", width + margin.left + margin.right)
                      .attr("height", height + margin.top + margin.bottom)
                    .append("g")
                      .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

      const x = d3.scaleLinear()
                  .domain([d3.min(data, d => d.x) - binWidth, d3.max(data, d => d.x) + binWidth])
                  .range([0, width]);

      const y = d3.scaleLinear()
                  .domain([0, d3.max(data, d => d.y) * 1.1]) // Increase the y-axis limit by 10% for margin
                  .range([height, 0]);

      const xAxis = d3.axisBottom(x).ticks(5);
      const yAxis = d3.axisLeft(y).ticks(5);

      svg.append("g")
         .attr("transform", "translate(0," + height + ")")
         .call(xAxis)

      svg.append("g")
         .call(yAxis)

      svg.selectAll("rect")
         .data(data)
         .enter().append("rect")
           .attr("x", d => x(d.x - binWidth / 2))
           .attr("y", d => y(d.y))
           .attr("width", x(binWidth) - x(0))
           .attr("height", d => height - y(d.y))
           .attr("fill", "steelblue");
    }
    
    function drawMap(divId, coordinates) {
      const targetDiv = d3.select("#" + divId);
      targetDiv.classed("map-container", true);

      const width = 300;
      const height = 200;
      const projection = d3.geoNaturalEarth1()
          .scale(width / 1.5 / Math.PI)
          .translate([width / 2, height / 2]);
      const path = d3.geoPath().projection(projection);

      const svg = targetDiv.append("svg")
          .attr("width", width)
          .attr("height", height);

      d3.json("https://raw.githubusercontent.com/holtzy/D3-graph-gallery/master/DATA/world.geojson").then(data => {
        // Draw the map
        svg.append("g")
          .selectAll("path")
          .data(data.features)
          .join("path")
              .attr("fill", "#ccc")
              .attr("d", path)
              .style("stroke", "#fff");

        // Plotting the points
        coordinates.forEach(coords => {
          svg.append("circle")
            .attr("cx", projection(coords)[0])
            .attr("cy", projection(coords)[1])
            .attr("r", 2)
            .attr("fill", "red");
        });
      });
    }
    
    let data = [];
    let binWidth = 5;
data = [{'x': 359952.35, 'y': 29}, {'x': 430973.05000000005, 'y': 13}, {'x': 501993.75, 'y': 11}, {'x': 573014.45, 'y': 11}, {'x': 644035.15, 'y': 7}, {'x': 715055.85, 'y': 11}, {'x': 786076.5499999999, 'y': 11}, {'x': 857097.25, 'y': 12}, {'x': 928117.95, 'y': 7}, {'x': 999138.6499999999, 'y': 3}, {'x': 1070159.35, 'y': 5}, {'x': 1141180.0499999998, 'y': 4}, {'x': 1212200.75, 'y': 15}, {'x': 1283221.45, 'y': 37}, {'x': 1354242.15, 'y': 26}, {'x': 1425262.85, 'y': 20}, {'x': 1496283.5499999998, 'y': 7}, {'x': 1567304.25, 'y': 10}, {'x': 1638324.95, 'y': 15}, {'x': 1709345.65, 'y': 31}];
    binWidth = 71020.7;
    drawHistogram("hist_viz_average_sales_price", data, binWidth);
data = [{'x': -0.11725468777079064, 'y': 1}, {'x': -0.10698910861920051, 'y': 0}, {'x': -0.09672352946761038, 'y': 0}, {'x': -0.08645795031602026, 'y': 0}, {'x': -0.07619237116443013, 'y': 0}, {'x': -0.06592679201284002, 'y': 0}, {'x': -0.05566121286124989, 'y': 3}, {'x': -0.045395633709659766, 'y': 1}, {'x': -0.03513005455806964, 'y': 6}, {'x': -0.024864475406479514, 'y': 12}, {'x': -0.014598896254889387, 'y': 37}, {'x': -0.004333317103299268, 'y': 54}, {'x': 0.005932262048290851, 'y': 72}, {'x': 0.016197841199880977, 'y': 51}, {'x': 0.026463420351471104, 'y': 25}, {'x': 0.03672899950306123, 'y': 6}, {'x': 0.046994578654651356, 'y': 4}, {'x': 0.05726015780624148, 'y': 5}, {'x': 0.06752573695783161, 'y': 4}, {'x': 0.07779131610942173, 'y': 3}];
    binWidth = 0.010265579151590125;
    drawHistogram("hist_viz_month_over_month_change", data, binWidth);
data = [{'x': -0.15217435738751778, 'y': 5}, {'x': -0.13073096980118193, 'y': 4}, {'x': -0.10928758221484608, 'y': 1}, {'x': -0.08784419462851023, 'y': 4}, {'x': -0.06640080704217438, 'y': 2}, {'x': -0.04495741945583853, 'y': 3}, {'x': -0.023514031869502683, 'y': 11}, {'x': -0.0020706442831668337, 'y': 23}, {'x': 0.019372743303169015, 'y': 33}, {'x': 0.040816130889504865, 'y': 35}, {'x': 0.062259518475840714, 'y': 32}, {'x': 0.08370290606217656, 'y': 22}, {'x': 0.10514629364851241, 'y': 12}, {'x': 0.12658968123484826, 'y': 18}, {'x': 0.1480330688211841, 'y': 11}, {'x': 0.16947645640751996, 'y': 9}, {'x': 0.1909198439938558, 'y': 21}, {'x': 0.21236323158019166, 'y': 14}, {'x': 0.2338066191665275, 'y': 8}, {'x': 0.25525000675286336, 'y': 5}];
    binWidth = 0.02144338758633585;
    drawHistogram("hist_viz_year_over_year_change", data, binWidth);
data = [{'label': '1995-06-01', 'value': 0.3508771929824561}, {'label': '1995-09-01', 'value': 0.3508771929824561}, {'label': '1995-10-01', 'value': 0.3508771929824561}, {'label': '1996-07-01', 'value': 0.3508771929824561}, {'label': '1996-08-01', 'value': 0.3508771929824561}, {'label': 'Other values', 'value': 98.24561403508771}];
    drawBarChart("bar_viz_date_", data);


</script>
</body>
</html>