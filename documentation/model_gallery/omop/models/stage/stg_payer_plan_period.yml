version: 2
models:
- name: stg_payer_plan_period
  description: The table is about payer plan periods. It contains details of insurance
    coverage periods for individuals. Each record includes a unique ID, person ID,
    start and end dates of the coverage, reason for stopping, payer information, plan
    details, sponsor information, and family plan details. The table tracks insurance
    coverage periods and associated information for each person.
  columns:
  - name: person_id
    description: Unique identifier for each individual
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: stop_reason
    description: Reason for termination of the insurance coverage
    tests:
    - not_null
    - accepted_values:
        values:
        - Change of employment
        - End of contract
    cocoon_meta:
      future_accepted_values:
      - Retirement
      - Death
      - Voluntary cancellation
      - Non-payment of premiums
      - Policy expiration
      - Relocation
      - Employer changed insurance provider
      - Loss of eligibility
      - Divorce or separation
      - Child aged out of coverage
      - Fraud or misrepresentation
      - Insurance company cancellation
      - Bankruptcy of insurer
      - Change in coverage needs
      - Switch to government-provided insurance
      - Merger or acquisition of employer
      - Company downsizing
      - Termination of employment
      data_type:
        current_data_type: VARCHAR
  - name: payer_source_value
    description: This is the Payer as it appears in the source data.
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: plan_source_value
    description: This is the health benefit Plan of the Person as it appears in the
      source data.
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: sponsor_source_value
    description: The Plan sponsor as it appears in the source data.
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: family_plan_source_value
    description: The common identifier for all people (often a family) that covered
      by the same policy.
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: payer_plan_period_end_date
    description: End date of the insurance coverage period
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: DATE
  - name: payer_plan_period_id
    description: Unique identifier for each payer plan period
    tests:
    - not_null
    - unique
    cocoon_meta:
      unique_reason: This column is described as a unique identifier for each payer
        plan period. Since each row in this table represents a distinct payer plan
        period, this column should be unique across all rows.
      data_type:
        current_data_type: VARCHAR
  - name: payer_plan_period_start_date
    description: Start date of the insurance coverage period
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: DATE
