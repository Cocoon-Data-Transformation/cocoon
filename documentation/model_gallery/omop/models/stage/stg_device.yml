version: 2
models:
- name: stg_device
  description: The table is about device exposures. It contains details of medical
    devices used by patients. Each record includes a unique device ID, patient ID,
    exposure start and end dates/times, quantity, provider ID, visit ID, and device
    source value. The table tracks when and how long patients use specific medical
    devices during healthcare visits.
  columns:
  - name: device_id
    description: Unique identifier for each device exposure record
    tests:
    - not_null
    - unique
    cocoon_meta:
      unique_reason: This column appears to be a unique identifier for each device
        exposure record. For this table, each row represents a unique device exposure
        event, and device_id is likely to be unique across rows.
      data_type:
        current_data_type: INT
  - name: person_id
    description: Unique identifier for each patient
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: unique_device_id
    description: Unique identifier for the specific device used
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: quantity
    description: Number of devices used during the exposure
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: provider_id
    description: Identifier for the healthcare provider
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: visit_occurrence_id
    description: Identifier for the associated healthcare visit
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: INT
  - name: device_source_value
    description: Original value or code for the device
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: VARCHAR
  - name: device_exposure_end_date
    description: Date when device exposure ended
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: DATE
  - name: device_exposure_end_datetime
    description: Exact date and time when device exposure ended
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: TIMESTAMP
  - name: device_exposure_start_date
    description: Date when device exposure began
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: DATE
  - name: device_exposure_start_datetime
    description: Exact date and time when device exposure began
    tests:
    - not_null
    cocoon_meta:
      data_type:
        current_data_type: TIMESTAMP
