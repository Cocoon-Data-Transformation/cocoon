<!DOCTYPE html>
<html lang="en">
<head>
<title>Cocoon</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

<style>

html {
    height: 100%; /* Ensure the html element covers the full height */
    background-color: #f0f0f0; /* Set your desired background color */
}

body {
    /* Scale the entire content to 70% */
    transform: scale(0.75);
    transform-origin: top left; /* Adjust as needed */
    width: 133.33%; /* Increase width to fit, since scaling down shrinks the viewport */
    height: 133.33%; /* Adjust height similarly if necessary */
    overflow: auto; /* Add scrollbars if content overflows */
}

  body, h1, h2, p {
    margin: 0;
    padding: 0;
    font-family: 'Arial', sans-serif;
  }

  .container {
      display: flex;
      justify-content: space-between;
      align-items: center; /* This ensures the items are aligned in the middle vertically */
  }

  .map-container {
    width: 300px;
    height: 200px;
    border: 1px solid black;
  }
  
  .histogram-container {
    width: 300px;
    height: 100px;
    border: 1px solid black;
  }

  .chart-container { /* Style for the container */
      width: 200px;
      height: 80px;
      border: 1px solid black;
  }
  
  .bar-chart-container {
    width: 300px;
    height: 100px;
    border: 1px solid black;
  }

  .dashboard {
    display: grid;
    grid-template-areas:
      "main-panel right-panel"
      "bottom-panel right-panel";
    grid-template-rows: 1fr 1fr; /* Equal height for both rows */
    gap: 10px;
    height: 130vh;
    padding: 10px;
    background-color: #f0f0f0;
  }

  .main-panel {
      grid-area: main-panel;
      background-color: #ffffff;
      padding: 20px;
      position: relative; /* Set the main-panel to relative to position the chat box inside it */
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
      overflow: hidden;
      display: flex;
      flex-direction: column; /* Stack the children vertically */
  }

  .table-container {
      overflow-x: auto; /* Allows horizontal scrolling for the table */
      overflow-y: auto; /* Allows vertical scrolling for the table */
      flex-grow: 1;
      max-width: 100%; /* Ensures that the container doesn't exceed the width of its parent */
  }

  .right-panel {
    grid-area: right-panel;
    background-color: #fff;
    padding: 15px;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
    overflow-y: auto; /* Enable scrolling for the panel */
    width: 360px;
  }

  .indent {
      padding-left: 5px; /* Increase as needed for deeper indents */
      font-size: small;
      display: none;
  }

  .card-item {
    display: flex;
    align-items: center;
    background-color: #626262; /* White background for the card */
    border: 1px solid #626262; /* Light grey border */
    color: white;
    border-radius: 4px; /* Slightly rounded corners */
    margin-bottom: 6px; /* Space between card items */
    padding: 3px;
    padding-left: 10px;
    width: 320px;
  }

  .card-item-collapsed {
      background-color: #d0d0d0; /* Lighter background for collapsed card */
      border: 1px solid #d0d0d0; /* Lighter border for collapsed card */
      color: black; /* Change text color for better contrast on light background */
  }

  .icon {
    /* Styles for the icon, you can replace it with an actual icon font or image */
    padding-right: 20px;
  }

  .field-name {
    /* Styles for the field name */
    flex-grow: 1;
    padding-right: 20px;
    font-size: 14px;

  }

  .circle {
      background-color: red;
      font-size: small;
      border-radius: 50%;
      color: white;
      padding: 0px;
      text-align: center;
      display: inline-block;
        width: 16px;         /* Fixed width */
        height: 16px;        /* Fixed height */
        line-height: 16px;   /* Center the number vertically */
  }

  .circle2 {
      background-color: green;
      font-size: small;
      border-radius: 50%;
      color: white;
      padding: 0px;
      text-align: center;
      display: inline-block;
      /* Changes for a better circle */
        width: 16px;         /* Fixed width */
        height: 16px;        /* Fixed height */
        line-height: 16px;   /* Center the number vertically */
  }

  .card-controls {
    display: flex;
  }

  .drop-down-btn,
  .add-btn {
    /* Shared styles for buttons */
    background-color: #4CAF50; /* Green background */
    color: white;
    border: none;
    border-radius: 2px; /* Slightly rounded corners for the buttons */
    cursor: pointer;
    padding: 2px 6px; /* Smaller padding for a compact look */
    margin-left: 4px; /* Spacing between buttons */
  }

  .drop-down-btn:hover,
  .add-btn:hover {
    background-color: #45a049; /* Darker green on hover */
  }


  .bottom-panel {
    grid-area: bottom-panel;
    background-color: #ffffff;
    padding: 20px;
    box-shadow: 0 0 10px rgba(0,0,0,0.1);
    overflow-x: auto;
  }

  table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 20px;
    font-size: 0.9em;
    border-radius: 8px;
    overflow: hidden;

  }

  th, td {
    padding: 6px 8px;
    text-align: left;
    border-bottom: 1px solid #dddddd;
    border-right: 1px solid #dddddd;
  }


  th:last-child, td:last-child {
    border-right: none; /* Removes the border from the last cell of each row */
  }

  thead tr {
    background-color: #009879; /* Changed color for header */
    color: #ffffff; /* Changed text color for better contrast */
    text-align: left;
    font-weight: bold;
    font-size: 14px;
  }

  th {
    position: sticky;
    top: 0;
    background-color: #bebebe; /* Ensure the sticky header has the same background color */
  }

  tbody tr {
    background-color: #f9f9f9; /* Lighter color for content rows */
    font-size: 14px
  }


  tbody tr:last-of-type {
    border-bottom: 2px solid #009879;
  }

  tbody tr.active-row {
    font-weight: bold;
    color: #009879;
  }

  .link {
      fill: none;
      stroke: #555;
      stroke-opacity: 0.4;
      stroke-width: 1.5px;
  }

  .node {
      cursor: pointer;
  }

  .node circle {
      fill: #999;
      stroke: black;
      stroke-width: 1.5px;
  }

  .node text {
      font: 12px sans-serif;
      fill: #555;
  }

  .icons {
    /* Making the icon larger */
    font-size: 20px; /* You can adjust this value as needed */
    color: white; /* Icon color */
    background-color: black; /* Background color */
    padding: 6px 6px; /* Top/bottom padding and left/right padding */
    border-radius: 3px; /* Making the corners sharp for a rectangular look */
  }

</style>
</head>
<body>

<div class="dashboard">

    <div class="main-panel">
        <div class="container">
            <a href="https://github.com/Cocoon-Data-Transformation/cocoon" target="_blank" style="display: flex; align-items: center; text-decoration: none; color: black;">
                <img src="https://raw.githubusercontent.com/Cocoon-Data-Transformation/cocoon/main/images/cocoon_icon.png" alt="cocoon icon" width=50 style="margin-right: 10px;">
                <div style="margin: 0; padding: 0;"><h2 style="margin: 0; padding: 0;">Table Profile</h2>
                    <p style="margin: 0; padding: 0;">Powered by cocoon</p>
                </div>
            </a>
            <div><h1>AQI_and_Lat_Long_of_Countries</h1>(First 100 rows)</div>
            <div>
                <p style="text-align: right">Share Cocoon with the World ðŸ˜Š</p>
                <div>
                    <a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fgithub.com%2FCocoon-Data-Transformation%2Fcocoon&text=Can%27t+believe+how+amazing+the+table+profiles+are+created+by+Cocoon+using+AI.+It%27s+Open+sourced%21&related=ZacharyHuang12" target="_blank"  style="text-decoration: none;">
                        <i class="fa-brands fa-twitter icons"></i>
                    </a>
                    <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fgithub.com%2FCocoon-Data-Transformation%2Fcocoon" target="_blank"  style="text-decoration: none;">
                        <i class="fa-brands fa-facebook icons"></i>
                    </a>
                    <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fgithub.com%2FCocoon-Data-Transformation%2Fcocoon" target="_blank" style="text-decoration: none;">
                        <i class="fa-brands fa-linkedin icons"></i>
                    </a>
                    <a href="https://api.whatsapp.com/send?text=Can%27t%20believe%20how%20amazing%20the%20table%20profiles%20are%20created%20by%20Cocoon%20using%20AI.%20It%27s%20Open%20sourced%21%20https%3A%2F%2Fgithub.com%2FCocoon-Data-Transformation%2Fcocoon" target="_blank" style="text-decoration: none;">
                        <i class="fa-brands fa-whatsapp icons"></i>
                    </a>
                    <a href="https://www.reddit.com/submit?url=https%3A%2F%2Fgithub.com%2FCocoon-Data-Transformation%2Fcocoon&title=Can%27t%20believe%20how%20amazing%20the%20table%20profiles%20are%20created%20by%20Cocoon%20using%20AI.%20It%27s%20Open%20sourced%21" target="_blank" style="text-decoration: none;">
                        <i class="fa-brands fa-reddit icons"></i>
                    </a>
                    <a href="https://pinterest.com/pin/create/button/?url=https%3A%2F%2Fgithub.com%2FCocoon-Data-Transformation%2Fcocoon&media=&description=Can%27t%20believe%20how%20amazing%20the%20table%20profiles%20are%20created%20by%20Cocoon%20using%20AI.%20It%27s%20Open%20sourced%21" target="_blank" style="text-decoration: none;">
                        <i class="fa-brands fa-pinterest icons"></i>
                    </a>
                    <a href="https://www.tumblr.com/widgets/share/tool?posttype=link&title=Can%27t%20believe%20how%20amazing%20the%20table%20profiles%20are%20created%20by%20Cocoon%20using%20AI.%20It%27s%20Open%20sourced%21&caption=&content=https%3A%2F%2Fgithub.com%2FCocoon-Data-Transformation%2Fcocoon&canonicalUrl=https%3A%2F%2Fgithub.com%2FCocoon-Data-Transformation%2Fcocoon&shareSource=tumblr_share_button" target="_blank" style="text-decoration: none;">
                        <i class="fa-brands fa-tumblr icons"></i>
                    </a>

                </div>
            </div>
        </div>

        <div class="table-container">
            <table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Country</th>
      <th>City</th>
      <th>AQI_Value</th>
      <th>AQI_Category</th>
      <th>CO_AQI_Value</th>
      <th>CO_AQI_Category</th>
      <th>Ozone_AQI_Value</th>
      <th>Ozone_AQI_Category</th>
      <th>NO2_AQI_Value</th>
      <th>NO2_AQI_Category</th>
      <th>PM2_5_AQI_Value</th>
      <th>PM2_5_AQI_Category</th>
      <th>lat</th>
      <th>lng</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Russian Federation</td>
      <td>Praskoveya</td>
      <td>51</td>
      <td>Moderate</td>
      <td>1</td>
      <td>Good</td>
      <td>36</td>
      <td>Good</td>
      <td>0</td>
      <td>Good</td>
      <td>51</td>
      <td>Moderate</td>
      <td>44.7444</td>
      <td>44.2031</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Brazil</td>
      <td>Presidente Dutra</td>
      <td>41</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>5</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>41</td>
      <td>Good</td>
      <td>-5.2900</td>
      <td>-44.4900</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Brazil</td>
      <td>Presidente Dutra</td>
      <td>41</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>5</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>41</td>
      <td>Good</td>
      <td>-11.2958</td>
      <td>-41.9869</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Italy</td>
      <td>Priolo Gargallo</td>
      <td>66</td>
      <td>Moderate</td>
      <td>1</td>
      <td>Good</td>
      <td>39</td>
      <td>Good</td>
      <td>2</td>
      <td>Good</td>
      <td>66</td>
      <td>Moderate</td>
      <td>37.1667</td>
      <td>15.1833</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Poland</td>
      <td>Przasnysz</td>
      <td>34</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>34</td>
      <td>Good</td>
      <td>0</td>
      <td>Good</td>
      <td>20</td>
      <td>Good</td>
      <td>53.0167</td>
      <td>20.8833</td>
    </tr>
    <tr>
      <th>5</th>
      <td>United States of America</td>
      <td>Punta Gorda</td>
      <td>54</td>
      <td>Moderate</td>
      <td>1</td>
      <td>Good</td>
      <td>14</td>
      <td>Good</td>
      <td>11</td>
      <td>Good</td>
      <td>54</td>
      <td>Moderate</td>
      <td>16.1005</td>
      <td>-88.8074</td>
    </tr>
    <tr>
      <th>6</th>
      <td>United States of America</td>
      <td>Punta Gorda</td>
      <td>54</td>
      <td>Moderate</td>
      <td>1</td>
      <td>Good</td>
      <td>14</td>
      <td>Good</td>
      <td>11</td>
      <td>Good</td>
      <td>54</td>
      <td>Moderate</td>
      <td>26.8941</td>
      <td>-82.0513</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Belgium</td>
      <td>Puurs</td>
      <td>64</td>
      <td>Moderate</td>
      <td>1</td>
      <td>Good</td>
      <td>29</td>
      <td>Good</td>
      <td>7</td>
      <td>Good</td>
      <td>64</td>
      <td>Moderate</td>
      <td>51.0761</td>
      <td>4.2803</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Russian Federation</td>
      <td>Pyatigorsk</td>
      <td>54</td>
      <td>Moderate</td>
      <td>1</td>
      <td>Good</td>
      <td>41</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>54</td>
      <td>Moderate</td>
      <td>44.0500</td>
      <td>43.0667</td>
    </tr>
    <tr>
      <th>9</th>
      <td>China</td>
      <td>Qinzhou</td>
      <td>68</td>
      <td>Moderate</td>
      <td>2</td>
      <td>Good</td>
      <td>68</td>
      <td>Moderate</td>
      <td>1</td>
      <td>Good</td>
      <td>58</td>
      <td>Moderate</td>
      <td>21.9500</td>
      <td>108.6167</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Netherlands</td>
      <td>Raalte</td>
      <td>41</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>24</td>
      <td>Good</td>
      <td>6</td>
      <td>Good</td>
      <td>41</td>
      <td>Good</td>
      <td>52.3833</td>
      <td>6.2667</td>
    </tr>
    <tr>
      <th>11</th>
      <td>France</td>
      <td>Raismes</td>
      <td>59</td>
      <td>Moderate</td>
      <td>1</td>
      <td>Good</td>
      <td>30</td>
      <td>Good</td>
      <td>4</td>
      <td>Good</td>
      <td>59</td>
      <td>Moderate</td>
      <td>50.3892</td>
      <td>3.4858</td>
    </tr>
    <tr>
      <th>12</th>
      <td>Italy</td>
      <td>Ramacca</td>
      <td>55</td>
      <td>Moderate</td>
      <td>1</td>
      <td>Good</td>
      <td>47</td>
      <td>Good</td>
      <td>0</td>
      <td>Good</td>
      <td>55</td>
      <td>Moderate</td>
      <td>37.3833</td>
      <td>14.7000</td>
    </tr>
    <tr>
      <th>13</th>
      <td>United States of America</td>
      <td>Phoenix</td>
      <td>72</td>
      <td>Moderate</td>
      <td>1</td>
      <td>Good</td>
      <td>4</td>
      <td>Good</td>
      <td>23</td>
      <td>Good</td>
      <td>72</td>
      <td>Moderate</td>
      <td>33.5722</td>
      <td>-112.0892</td>
    </tr>
    <tr>
      <th>14</th>
      <td>Poland</td>
      <td>Piaseczno</td>
      <td>28</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>28</td>
      <td>Good</td>
      <td>2</td>
      <td>Good</td>
      <td>28</td>
      <td>Good</td>
      <td>52.0667</td>
      <td>21.0167</td>
    </tr>
    <tr>
      <th>15</th>
      <td>Brazil</td>
      <td>Pinheiral</td>
      <td>154</td>
      <td>Unhealthy</td>
      <td>5</td>
      <td>Good</td>
      <td>0</td>
      <td>Good</td>
      <td>13</td>
      <td>Good</td>
      <td>154</td>
      <td>Unhealthy</td>
      <td>-22.5128</td>
      <td>-44.0008</td>
    </tr>
    <tr>
      <th>16</th>
      <td>Colombia</td>
      <td>Plato</td>
      <td>67</td>
      <td>Moderate</td>
      <td>1</td>
      <td>Good</td>
      <td>16</td>
      <td>Good</td>
      <td>2</td>
      <td>Good</td>
      <td>67</td>
      <td>Moderate</td>
      <td>9.7919</td>
      <td>-74.7872</td>
    </tr>
    <tr>
      <th>17</th>
      <td>Romania</td>
      <td>Poiana Mare</td>
      <td>62</td>
      <td>Moderate</td>
      <td>1</td>
      <td>Good</td>
      <td>37</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>62</td>
      <td>Moderate</td>
      <td>43.9333</td>
      <td>23.0833</td>
    </tr>
    <tr>
      <th>18</th>
      <td>Russian Federation</td>
      <td>Polevskoy</td>
      <td>31</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>31</td>
      <td>Good</td>
      <td>0</td>
      <td>Good</td>
      <td>17</td>
      <td>Good</td>
      <td>56.4500</td>
      <td>60.1833</td>
    </tr>
    <tr>
      <th>19</th>
      <td>France</td>
      <td>Pontarlier</td>
      <td>56</td>
      <td>Moderate</td>
      <td>1</td>
      <td>Good</td>
      <td>35</td>
      <td>Good</td>
      <td>0</td>
      <td>Good</td>
      <td>56</td>
      <td>Moderate</td>
      <td>46.9061</td>
      <td>6.3547</td>
    </tr>
    <tr>
      <th>20</th>
      <td>United States of America</td>
      <td>Pontiac</td>
      <td>77</td>
      <td>Moderate</td>
      <td>2</td>
      <td>Good</td>
      <td>22</td>
      <td>Good</td>
      <td>15</td>
      <td>Good</td>
      <td>77</td>
      <td>Moderate</td>
      <td>42.6493</td>
      <td>-83.2878</td>
    </tr>
    <tr>
      <th>21</th>
      <td>United States of America</td>
      <td>Pontiac</td>
      <td>77</td>
      <td>Moderate</td>
      <td>2</td>
      <td>Good</td>
      <td>22</td>
      <td>Good</td>
      <td>15</td>
      <td>Good</td>
      <td>77</td>
      <td>Moderate</td>
      <td>40.8894</td>
      <td>-88.6409</td>
    </tr>
    <tr>
      <th>22</th>
      <td>Indonesia</td>
      <td>Pontianak</td>
      <td>44</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>15</td>
      <td>Good</td>
      <td>0</td>
      <td>Good</td>
      <td>44</td>
      <td>Good</td>
      <td>-0.0206</td>
      <td>109.3414</td>
    </tr>
    <tr>
      <th>23</th>
      <td>Brazil</td>
      <td>Porecatu</td>
      <td>30</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>9</td>
      <td>Good</td>
      <td>2</td>
      <td>Good</td>
      <td>30</td>
      <td>Good</td>
      <td>-22.7558</td>
      <td>-51.3789</td>
    </tr>
    <tr>
      <th>24</th>
      <td>Finland</td>
      <td>Pori</td>
      <td>30</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>30</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>15</td>
      <td>Good</td>
      <td>61.4833</td>
      <td>21.8000</td>
    </tr>
    <tr>
      <th>25</th>
      <td>South Africa</td>
      <td>Port Elizabeth</td>
      <td>79</td>
      <td>Moderate</td>
      <td>3</td>
      <td>Good</td>
      <td>18</td>
      <td>Good</td>
      <td>5</td>
      <td>Good</td>
      <td>79</td>
      <td>Moderate</td>
      <td>-33.9581</td>
      <td>25.6000</td>
    </tr>
    <tr>
      <th>26</th>
      <td>United States of America</td>
      <td>Port Neches</td>
      <td>34</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>19</td>
      <td>Good</td>
      <td>7</td>
      <td>Good</td>
      <td>34</td>
      <td>Good</td>
      <td>29.9765</td>
      <td>-93.9459</td>
    </tr>
    <tr>
      <th>27</th>
      <td>United Kingdom of Great Britain and Northern Ireland</td>
      <td>Port Talbot</td>
      <td>51</td>
      <td>Moderate</td>
      <td>1</td>
      <td>Good</td>
      <td>20</td>
      <td>Good</td>
      <td>5</td>
      <td>Good</td>
      <td>51</td>
      <td>Moderate</td>
      <td>51.5906</td>
      <td>-3.7986</td>
    </tr>
    <tr>
      <th>28</th>
      <td>United States of America</td>
      <td>Portales</td>
      <td>77</td>
      <td>Moderate</td>
      <td>1</td>
      <td>Good</td>
      <td>34</td>
      <td>Good</td>
      <td>0</td>
      <td>Good</td>
      <td>77</td>
      <td>Moderate</td>
      <td>34.1754</td>
      <td>-103.3565</td>
    </tr>
    <tr>
      <th>29</th>
      <td>United States of America</td>
      <td>Post Falls</td>
      <td>61</td>
      <td>Moderate</td>
      <td>1</td>
      <td>Good</td>
      <td>32</td>
      <td>Good</td>
      <td>3</td>
      <td>Good</td>
      <td>61</td>
      <td>Moderate</td>
      <td>47.7213</td>
      <td>-116.9384</td>
    </tr>
    <tr>
      <th>30</th>
      <td>Brazil</td>
      <td>Pouso Alegre</td>
      <td>32</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>7</td>
      <td>Good</td>
      <td>2</td>
      <td>Good</td>
      <td>32</td>
      <td>Good</td>
      <td>-22.2281</td>
      <td>-45.9336</td>
    </tr>
    <tr>
      <th>31</th>
      <td>Russian Federation</td>
      <td>Dalnegorsk</td>
      <td>29</td>
      <td>Good</td>
      <td>0</td>
      <td>Good</td>
      <td>29</td>
      <td>Good</td>
      <td>0</td>
      <td>Good</td>
      <td>25</td>
      <td>Good</td>
      <td>44.5500</td>
      <td>135.5833</td>
    </tr>
    <tr>
      <th>32</th>
      <td>India</td>
      <td>Darbhanga</td>
      <td>247</td>
      <td>Very Unhealthy</td>
      <td>3</td>
      <td>Good</td>
      <td>162</td>
      <td>Unhealthy</td>
      <td>1</td>
      <td>Good</td>
      <td>247</td>
      <td>Very Unhealthy</td>
      <td>26.1700</td>
      <td>85.9000</td>
    </tr>
    <tr>
      <th>33</th>
      <td>United States of America</td>
      <td>Dayton</td>
      <td>45</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>32</td>
      <td>Good</td>
      <td>7</td>
      <td>Good</td>
      <td>45</td>
      <td>Good</td>
      <td>39.7805</td>
      <td>-84.2003</td>
    </tr>
    <tr>
      <th>34</th>
      <td>United States of America</td>
      <td>Dayton</td>
      <td>45</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>32</td>
      <td>Good</td>
      <td>7</td>
      <td>Good</td>
      <td>45</td>
      <td>Good</td>
      <td>39.2592</td>
      <td>-119.5653</td>
    </tr>
    <tr>
      <th>35</th>
      <td>United States of America</td>
      <td>Dayton</td>
      <td>45</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>32</td>
      <td>Good</td>
      <td>7</td>
      <td>Good</td>
      <td>45</td>
      <td>Good</td>
      <td>30.0315</td>
      <td>-94.9158</td>
    </tr>
    <tr>
      <th>36</th>
      <td>Belgium</td>
      <td>Deinze</td>
      <td>36</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>25</td>
      <td>Good</td>
      <td>3</td>
      <td>Good</td>
      <td>36</td>
      <td>Good</td>
      <td>50.9833</td>
      <td>3.5333</td>
    </tr>
    <tr>
      <th>37</th>
      <td>Haiti</td>
      <td>Delmas</td>
      <td>124</td>
      <td>Unhealthy for Sensitive Groups</td>
      <td>2</td>
      <td>Good</td>
      <td>15</td>
      <td>Good</td>
      <td>5</td>
      <td>Good</td>
      <td>124</td>
      <td>Unhealthy for Sensitive Groups</td>
      <td>18.5500</td>
      <td>-72.3000</td>
    </tr>
    <tr>
      <th>38</th>
      <td>United States of America</td>
      <td>Deming</td>
      <td>72</td>
      <td>Moderate</td>
      <td>1</td>
      <td>Good</td>
      <td>26</td>
      <td>Good</td>
      <td>2</td>
      <td>Good</td>
      <td>72</td>
      <td>Moderate</td>
      <td>32.2631</td>
      <td>-107.7525</td>
    </tr>
    <tr>
      <th>39</th>
      <td>United Kingdom of Great Britain and Northern Ireland</td>
      <td>Denton</td>
      <td>55</td>
      <td>Moderate</td>
      <td>0</td>
      <td>Good</td>
      <td>32</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>55</td>
      <td>Moderate</td>
      <td>33.2175</td>
      <td>-97.1418</td>
    </tr>
    <tr>
      <th>40</th>
      <td>United Kingdom of Great Britain and Northern Ireland</td>
      <td>Denton</td>
      <td>55</td>
      <td>Moderate</td>
      <td>0</td>
      <td>Good</td>
      <td>32</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>55</td>
      <td>Moderate</td>
      <td>53.4554</td>
      <td>-2.1122</td>
    </tr>
    <tr>
      <th>41</th>
      <td>United States of America</td>
      <td>Destin</td>
      <td>31</td>
      <td>Good</td>
      <td>0</td>
      <td>Good</td>
      <td>31</td>
      <td>Good</td>
      <td>0</td>
      <td>Good</td>
      <td>25</td>
      <td>Good</td>
      <td>30.3950</td>
      <td>-86.4701</td>
    </tr>
    <tr>
      <th>42</th>
      <td>India</td>
      <td>Dharmapuri</td>
      <td>60</td>
      <td>Moderate</td>
      <td>1</td>
      <td>Good</td>
      <td>31</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>60</td>
      <td>Moderate</td>
      <td>12.1270</td>
      <td>78.1580</td>
    </tr>
    <tr>
      <th>43</th>
      <td>Philippines</td>
      <td>Dipolog</td>
      <td>30</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>17</td>
      <td>Good</td>
      <td>0</td>
      <td>Good</td>
      <td>30</td>
      <td>Good</td>
      <td>8.5872</td>
      <td>123.3408</td>
    </tr>
    <tr>
      <th>44</th>
      <td>Latvia</td>
      <td>Dobele</td>
      <td>44</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>34</td>
      <td>Good</td>
      <td>0</td>
      <td>Good</td>
      <td>44</td>
      <td>Good</td>
      <td>56.6167</td>
      <td>23.2667</td>
    </tr>
    <tr>
      <th>45</th>
      <td>United States of America</td>
      <td>Grandville</td>
      <td>47</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>37</td>
      <td>Good</td>
      <td>4</td>
      <td>Good</td>
      <td>47</td>
      <td>Good</td>
      <td>42.9004</td>
      <td>-85.7564</td>
    </tr>
    <tr>
      <th>46</th>
      <td>Netherlands</td>
      <td>Grave</td>
      <td>37</td>
      <td>Good</td>
      <td>0</td>
      <td>Good</td>
      <td>32</td>
      <td>Good</td>
      <td>2</td>
      <td>Good</td>
      <td>37</td>
      <td>Good</td>
      <td>51.7667</td>
      <td>5.7333</td>
    </tr>
    <tr>
      <th>47</th>
      <td>United States of America</td>
      <td>Green Valley</td>
      <td>44</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>14</td>
      <td>Good</td>
      <td>8</td>
      <td>Good</td>
      <td>44</td>
      <td>Good</td>
      <td>31.8393</td>
      <td>-111.0009</td>
    </tr>
    <tr>
      <th>48</th>
      <td>United States of America</td>
      <td>Green Valley</td>
      <td>44</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>14</td>
      <td>Good</td>
      <td>8</td>
      <td>Good</td>
      <td>44</td>
      <td>Good</td>
      <td>39.3414</td>
      <td>-77.2400</td>
    </tr>
    <tr>
      <th>49</th>
      <td>United States of America</td>
      <td>Greendale</td>
      <td>58</td>
      <td>Moderate</td>
      <td>2</td>
      <td>Good</td>
      <td>14</td>
      <td>Good</td>
      <td>24</td>
      <td>Good</td>
      <td>58</td>
      <td>Moderate</td>
      <td>42.9371</td>
      <td>-88.0018</td>
    </tr>
    <tr>
      <th>50</th>
      <td>Colombia</td>
      <td>Guamo</td>
      <td>89</td>
      <td>Moderate</td>
      <td>3</td>
      <td>Good</td>
      <td>3</td>
      <td>Good</td>
      <td>6</td>
      <td>Good</td>
      <td>89</td>
      <td>Moderate</td>
      <td>4.0833</td>
      <td>-74.9167</td>
    </tr>
    <tr>
      <th>51</th>
      <td>Italy</td>
      <td>Guardiagrele</td>
      <td>52</td>
      <td>Moderate</td>
      <td>2</td>
      <td>Good</td>
      <td>38</td>
      <td>Good</td>
      <td>7</td>
      <td>Good</td>
      <td>52</td>
      <td>Moderate</td>
      <td>42.2000</td>
      <td>14.2167</td>
    </tr>
    <tr>
      <th>52</th>
      <td>United Kingdom of Great Britain and Northern Ireland</td>
      <td>Guildford</td>
      <td>51</td>
      <td>Moderate</td>
      <td>1</td>
      <td>Good</td>
      <td>25</td>
      <td>Good</td>
      <td>6</td>
      <td>Good</td>
      <td>51</td>
      <td>Moderate</td>
      <td>51.2365</td>
      <td>-0.5703</td>
    </tr>
    <tr>
      <th>53</th>
      <td>Russian Federation</td>
      <td>Gukovo</td>
      <td>38</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>38</td>
      <td>Good</td>
      <td>0</td>
      <td>Good</td>
      <td>13</td>
      <td>Good</td>
      <td>48.0500</td>
      <td>39.9167</td>
    </tr>
    <tr>
      <th>54</th>
      <td>United States of America</td>
      <td>Hazelwood</td>
      <td>88</td>
      <td>Moderate</td>
      <td>2</td>
      <td>Good</td>
      <td>11</td>
      <td>Good</td>
      <td>20</td>
      <td>Good</td>
      <td>88</td>
      <td>Moderate</td>
      <td>38.7931</td>
      <td>-90.3899</td>
    </tr>
    <tr>
      <th>55</th>
      <td>Germany</td>
      <td>Heddesheim</td>
      <td>54</td>
      <td>Moderate</td>
      <td>1</td>
      <td>Good</td>
      <td>31</td>
      <td>Good</td>
      <td>3</td>
      <td>Good</td>
      <td>54</td>
      <td>Moderate</td>
      <td>49.5053</td>
      <td>8.6033</td>
    </tr>
    <tr>
      <th>56</th>
      <td>Germany</td>
      <td>Heiligenhaus</td>
      <td>44</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>28</td>
      <td>Good</td>
      <td>3</td>
      <td>Good</td>
      <td>44</td>
      <td>Good</td>
      <td>51.3167</td>
      <td>6.9667</td>
    </tr>
    <tr>
      <th>57</th>
      <td>United Kingdom of Great Britain and Northern Ireland</td>
      <td>Hemel Hempstead</td>
      <td>51</td>
      <td>Moderate</td>
      <td>1</td>
      <td>Good</td>
      <td>26</td>
      <td>Good</td>
      <td>6</td>
      <td>Good</td>
      <td>51</td>
      <td>Moderate</td>
      <td>51.7526</td>
      <td>-0.4692</td>
    </tr>
    <tr>
      <th>58</th>
      <td>United States of America</td>
      <td>Hicksville</td>
      <td>67</td>
      <td>Moderate</td>
      <td>2</td>
      <td>Good</td>
      <td>15</td>
      <td>Good</td>
      <td>23</td>
      <td>Good</td>
      <td>67</td>
      <td>Moderate</td>
      <td>40.7637</td>
      <td>-73.5245</td>
    </tr>
    <tr>
      <th>59</th>
      <td>Germany</td>
      <td>Haiger</td>
      <td>49</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>25</td>
      <td>Good</td>
      <td>3</td>
      <td>Good</td>
      <td>49</td>
      <td>Good</td>
      <td>50.7422</td>
      <td>8.2039</td>
    </tr>
    <tr>
      <th>60</th>
      <td>China</td>
      <td>Hangzhou</td>
      <td>203</td>
      <td>Very Unhealthy</td>
      <td>5</td>
      <td>Good</td>
      <td>203</td>
      <td>Very Unhealthy</td>
      <td>5</td>
      <td>Good</td>
      <td>151</td>
      <td>Unhealthy</td>
      <td>30.2500</td>
      <td>120.1675</td>
    </tr>
    <tr>
      <th>61</th>
      <td>Germany</td>
      <td>Harrislee</td>
      <td>35</td>
      <td>Good</td>
      <td>0</td>
      <td>Good</td>
      <td>32</td>
      <td>Good</td>
      <td>0</td>
      <td>Good</td>
      <td>35</td>
      <td>Good</td>
      <td>54.7972</td>
      <td>9.3764</td>
    </tr>
    <tr>
      <th>62</th>
      <td>United States of America</td>
      <td>Harrison</td>
      <td>90</td>
      <td>Moderate</td>
      <td>1</td>
      <td>Good</td>
      <td>25</td>
      <td>Good</td>
      <td>2</td>
      <td>Good</td>
      <td>90</td>
      <td>Moderate</td>
      <td>40.7431</td>
      <td>-74.1531</td>
    </tr>
    <tr>
      <th>63</th>
      <td>United States of America</td>
      <td>Harrison</td>
      <td>90</td>
      <td>Moderate</td>
      <td>1</td>
      <td>Good</td>
      <td>25</td>
      <td>Good</td>
      <td>2</td>
      <td>Good</td>
      <td>90</td>
      <td>Moderate</td>
      <td>41.0236</td>
      <td>-73.7193</td>
    </tr>
    <tr>
      <th>64</th>
      <td>United States of America</td>
      <td>Harrison</td>
      <td>90</td>
      <td>Moderate</td>
      <td>1</td>
      <td>Good</td>
      <td>25</td>
      <td>Good</td>
      <td>2</td>
      <td>Good</td>
      <td>90</td>
      <td>Moderate</td>
      <td>36.2438</td>
      <td>-93.1198</td>
    </tr>
    <tr>
      <th>65</th>
      <td>United States of America</td>
      <td>Harrison</td>
      <td>90</td>
      <td>Moderate</td>
      <td>1</td>
      <td>Good</td>
      <td>25</td>
      <td>Good</td>
      <td>2</td>
      <td>Good</td>
      <td>90</td>
      <td>Moderate</td>
      <td>39.2584</td>
      <td>-84.7868</td>
    </tr>
    <tr>
      <th>66</th>
      <td>United States of America</td>
      <td>Harrison</td>
      <td>90</td>
      <td>Moderate</td>
      <td>1</td>
      <td>Good</td>
      <td>25</td>
      <td>Good</td>
      <td>2</td>
      <td>Good</td>
      <td>90</td>
      <td>Moderate</td>
      <td>44.1935</td>
      <td>-88.2941</td>
    </tr>
    <tr>
      <th>67</th>
      <td>United States of America</td>
      <td>Harrison</td>
      <td>90</td>
      <td>Moderate</td>
      <td>1</td>
      <td>Good</td>
      <td>25</td>
      <td>Good</td>
      <td>2</td>
      <td>Good</td>
      <td>90</td>
      <td>Moderate</td>
      <td>40.6374</td>
      <td>-79.7173</td>
    </tr>
    <tr>
      <th>68</th>
      <td>Germany</td>
      <td>Hasbergen</td>
      <td>36</td>
      <td>Good</td>
      <td>0</td>
      <td>Good</td>
      <td>34</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>36</td>
      <td>Good</td>
      <td>52.2167</td>
      <td>7.9167</td>
    </tr>
    <tr>
      <th>69</th>
      <td>France</td>
      <td>Haubourdin</td>
      <td>48</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>28</td>
      <td>Good</td>
      <td>4</td>
      <td>Good</td>
      <td>48</td>
      <td>Good</td>
      <td>50.6092</td>
      <td>2.9869</td>
    </tr>
    <tr>
      <th>70</th>
      <td>United States of America</td>
      <td>Taunton</td>
      <td>41</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>28</td>
      <td>Good</td>
      <td>10</td>
      <td>Good</td>
      <td>41</td>
      <td>Good</td>
      <td>51.0190</td>
      <td>-3.1000</td>
    </tr>
    <tr>
      <th>71</th>
      <td>United States of America</td>
      <td>Taunton</td>
      <td>41</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>28</td>
      <td>Good</td>
      <td>10</td>
      <td>Good</td>
      <td>41</td>
      <td>Good</td>
      <td>41.9036</td>
      <td>-71.0943</td>
    </tr>
    <tr>
      <th>72</th>
      <td>New Zealand</td>
      <td>Tauranga</td>
      <td>19</td>
      <td>Good</td>
      <td>0</td>
      <td>Good</td>
      <td>19</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>17</td>
      <td>Good</td>
      <td>-37.6833</td>
      <td>176.1667</td>
    </tr>
    <tr>
      <th>73</th>
      <td>Italy</td>
      <td>Teano</td>
      <td>47</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>47</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>36</td>
      <td>Good</td>
      <td>41.2500</td>
      <td>14.0667</td>
    </tr>
    <tr>
      <th>74</th>
      <td>India</td>
      <td>Tekkali</td>
      <td>155</td>
      <td>Unhealthy</td>
      <td>3</td>
      <td>Good</td>
      <td>82</td>
      <td>Moderate</td>
      <td>1</td>
      <td>Good</td>
      <td>155</td>
      <td>Unhealthy</td>
      <td>18.6057</td>
      <td>84.2355</td>
    </tr>
    <tr>
      <th>75</th>
      <td>Brazil</td>
      <td>Teodoro Sampaio</td>
      <td>46</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>9</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>46</td>
      <td>Good</td>
      <td>-22.5328</td>
      <td>-52.1678</td>
    </tr>
    <tr>
      <th>76</th>
      <td>Mexico</td>
      <td>Tequila</td>
      <td>64</td>
      <td>Moderate</td>
      <td>1</td>
      <td>Good</td>
      <td>15</td>
      <td>Good</td>
      <td>2</td>
      <td>Good</td>
      <td>64</td>
      <td>Moderate</td>
      <td>20.8794</td>
      <td>-103.8356</td>
    </tr>
    <tr>
      <th>77</th>
      <td>Italy</td>
      <td>Teramo</td>
      <td>44</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>44</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>38</td>
      <td>Good</td>
      <td>42.6589</td>
      <td>13.7039</td>
    </tr>
    <tr>
      <th>78</th>
      <td>China</td>
      <td>Tianjin</td>
      <td>142</td>
      <td>Unhealthy for Sensitive Groups</td>
      <td>4</td>
      <td>Good</td>
      <td>113</td>
      <td>Unhealthy for Sensitive Groups</td>
      <td>9</td>
      <td>Good</td>
      <td>142</td>
      <td>Unhealthy for Sensitive Groups</td>
      <td>39.1467</td>
      <td>117.2056</td>
    </tr>
    <tr>
      <th>79</th>
      <td>Philippines</td>
      <td>Toboso</td>
      <td>54</td>
      <td>Moderate</td>
      <td>1</td>
      <td>Good</td>
      <td>20</td>
      <td>Good</td>
      <td>0</td>
      <td>Good</td>
      <td>54</td>
      <td>Moderate</td>
      <td>10.7167</td>
      <td>123.5167</td>
    </tr>
    <tr>
      <th>80</th>
      <td>Japan</td>
      <td>Tokorozawa</td>
      <td>60</td>
      <td>Moderate</td>
      <td>1</td>
      <td>Good</td>
      <td>44</td>
      <td>Good</td>
      <td>3</td>
      <td>Good</td>
      <td>60</td>
      <td>Moderate</td>
      <td>35.7996</td>
      <td>139.4686</td>
    </tr>
    <tr>
      <th>81</th>
      <td>Mexico</td>
      <td>Toluca</td>
      <td>166</td>
      <td>Unhealthy</td>
      <td>4</td>
      <td>Good</td>
      <td>8</td>
      <td>Good</td>
      <td>19</td>
      <td>Good</td>
      <td>166</td>
      <td>Unhealthy</td>
      <td>19.2925</td>
      <td>-99.6569</td>
    </tr>
    <tr>
      <th>82</th>
      <td>Brazil</td>
      <td>Itapissuma</td>
      <td>27</td>
      <td>Good</td>
      <td>0</td>
      <td>Good</td>
      <td>23</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>27</td>
      <td>Good</td>
      <td>-7.7764</td>
      <td>-34.8919</td>
    </tr>
    <tr>
      <th>83</th>
      <td>Brazil</td>
      <td>Itarantim</td>
      <td>23</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>7</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>23</td>
      <td>Good</td>
      <td>-15.6600</td>
      <td>-40.0658</td>
    </tr>
    <tr>
      <th>84</th>
      <td>Brazil</td>
      <td>Itumbiara</td>
      <td>31</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>13</td>
      <td>Good</td>
      <td>0</td>
      <td>Good</td>
      <td>31</td>
      <td>Good</td>
      <td>-18.4167</td>
      <td>-49.2167</td>
    </tr>
    <tr>
      <th>85</th>
      <td>El Salvador</td>
      <td>Izalco</td>
      <td>90</td>
      <td>Moderate</td>
      <td>2</td>
      <td>Good</td>
      <td>22</td>
      <td>Good</td>
      <td>9</td>
      <td>Good</td>
      <td>90</td>
      <td>Moderate</td>
      <td>13.7333</td>
      <td>-89.6667</td>
    </tr>
    <tr>
      <th>86</th>
      <td>Russian Federation</td>
      <td>Izberbash</td>
      <td>51</td>
      <td>Moderate</td>
      <td>1</td>
      <td>Good</td>
      <td>38</td>
      <td>Good</td>
      <td>0</td>
      <td>Good</td>
      <td>51</td>
      <td>Moderate</td>
      <td>42.5633</td>
      <td>47.8636</td>
    </tr>
    <tr>
      <th>87</th>
      <td>India</td>
      <td>Jabalpur</td>
      <td>170</td>
      <td>Unhealthy</td>
      <td>1</td>
      <td>Good</td>
      <td>38</td>
      <td>Good</td>
      <td>0</td>
      <td>Good</td>
      <td>170</td>
      <td>Unhealthy</td>
      <td>23.1667</td>
      <td>79.9333</td>
    </tr>
    <tr>
      <th>88</th>
      <td>Brazil</td>
      <td>Jaguaquara</td>
      <td>22</td>
      <td>Good</td>
      <td>0</td>
      <td>Good</td>
      <td>9</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>22</td>
      <td>Good</td>
      <td>-13.5308</td>
      <td>-39.9708</td>
    </tr>
    <tr>
      <th>89</th>
      <td>Poland</td>
      <td>Jarocin</td>
      <td>47</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>27</td>
      <td>Good</td>
      <td>2</td>
      <td>Good</td>
      <td>47</td>
      <td>Good</td>
      <td>51.9667</td>
      <td>17.5000</td>
    </tr>
    <tr>
      <th>90</th>
      <td>Philippines</td>
      <td>Jasaan</td>
      <td>59</td>
      <td>Moderate</td>
      <td>1</td>
      <td>Good</td>
      <td>32</td>
      <td>Good</td>
      <td>0</td>
      <td>Good</td>
      <td>59</td>
      <td>Moderate</td>
      <td>8.6500</td>
      <td>124.7500</td>
    </tr>
    <tr>
      <th>91</th>
      <td>Nigeria</td>
      <td>Ilobu</td>
      <td>133</td>
      <td>Unhealthy for Sensitive Groups</td>
      <td>4</td>
      <td>Good</td>
      <td>23</td>
      <td>Good</td>
      <td>3</td>
      <td>Good</td>
      <td>133</td>
      <td>Unhealthy for Sensitive Groups</td>
      <td>7.8400</td>
      <td>4.4860</td>
    </tr>
    <tr>
      <th>92</th>
      <td>Finland</td>
      <td>Imatra</td>
      <td>29</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>29</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>7</td>
      <td>Good</td>
      <td>61.1833</td>
      <td>28.7667</td>
    </tr>
    <tr>
      <th>93</th>
      <td>Brazil</td>
      <td>Indaial</td>
      <td>73</td>
      <td>Moderate</td>
      <td>2</td>
      <td>Good</td>
      <td>2</td>
      <td>Good</td>
      <td>8</td>
      <td>Good</td>
      <td>73</td>
      <td>Moderate</td>
      <td>-26.8978</td>
      <td>-49.2319</td>
    </tr>
    <tr>
      <th>94</th>
      <td>Philippines</td>
      <td>Indang</td>
      <td>50</td>
      <td>Good</td>
      <td>0</td>
      <td>Good</td>
      <td>24</td>
      <td>Good</td>
      <td>0</td>
      <td>Good</td>
      <td>50</td>
      <td>Good</td>
      <td>14.2000</td>
      <td>120.8833</td>
    </tr>
    <tr>
      <th>95</th>
      <td>Brazil</td>
      <td>Itagi</td>
      <td>25</td>
      <td>Good</td>
      <td>0</td>
      <td>Good</td>
      <td>9</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>25</td>
      <td>Good</td>
      <td>-14.1628</td>
      <td>-40.0058</td>
    </tr>
    <tr>
      <th>96</th>
      <td>Nigeria</td>
      <td>Iseyin</td>
      <td>90</td>
      <td>Moderate</td>
      <td>3</td>
      <td>Good</td>
      <td>18</td>
      <td>Good</td>
      <td>2</td>
      <td>Good</td>
      <td>90</td>
      <td>Moderate</td>
      <td>7.9667</td>
      <td>3.6000</td>
    </tr>
    <tr>
      <th>97</th>
      <td>Mexico</td>
      <td>Isla</td>
      <td>81</td>
      <td>Moderate</td>
      <td>2</td>
      <td>Good</td>
      <td>26</td>
      <td>Good</td>
      <td>3</td>
      <td>Good</td>
      <td>81</td>
      <td>Moderate</td>
      <td>18.0292</td>
      <td>-95.5264</td>
    </tr>
    <tr>
      <th>98</th>
      <td>Brazil</td>
      <td>Itaitinga</td>
      <td>29</td>
      <td>Good</td>
      <td>0</td>
      <td>Good</td>
      <td>20</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>29</td>
      <td>Good</td>
      <td>-3.9689</td>
      <td>-38.5278</td>
    </tr>
    <tr>
      <th>99</th>
      <td>Brazil</td>
      <td>Itapemirim</td>
      <td>44</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>16</td>
      <td>Good</td>
      <td>1</td>
      <td>Good</td>
      <td>44</td>
      <td>Good</td>
      <td>-21.0108</td>
      <td>-40.8339</td>
    </tr>
  </tbody>
</table>
        </div>
    </div>
    <div class="right-panel">
<div class="card-item">
            <span class="field-name">Group: Location</span>
            <div class="card-controls">
                <span class="circle">1</span>
                <span class="toggle">â–¼</span>
            </div>
            </div><div class="indent">
<div class="card-item">
            <span class="field-name">Group: Country</span>
            <div class="card-controls">
                <span class="circle">1</span>
                <span class="toggle">â–¼</span>
            </div>
            </div><div class="indent">
<div class="card-item">
            <span class="field-name">Column: Country</span>
            <div class="card-controls">
                <span class="circle">1</span>
                <span class="toggle">â–¼</span>
            </div>
            </div><div class="indent"><div id="bar_viz_Country"></div><b>Country</b> Nation where the city is located<br><span class="circle2">âœ“</span> <b>Country Data Type:</b> VARCHAR<br><span class="circle">!</span> <b>Country has 1.81% Missing Values</b><br></div></div>
<div class="card-item">
            <span class="field-name">Group: City</span>
            <div class="card-controls">
                <span class="circle">0</span>
                <span class="toggle">â–¼</span>
            </div>
            </div><div class="indent">
<div class="card-item">
            <span class="field-name">Column: City</span>
            <div class="card-controls">
                <span class="circle">0</span>
                <span class="toggle">â–¼</span>
            </div>
            </div><div class="indent"><div id="bar_viz_City"></div><b>City</b> Name of the city<br><span class="circle2">âœ“</span> <b>City Data Type:</b> VARCHAR<br></div></div>
<div class="card-item">
            <span class="field-name">Group: Coordinates</span>
            <div class="card-controls">
                <span class="circle">0</span>
                <span class="toggle">â–¼</span>
            </div>
            </div><div class="indent">
<div class="card-item">
            <span class="field-name">Group: Latitude</span>
            <div class="card-controls">
                <span class="circle">0</span>
                <span class="toggle">â–¼</span>
            </div>
            </div><div class="indent">
<div class="card-item">
            <span class="field-name">Column: lat</span>
            <div class="card-controls">
                <span class="circle">0</span>
                <span class="toggle">â–¼</span>
            </div>
            </div><div class="indent"><div id="hist_viz_lat"></div><b>lat</b> Latitude of the city<br><span class="circle2">âœ“</span> <b>lat Data Type:</b> DECIMAL<br></div></div>
<div class="card-item">
            <span class="field-name">Group: Longitude</span>
            <div class="card-controls">
                <span class="circle">0</span>
                <span class="toggle">â–¼</span>
            </div>
            </div><div class="indent">
<div class="card-item">
            <span class="field-name">Column: lng</span>
            <div class="card-controls">
                <span class="circle">0</span>
                <span class="toggle">â–¼</span>
            </div>
            </div><div class="indent"><div id="hist_viz_lng"></div><b>lng</b> Longitude of the city<br><span class="circle2">âœ“</span> <b>lng Data Type:</b> DECIMAL<br></div></div>
</div>
</div>
<div class="card-item">
            <span class="field-name">Group: AirQuality</span>
            <div class="card-controls">
                <span class="circle">0</span>
                <span class="toggle">â–¼</span>
            </div>
            </div><div class="indent">
<div class="card-item">
            <span class="field-name">Group: Overall</span>
            <div class="card-controls">
                <span class="circle">0</span>
                <span class="toggle">â–¼</span>
            </div>
            </div><div class="indent">
<div class="card-item">
            <span class="field-name">Group: Value</span>
            <div class="card-controls">
                <span class="circle">0</span>
                <span class="toggle">â–¼</span>
            </div>
            </div><div class="indent">
<div class="card-item">
            <span class="field-name">Column: AQI_Value</span>
            <div class="card-controls">
                <span class="circle">0</span>
                <span class="toggle">â–¼</span>
            </div>
            </div><div class="indent"><div id="hist_viz_AQI_Value"></div><b>AQI_Value</b> Overall Air Quality Index value<br><span class="circle2">âœ“</span> <b>AQI_Value Data Type:</b> INT<br></div></div>
<div class="card-item">
            <span class="field-name">Group: Category</span>
            <div class="card-controls">
                <span class="circle">0</span>
                <span class="toggle">â–¼</span>
            </div>
            </div><div class="indent">
<div class="card-item">
            <span class="field-name">Column: AQI_Category</span>
            <div class="card-controls">
                <span class="circle">0</span>
                <span class="toggle">â–¼</span>
            </div>
            </div><div class="indent"><div id="bar_viz_AQI_Category"></div><b>AQI_Category</b> General air quality classification<br><span class="circle2">âœ“</span> <b>AQI_Category Data Type:</b> VARCHAR<br></div></div>
</div>
<div class="card-item">
            <span class="field-name">Group: SpecificPollutants</span>
            <div class="card-controls">
                <span class="circle">0</span>
                <span class="toggle">â–¼</span>
            </div>
            </div><div class="indent">
<div class="card-item">
            <span class="field-name">Group: CarbonMonoxide</span>
            <div class="card-controls">
                <span class="circle">0</span>
                <span class="toggle">â–¼</span>
            </div>
            </div><div class="indent">
<div class="card-item">
            <span class="field-name">Group: Value</span>
            <div class="card-controls">
                <span class="circle">0</span>
                <span class="toggle">â–¼</span>
            </div>
            </div><div class="indent">
<div class="card-item">
            <span class="field-name">Column: CO_AQI_Value</span>
            <div class="card-controls">
                <span class="circle">0</span>
                <span class="toggle">â–¼</span>
            </div>
            </div><div class="indent"><div id="hist_viz_CO_AQI_Value"></div><b>CO_AQI_Value</b> Carbon monoxide AQI value<br><span class="circle2">âœ“</span> <b>CO_AQI_Value Data Type:</b> INT<br></div></div>
<div class="card-item">
            <span class="field-name">Group: Category</span>
            <div class="card-controls">
                <span class="circle">0</span>
                <span class="toggle">â–¼</span>
            </div>
            </div><div class="indent">
<div class="card-item">
            <span class="field-name">Column: CO_AQI_Category</span>
            <div class="card-controls">
                <span class="circle">0</span>
                <span class="toggle">â–¼</span>
            </div>
            </div><div class="indent"><div id="bar_viz_CO_AQI_Category"></div><b>CO_AQI_Category</b> Carbon monoxide air quality classification<br><span class="circle2">âœ“</span> <b>CO_AQI_Category Data Type:</b> VARCHAR<br></div></div>
</div>
<div class="card-item">
            <span class="field-name">Group: Ozone</span>
            <div class="card-controls">
                <span class="circle">0</span>
                <span class="toggle">â–¼</span>
            </div>
            </div><div class="indent">
<div class="card-item">
            <span class="field-name">Group: Value</span>
            <div class="card-controls">
                <span class="circle">0</span>
                <span class="toggle">â–¼</span>
            </div>
            </div><div class="indent">
<div class="card-item">
            <span class="field-name">Column: Ozone_AQI_Value</span>
            <div class="card-controls">
                <span class="circle">0</span>
                <span class="toggle">â–¼</span>
            </div>
            </div><div class="indent"><div id="hist_viz_Ozone_AQI_Value"></div><b>Ozone_AQI_Value</b> Ozone AQI value<br><span class="circle2">âœ“</span> <b>Ozone_AQI_Value Data Type:</b> INT<br></div></div>
<div class="card-item">
            <span class="field-name">Group: Category</span>
            <div class="card-controls">
                <span class="circle">0</span>
                <span class="toggle">â–¼</span>
            </div>
            </div><div class="indent">
<div class="card-item">
            <span class="field-name">Column: Ozone_AQI_Category</span>
            <div class="card-controls">
                <span class="circle">0</span>
                <span class="toggle">â–¼</span>
            </div>
            </div><div class="indent"><div id="bar_viz_Ozone_AQI_Category"></div><b>Ozone_AQI_Category</b> Ozone air quality classification<br><span class="circle2">âœ“</span> <b>Ozone_AQI_Category Data Type:</b> VARCHAR<br></div></div>
</div>
<div class="card-item">
            <span class="field-name">Group: NitrogenDioxide</span>
            <div class="card-controls">
                <span class="circle">0</span>
                <span class="toggle">â–¼</span>
            </div>
            </div><div class="indent">
<div class="card-item">
            <span class="field-name">Group: Value</span>
            <div class="card-controls">
                <span class="circle">0</span>
                <span class="toggle">â–¼</span>
            </div>
            </div><div class="indent">
<div class="card-item">
            <span class="field-name">Column: NO2_AQI_Value</span>
            <div class="card-controls">
                <span class="circle">0</span>
                <span class="toggle">â–¼</span>
            </div>
            </div><div class="indent"><div id="hist_viz_NO2_AQI_Value"></div><b>NO2_AQI_Value</b> Nitrogen dioxide AQI value<br><span class="circle2">âœ“</span> <b>NO2_AQI_Value Data Type:</b> INT<br></div></div>
<div class="card-item">
            <span class="field-name">Group: Category</span>
            <div class="card-controls">
                <span class="circle">0</span>
                <span class="toggle">â–¼</span>
            </div>
            </div><div class="indent">
<div class="card-item">
            <span class="field-name">Column: NO2_AQI_Category</span>
            <div class="card-controls">
                <span class="circle">0</span>
                <span class="toggle">â–¼</span>
            </div>
            </div><div class="indent"><div id="bar_viz_NO2_AQI_Category"></div><b>NO2_AQI_Category</b> Nitrogen dioxide air quality classification<br><span class="circle2">âœ“</span> <b>NO2_AQI_Category Data Type:</b> VARCHAR<br></div></div>
</div>
<div class="card-item">
            <span class="field-name">Group: FineParticulateMatter</span>
            <div class="card-controls">
                <span class="circle">0</span>
                <span class="toggle">â–¼</span>
            </div>
            </div><div class="indent">
<div class="card-item">
            <span class="field-name">Group: Value</span>
            <div class="card-controls">
                <span class="circle">0</span>
                <span class="toggle">â–¼</span>
            </div>
            </div><div class="indent">
<div class="card-item">
            <span class="field-name">Column: PM2_5_AQI_Value</span>
            <div class="card-controls">
                <span class="circle">0</span>
                <span class="toggle">â–¼</span>
            </div>
            </div><div class="indent"><div id="hist_viz_PM2_5_AQI_Value"></div><b>PM2_5_AQI_Value</b> Fine particulate matter AQI value<br><span class="circle2">âœ“</span> <b>PM2_5_AQI_Value Data Type:</b> INT<br></div></div>
<div class="card-item">
            <span class="field-name">Group: Category</span>
            <div class="card-controls">
                <span class="circle">0</span>
                <span class="toggle">â–¼</span>
            </div>
            </div><div class="indent">
<div class="card-item">
            <span class="field-name">Column: PM2_5_AQI_Category</span>
            <div class="card-controls">
                <span class="circle">0</span>
                <span class="toggle">â–¼</span>
            </div>
            </div><div class="indent"><div id="bar_viz_PM2_5_AQI_Category"></div><b>PM2_5_AQI_Category</b> Fine particulate matter air quality classification<br><span class="circle2">âœ“</span> <b>PM2_5_AQI_Category Data Type:</b> VARCHAR<br></div></div>
</div>
</div>
</div>

    </div>

    <div class="bottom-panel">
        <div class="container">
            <h2>Table Summary</h2>
        </div>
        <p style="font-size: 15px;">The table lists air quality information for different cities in various countries. Each row shows data for a city, including the <u>Country</u> it's in and the city's name under <u>City</u>. The overall air quality is given by <u>AQI_Value</u> and described by <u>AQI_Category</u>. Specific pollutants like carbon monoxide and ozone have their own values, <u>CO_AQI_Value</u> and <u>Ozone_AQI_Value</u>, and categories, <u>CO_AQI_Category</u> and <u>Ozone_AQI_Category</u>. Nitrogen dioxide and fine particulate matter are also measured, with <u>NO2_AQI_Value</u>, <u>NO2_AQI_Category</u>, <u>PM2_5_AQI_Value</u>, and <u>PM2_5_AQI_Category</u> showing their levels and health implications. The table also includes geographical coordinates with <u>lat</u> for latitude and <u>lng</u> for longitude, pinpointing each city's location.</p>
        <br>
        <h2>Column Grouping</h2>
        <div id="tree"></div>
        
        <h2>Column Summary</h2>
        <div class="table-container"><table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Column</th>
      <th>Summary</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Country</td>
      <td>Nation where the city is located</td>
    </tr>
    <tr>
      <th>1</th>
      <td>City</td>
      <td>Name of the city</td>
    </tr>
    <tr>
      <th>2</th>
      <td>AQI_Value</td>
      <td>Overall Air Quality Index value</td>
    </tr>
    <tr>
      <th>3</th>
      <td>AQI_Category</td>
      <td>General air quality classification</td>
    </tr>
    <tr>
      <th>4</th>
      <td>CO_AQI_Value</td>
      <td>Carbon monoxide AQI value</td>
    </tr>
    <tr>
      <th>5</th>
      <td>CO_AQI_Category</td>
      <td>Carbon monoxide air quality classification</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Ozone_AQI_Value</td>
      <td>Ozone AQI value</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Ozone_AQI_Category</td>
      <td>Ozone air quality classification</td>
    </tr>
    <tr>
      <th>8</th>
      <td>NO2_AQI_Value</td>
      <td>Nitrogen dioxide AQI value</td>
    </tr>
    <tr>
      <th>9</th>
      <td>NO2_AQI_Category</td>
      <td>Nitrogen dioxide air quality classification</td>
    </tr>
    <tr>
      <th>10</th>
      <td>PM2_5_AQI_Value</td>
      <td>Fine particulate matter AQI value</td>
    </tr>
    <tr>
      <th>11</th>
      <td>PM2_5_AQI_Category</td>
      <td>Fine particulate matter air quality classification</td>
    </tr>
    <tr>
      <th>12</th>
      <td>lat</td>
      <td>Latitude of the city</td>
    </tr>
    <tr>
      <th>13</th>
      <td>lng</td>
      <td>Longitude of the city</td>
    </tr>
  </tbody>
</table></div>
        <br>
        <h2>Data Type</h2> <table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Column</th>
      <th>Current Type</th>
      <th>Target Type</th>
      <th>Matched?</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Country</td>
      <td>VARCHAR</td>
      <td>VARCHAR</td>
      <td>âœ”ï¸ Yes</td>
    </tr>
    <tr>
      <th>1</th>
      <td>City</td>
      <td>VARCHAR</td>
      <td>VARCHAR</td>
      <td>âœ”ï¸ Yes</td>
    </tr>
    <tr>
      <th>2</th>
      <td>AQI_Value</td>
      <td>INT</td>
      <td>INT</td>
      <td>âœ”ï¸ Yes</td>
    </tr>
    <tr>
      <th>3</th>
      <td>AQI_Category</td>
      <td>VARCHAR</td>
      <td>VARCHAR</td>
      <td>âœ”ï¸ Yes</td>
    </tr>
    <tr>
      <th>4</th>
      <td>CO_AQI_Value</td>
      <td>INT</td>
      <td>INT</td>
      <td>âœ”ï¸ Yes</td>
    </tr>
    <tr>
      <th>5</th>
      <td>CO_AQI_Category</td>
      <td>VARCHAR</td>
      <td>VARCHAR</td>
      <td>âœ”ï¸ Yes</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Ozone_AQI_Value</td>
      <td>INT</td>
      <td>INT</td>
      <td>âœ”ï¸ Yes</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Ozone_AQI_Category</td>
      <td>VARCHAR</td>
      <td>VARCHAR</td>
      <td>âœ”ï¸ Yes</td>
    </tr>
    <tr>
      <th>8</th>
      <td>NO2_AQI_Value</td>
      <td>INT</td>
      <td>INT</td>
      <td>âœ”ï¸ Yes</td>
    </tr>
    <tr>
      <th>9</th>
      <td>NO2_AQI_Category</td>
      <td>VARCHAR</td>
      <td>VARCHAR</td>
      <td>âœ”ï¸ Yes</td>
    </tr>
    <tr>
      <th>10</th>
      <td>PM2_5_AQI_Value</td>
      <td>INT</td>
      <td>INT</td>
      <td>âœ”ï¸ Yes</td>
    </tr>
    <tr>
      <th>11</th>
      <td>PM2_5_AQI_Category</td>
      <td>VARCHAR</td>
      <td>VARCHAR</td>
      <td>âœ”ï¸ Yes</td>
    </tr>
    <tr>
      <th>12</th>
      <td>lat</td>
      <td>DECIMAL</td>
      <td>DECIMAL</td>
      <td>âœ”ï¸ Yes</td>
    </tr>
    <tr>
      <th>13</th>
      <td>lng</td>
      <td>DECIMAL</td>
      <td>DECIMAL</td>
      <td>âœ”ï¸ Yes</td>
    </tr>
  </tbody>
</table> <br><h2>Missing Value</h2> <table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Column</th>
      <th>NULL (%)</th>
      <th>Is NULL Acceptable?</th>
      <th>Explanation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Country</td>
      <td>1.81</td>
      <td>False</td>
      <td></td>
    </tr>
  </tbody>
</table> <br><h2>Column Uniqueness</h2> <table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Column</th>
      <th>Is Unique</th>
      <th>Should be Unique?</th>
      <th>Explanation</th>
    </tr>
  </thead>
  <tbody>
  </tbody>
</table> <br><h2>Column Range</h2> <table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Column</th>
      <th>True Range</th>
      <th>Expected Range</th>
      <th>Explanation</th>
      <th>Within Range?</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>AQI_Value</td>
      <td>[7, 500]</td>
      <td>[0, 500]</td>
      <td>AQI scale range</td>
      <td>âœ”ï¸ Yes</td>
    </tr>
    <tr>
      <th>1</th>
      <td>CO_AQI_Value</td>
      <td>[0, 133]</td>
      <td>[0, 50]</td>
      <td>CO AQI scale range</td>
      <td>âŒ No</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Ozone_AQI_Value</td>
      <td>[0, 222]</td>
      <td>[0, 300]</td>
      <td>Ozone AQI scale range</td>
      <td>âœ”ï¸ Yes</td>
    </tr>
    <tr>
      <th>3</th>
      <td>NO2_AQI_Value</td>
      <td>[0, 91]</td>
      <td>[0, 200]</td>
      <td>NO2 AQI scale range</td>
      <td>âœ”ï¸ Yes</td>
    </tr>
    <tr>
      <th>4</th>
      <td>PM2_5_AQI_Value</td>
      <td>[0, 500]</td>
      <td>[0, 500]</td>
      <td>PM2.5 AQI scale range</td>
      <td>âœ”ï¸ Yes</td>
    </tr>
    <tr>
      <th>5</th>
      <td>lat</td>
      <td>[-54.8019, 70.767]</td>
      <td>[-90, 90]</td>
      <td>latitude range</td>
      <td>âœ”ï¸ Yes</td>
    </tr>
    <tr>
      <th>6</th>
      <td>lng</td>
      <td>[-171.75, 178.0178]</td>
      <td>[-180, 180]</td>
      <td>longitude range</td>
      <td>âœ”ï¸ Yes</td>
    </tr>
  </tbody>
</table> <br>
    </div>
</div>

<script src="https://d3js.org/d3.v6.min.js"  charset="utf-8"></script>
<script src="https://d3js.org/topojson.v3.min.js"></script>
<script>
    document.querySelectorAll('.card-item').forEach(function(card) {
        card.addEventListener('click', function() {
            var indent = this.nextElementSibling;
            var toggle = this.querySelector('.toggle');
            if (indent.style.display === "block") {
                indent.style.display = "none";
                toggle.textContent = 'â–¼';
                this.classList.remove('card-item-collapsed');
            } else {
                indent.style.display = "block";
                toggle.textContent = 'â–²';
                this.classList.add('card-item-collapsed');
            }
        });
    });
</script>
<script>

    const structuredData = {
    "name": "Location",
    "children": [
        {
            "name": "Country",
            "children": [
                {
                    "name": "[Country]"
                }
            ]
        },
        {
            "name": "City",
            "children": [
                {
                    "name": "[City]"
                }
            ]
        },
        {
            "name": "Coordinates",
            "children": [
                {
                    "name": "Latitude",
                    "children": [
                        {
                            "name": "[lat]"
                        }
                    ]
                },
                {
                    "name": "Longitude",
                    "children": [
                        {
                            "name": "[lng]"
                        }
                    ]
                }
            ]
        }
    ]
};

    const treeLayout = d3.tree().size([120, 455]);

    const root = d3.hierarchy(structuredData);
    root.x0 = 0;
    root.y0 = 0;

    const svg = d3.select('#tree').append('svg')
        .attr('width',  1100)
        .attr('height', 190);

    const g = svg.append('g')
        .attr('transform', 'translate(50,50)');

    update(root);

    function update(source) {
        const duration = 750;

        // Re-compute the tree layout
        treeLayout(root);

        // Determine the leftmost node's y-position to adjust the tree positioning
        let leftmostNode = root;
        root.each(d => {
            if (d.y < leftmostNode.y) {
                leftmostNode = d;
            }
        });
        const shiftX = -leftmostNode.y + 50;

        const nodes = root.descendants();
        const links = root.links();

        const node = g.selectAll('.node')
            .data(nodes, d => d.id || (d.id = Math.random()));

        const nodeEnter = node.enter().append('g')
            .attr('class', 'node')
            .attr('transform', d => `translate(${source.y0 + shiftX},${source.x0})`)
            .on('click', click);

        nodeEnter.append('circle')
            .attr('r', 1e-6)
            .style('fill', d => d._children ? 'lightgreen' : '#fff');

        nodeEnter.append('text')
            .attr('dy', '0.35em')
            .attr('x', d => d.children || d._children ? -13 : 13)
            .style('text-anchor', d => d.children || d._children ? 'end' : 'start')
            .text(d => d.data.name);

        const nodeUpdate = nodeEnter.merge(node);

        nodeUpdate.transition()
            .duration(duration)
            .attr('transform', d => `translate(${d.y + shiftX},${d.x})`);

        nodeUpdate.select('circle')
            .attr('r', 5)
            .style('fill', d => d._children ? 'lightgreen' : '#fff');

        const nodeExit = node.exit().transition()
            .duration(duration)
            .attr('transform', d => `translate(${source.y + shiftX},${source.x})`)
            .remove();

        nodeExit.select('circle')
            .attr('r', 1e-6);

        nodeExit.select('text')
            .style('fill-opacity', 1e-6);

        const link = g.selectAll('.link')
            .data(links, d => d.target.id);

        const linkEnter = link.enter().insert('path', 'g')
            .attr('class', 'link')
            .attr('d', d => {
                const o = { x: source.x0, y: source.y0 };
                return diagonal(o, o);
            });

        const linkUpdate = linkEnter.merge(link);

        linkUpdate.transition()
            .duration(duration)
            .attr('d', d => diagonal(d.source, d.target));

        link.exit().transition()
            .duration(duration)
            .attr('d', d => {
                const o = { x: source.x, y: source.y };
                return diagonal(o, o);
            })
            .remove();


        // Update the positional attributes of each node for the next transition.
        nodes.forEach(d => {
            d.x0 = d.x;
            d.y0 = d.y;
        });

        function diagonal(s, d) {
            const path = `M ${s.y + shiftX} ${s.x}
                C ${(s.y + d.y) / 2 + shiftX} ${s.x},
                ${(s.y + d.y) / 2 + shiftX} ${d.x},
                ${d.y + shiftX} ${d.x}`;

            return path;
        }

    }

    function click(event, d) {
        if (d.children) {
            d._children = d.children;
            d.children = null;
        } else {
            d.children = d._children;
            d._children = null;
        }
        update(d);
    }
</script>
<script>
    function drawBarChart(divId, data) {
      const margin = {top: 10, right: 10, bottom: 25, left: 100},
            width = 300 - margin.left - margin.right,
            height = 100 - margin.top - margin.bottom;

      const targetDiv = d3.select("#" + divId);
      targetDiv.classed("bar-chart-container", true);

      const svg = targetDiv
                    .append("svg")
                      .attr("width", width + margin.left + margin.right)
                      .attr("height", height + margin.top + margin.bottom)
                    .append("g")
                      .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

      const y = d3.scaleBand()
                  .range([0, height])
                  .domain(data.map(d => d.label))
                  .padding(0.1);

      const x = d3.scaleLinear()
                  .domain([0, d3.max(data, d => d.value)])  // Percent scale
                  .range([0, width]);

      svg.append("g")
         .call(d3.axisLeft(y));

      svg.selectAll(".bar")
         .data(data)
         .enter().append("rect")
           .attr("class", "bar")
           .attr("y", d => y(d.label))
           .attr("height", y.bandwidth())
           .attr("x", 0)
           .attr("width", d => x(d.value))
           .attr("fill", "steelblue");

      svg.append("g")
         .attr("transform", "translate(0," + height + ")")
         .call(d3.axisBottom(x).ticks(5).tickFormat(d => d + "%"));
    }
    
    function drawHistogram(divId, data, binWidth) {
      const margin = {top: 10, right: 10, bottom: 20, left: 40},
            width = 300 - margin.left - margin.right,
            height = 100 - margin.top - margin.bottom;
            
      const targetDiv = d3.select("#" + divId);
      targetDiv.classed("histogram-container", true);

      const svg = targetDiv
                    .append("svg")
                      .attr("width", width + margin.left + margin.right)
                      .attr("height", height + margin.top + margin.bottom)
                    .append("g")
                      .attr("transform", "translate(" + margin.left + "," + margin.top + ")");

      const x = d3.scaleLinear()
                  .domain([d3.min(data, d => d.x) - binWidth, d3.max(data, d => d.x) + binWidth])
                  .range([0, width]);

      const y = d3.scaleLinear()
                  .domain([0, d3.max(data, d => d.y) * 1.1]) // Increase the y-axis limit by 10% for margin
                  .range([height, 0]);

      const xAxis = d3.axisBottom(x).ticks(5);
      const yAxis = d3.axisLeft(y).ticks(5);

      svg.append("g")
         .attr("transform", "translate(0," + height + ")")
         .call(xAxis)

      svg.append("g")
         .call(yAxis)

      svg.selectAll("rect")
         .data(data)
         .enter().append("rect")
           .attr("x", d => x(d.x - binWidth / 2))
           .attr("y", d => y(d.y))
           .attr("width", x(binWidth) - x(0))
           .attr("height", d => height - y(d.y))
           .attr("fill", "steelblue");
    }
    
    function drawMap(divId, coordinates) {
      const targetDiv = d3.select("#" + divId);
      targetDiv.classed("map-container", true);

      const width = 300;
      const height = 200;
      const projection = d3.geoNaturalEarth1()
          .scale(width / 1.5 / Math.PI)
          .translate([width / 2, height / 2]);
      const path = d3.geoPath().projection(projection);

      const svg = targetDiv.append("svg")
          .attr("width", width)
          .attr("height", height);

      d3.json("https://raw.githubusercontent.com/holtzy/D3-graph-gallery/master/DATA/world.geojson").then(data => {
        // Draw the map
        svg.append("g")
          .selectAll("path")
          .data(data.features)
          .join("path")
              .attr("fill", "#ccc")
              .attr("d", path)
              .style("stroke", "#fff");

        // Plotting the points
        coordinates.forEach(coords => {
          svg.append("circle")
            .attr("cx", projection(coords)[0])
            .attr("cy", projection(coords)[1])
            .attr("r", 2)
            .attr("fill", "red");
        });
      });
    }
    
    let data = [];
    let binWidth = 5;
    data = [{'label': 'United States o...', 'value': 24.120051241383518}, {'label': 'Germany', 'value': 6.539376563167205}, {'label': 'Brazil', 'value': 5.429146586957848}, {'label': 'Russian Federat...', 'value': 5.423046422253401}, {'label': 'Italy', 'value': 5.282742634051119}, {'label': 'Other values', 'value': 53.20563655218691}];
            drawBarChart("bar_viz_Country", data);
        data = [{'label': 'Santa Cruz', 'value': 0.10182689427972447}, {'label': 'San Fernando', 'value': 0.09583707696915245}, {'label': 'Santa Ana', 'value': 0.08984725965858043}, {'label': 'San Juan', 'value': 0.08385744234800838}, {'label': 'San Isidro', 'value': 0.07187780772686433}, {'label': 'Other values', 'value': 99.55675351901768}];
            drawBarChart("bar_viz_City", data);
        data = [{'x': -51.6626775, 'y': 2}, {'x': -45.38423250000001, 'y': 13}, {'x': -39.105787500000005, 'y': 100}, {'x': -32.8273425, 'y': 217}, {'x': -26.548897500000006, 'y': 302}, {'x': -20.270452500000005, 'y': 469}, {'x': -13.992007500000003, 'y': 259}, {'x': -7.713562500000005, 'y': 426}, {'x': -1.4351175000000076, 'y': 408}, {'x': 4.84332749999999, 'y': 544}, {'x': 11.121772499999992, 'y': 998}, {'x': 17.400217499999997, 'y': 911}, {'x': 23.678662499999994, 'y': 806}, {'x': 29.957107499999992, 'y': 926}, {'x': 36.23555249999999, 'y': 2244}, {'x': 42.51399749999999, 'y': 3607}, {'x': 48.79244249999999, 'y': 2711}, {'x': 55.07088749999999, 'y': 1465}, {'x': 61.34933249999999, 'y': 236}, {'x': 67.6277775, 'y': 51}];
            binWidth = 6.278444999999998;
            drawHistogram("hist_viz_lat", data, binWidth);
        data = [{'x': -163.005805, 'y': 18}, {'x': -145.517415, 'y': 4}, {'x': -128.029025, 'y': 355}, {'x': -110.54063500000001, 'y': 591}, {'x': -93.052245, 'y': 1741}, {'x': -75.563855, 'y': 2594}, {'x': -58.075465, 'y': 464}, {'x': -40.587075000000006, 'y': 664}, {'x': -23.098685000000003, 'y': 48}, {'x': -5.610295000000008, 'y': 1365}, {'x': 11.878094999999988, 'y': 3493}, {'x': 29.366484999999997, 'y': 1327}, {'x': 46.85487499999999, 'y': 652}, {'x': 64.34326499999999, 'y': 316}, {'x': 81.831655, 'y': 898}, {'x': 99.320045, 'y': 438}, {'x': 116.80843499999997, 'y': 908}, {'x': 134.29682499999998, 'y': 672}, {'x': 151.785215, 'y': 116}, {'x': 169.27360499999998, 'y': 31}];
            binWidth = 17.48839000000001;
            drawHistogram("hist_viz_lng", data, binWidth);
        data = [{'x': 19.325, 'y': 1925}, {'x': 43.974999999999994, 'y': 7822}, {'x': 68.625, 'y': 4064}, {'x': 93.27499999999999, 'y': 1098}, {'x': 117.925, 'y': 490}, {'x': 142.575, 'y': 448}, {'x': 167.22499999999997, 'y': 495}, {'x': 191.875, 'y': 185}, {'x': 216.52499999999998, 'y': 52}, {'x': 241.175, 'y': 27}, {'x': 265.825, 'y': 18}, {'x': 290.47499999999997, 'y': 10}, {'x': 315.125, 'y': 17}, {'x': 339.775, 'y': 2}, {'x': 364.42499999999995, 'y': 7}, {'x': 389.075, 'y': 4}, {'x': 413.72499999999997, 'y': 2}, {'x': 438.375, 'y': 2}, {'x': 463.025, 'y': 0}, {'x': 487.67499999999995, 'y': 27}];
            binWidth = 24.65;
            drawHistogram("hist_viz_AQI_Value", data, binWidth);
        data = [{'label': 'Good', 'value': 46.16951182988919}, {'label': 'Moderate', 'value': 42.25217130877508}, {'label': 'Unhealthy', 'value': 5.217130877508236}, {'label': 'Unhealthy for S...', 'value': 5.205151242887092}, {'label': 'Very Unhealthy', 'value': 0.7846660676849356}, {'label': 'Hazardous', 'value': 0.3713686732554657}];
            drawBarChart("bar_viz_AQI_Category", data);
        data = [{'x': 3.325, 'y': 16537}, {'x': 9.975000000000001, 'y': 110}, {'x': 16.625, 'y': 29}, {'x': 23.275000000000002, 'y': 7}, {'x': 29.925, 'y': 4}, {'x': 36.575, 'y': 2}, {'x': 43.22500000000001, 'y': 1}, {'x': 49.875, 'y': 1}, {'x': 56.525000000000006, 'y': 0}, {'x': 63.175, 'y': 0}, {'x': 69.825, 'y': 1}, {'x': 76.47500000000001, 'y': 0}, {'x': 83.125, 'y': 0}, {'x': 89.775, 'y': 0}, {'x': 96.42500000000001, 'y': 0}, {'x': 103.075, 'y': 0}, {'x': 109.72500000000001, 'y': 0}, {'x': 116.375, 'y': 0}, {'x': 123.025, 'y': 0}, {'x': 129.675, 'y': 3}];
            binWidth = 6.65;
            drawHistogram("hist_viz_CO_AQI_Value", data, binWidth);
        data = [{'label': 'Good', 'value': 99.9760407307577}, {'label': 'Unhealthy for S...', 'value': 0.017969451931716084}, {'label': 'Moderate', 'value': 0.005989817310572028}];
            drawBarChart("bar_viz_CO_AQI_Category", data);
        data = [{'x': 5.55, 'y': 1676}, {'x': 16.65, 'y': 3376}, {'x': 27.75, 'y': 5550}, {'x': 38.849999999999994, 'y': 3927}, {'x': 49.95, 'y': 1196}, {'x': 61.05, 'y': 291}, {'x': 72.15, 'y': 173}, {'x': 83.25, 'y': 84}, {'x': 94.35, 'y': 62}, {'x': 105.44999999999999, 'y': 36}, {'x': 116.55, 'y': 43}, {'x': 127.64999999999999, 'y': 45}, {'x': 138.75, 'y': 38}, {'x': 149.85, 'y': 37}, {'x': 160.95, 'y': 58}, {'x': 172.05, 'y': 42}, {'x': 183.14999999999998, 'y': 24}, {'x': 194.25, 'y': 9}, {'x': 205.35, 'y': 26}, {'x': 216.45, 'y': 2}];
            binWidth = 11.1;
            drawHistogram("hist_viz_Ozone_AQI_Value", data, binWidth);
        data = [{'label': 'Good', 'value': 93.01587301587301}, {'label': 'Moderate', 'value': 4.827792752321054}, {'label': 'Unhealthy for S...', 'value': 1.0542078466606768}, {'label': 'Unhealthy', 'value': 0.9523809523809524}, {'label': 'Very Unhealthy', 'value': 0.1497454327643007}];
            drawBarChart("bar_viz_Ozone_AQI_Category", data);
        data = [{'x': 2.275, 'y': 12391}, {'x': 6.824999999999999, 'y': 2403}, {'x': 11.375, 'y': 784}, {'x': 15.924999999999999, 'y': 514}, {'x': 20.475, 'y': 258}, {'x': 25.025, 'y': 149}, {'x': 29.574999999999996, 'y': 94}, {'x': 34.125, 'y': 60}, {'x': 38.675, 'y': 17}, {'x': 43.224999999999994, 'y': 5}, {'x': 47.775, 'y': 9}, {'x': 52.324999999999996, 'y': 5}, {'x': 56.875, 'y': 2}, {'x': 61.425, 'y': 1}, {'x': 65.975, 'y': 1}, {'x': 70.525, 'y': 1}, {'x': 75.07499999999999, 'y': 0}, {'x': 79.625, 'y': 0}, {'x': 84.175, 'y': 0}, {'x': 88.725, 'y': 1}];
            binWidth = 4.55;
            drawHistogram("hist_viz_NO2_AQI_Value", data, binWidth);
        data = [{'label': 'Good', 'value': 99.93411200958371}, {'label': 'Moderate', 'value': 0.0658879904162923}];
            drawBarChart("bar_viz_NO2_AQI_Category", data);
        data = [{'x': 12.5, 'y': 2076}, {'x': 37.5, 'y': 5447}, {'x': 62.5, 'y': 5797}, {'x': 87.5, 'y': 1498}, {'x': 112.5, 'y': 566}, {'x': 137.5, 'y': 315}, {'x': 162.5, 'y': 634}, {'x': 187.5, 'y': 192}, {'x': 212.5, 'y': 50}, {'x': 237.5, 'y': 30}, {'x': 262.5, 'y': 21}, {'x': 287.5, 'y': 16}, {'x': 312.5, 'y': 12}, {'x': 337.5, 'y': 3}, {'x': 362.5, 'y': 4}, {'x': 387.5, 'y': 7}, {'x': 412.5, 'y': 2}, {'x': 437.5, 'y': 8}, {'x': 462.5, 'y': 5}, {'x': 487.5, 'y': 12}];
            binWidth = 25.0;
            drawHistogram("hist_viz_PM2_5_AQI_Value", data, binWidth);
        data = [{'label': 'Good', 'value': 47.53519017669961}, {'label': 'Moderate', 'value': 41.22192273135669}, {'label': 'Unhealthy for S...', 'value': 5.277029050613956}, {'label': 'Unhealthy', 'value': 4.959568733153639}, {'label': 'Very Unhealthy', 'value': 0.6888289907157832}, {'label': 'Hazardous', 'value': 0.31746031746031744}];
            drawBarChart("bar_viz_PM2_5_AQI_Category", data);
        

</script>
</body>
</html>
